/*! For license information please see 5162.10d369c8.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkxterio=self.webpackChunkxterio||[]).push([[5162],{"./node_modules/@ethersproject/abi/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AbiCoder:()=>_abi_coder__WEBPACK_IMPORTED_MODULE_1__.R,ConstructorFragment:()=>_fragments__WEBPACK_IMPORTED_MODULE_0__.Xg,ErrorFragment:()=>_fragments__WEBPACK_IMPORTED_MODULE_0__.IC,EventFragment:()=>_fragments__WEBPACK_IMPORTED_MODULE_0__.QV,FormatTypes:()=>_fragments__WEBPACK_IMPORTED_MODULE_0__.pc,Fragment:()=>_fragments__WEBPACK_IMPORTED_MODULE_0__.HY,FunctionFragment:()=>_fragments__WEBPACK_IMPORTED_MODULE_0__.YW,Indexed:()=>_interface__WEBPACK_IMPORTED_MODULE_2__.Hk,Interface:()=>_interface__WEBPACK_IMPORTED_MODULE_2__.vU,LogDescription:()=>_interface__WEBPACK_IMPORTED_MODULE_2__.CC,ParamType:()=>_fragments__WEBPACK_IMPORTED_MODULE_0__._R,TransactionDescription:()=>_interface__WEBPACK_IMPORTED_MODULE_2__.vk,checkResultErrors:()=>_interface__WEBPACK_IMPORTED_MODULE_3__.BR,defaultAbiCoder:()=>_abi_coder__WEBPACK_IMPORTED_MODULE_1__.$});var _fragments__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/fragments.js"),_abi_coder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),_interface__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/interface.js"),_interface__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js")},"./node_modules/@ethersproject/abi/lib.esm/interface.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{CC:()=>LogDescription,Hk:()=>Indexed,vU:()=>Interface,vk:()=>TransactionDescription});var _ethersproject_address__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js"),_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_hash__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/id.js"),_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),_abi_coder__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),_fragments__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/fragments.js"),_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js"),_version__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/_version.js");const logger=new _ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger(_version__WEBPACK_IMPORTED_MODULE_1__.i);class LogDescription extends _ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.Description{}class TransactionDescription extends _ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.Description{}class ErrorDescription extends _ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.Description{}class Indexed extends _ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.Description{static isIndexed(value){return!(!value||!value._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(property,error){const wrap=new Error(`deferred error during ABI decoding triggered accessing ${property}`);return wrap.error=error,wrap}class Interface{constructor(fragments){let abi=[];abi="string"==typeof fragments?JSON.parse(fragments):fragments,(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"fragments",abi.map((fragment=>_fragments__WEBPACK_IMPORTED_MODULE_3__.HY.from(fragment))).filter((fragment=>null!=fragment))),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"_abiCoder",(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.getStatic)(new.target,"getAbiCoder")()),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"functions",{}),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"errors",{}),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"events",{}),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"structs",{}),this.fragments.forEach((fragment=>{let bucket=null;switch(fragment.type){case"constructor":return this.deploy?void logger.warn("duplicate definition - constructor"):void(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"deploy",fragment);case"function":bucket=this.functions;break;case"event":bucket=this.events;break;case"error":bucket=this.errors;break;default:return}let signature=fragment.format();bucket[signature]?logger.warn("duplicate definition - "+signature):bucket[signature]=fragment})),this.deploy||(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"deploy",_fragments__WEBPACK_IMPORTED_MODULE_3__.Xg.from({payable:!1,type:"constructor"})),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"_isInterface",!0)}format(format){format||(format=_fragments__WEBPACK_IMPORTED_MODULE_3__.pc.full),format===_fragments__WEBPACK_IMPORTED_MODULE_3__.pc.sighash&&logger.throwArgumentError("interface does not support formatting sighash","format",format);const abi=this.fragments.map((fragment=>fragment.format(format)));return format===_fragments__WEBPACK_IMPORTED_MODULE_3__.pc.json?JSON.stringify(abi.map((j=>JSON.parse(j)))):abi}static getAbiCoder(){return _abi_coder__WEBPACK_IMPORTED_MODULE_4__.$}static getAddress(address){return(0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_5__.getAddress)(address)}static getSighash(fragment){return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexDataSlice)((0,_ethersproject_hash__WEBPACK_IMPORTED_MODULE_7__.id)(fragment.format()),0,4)}static getEventTopic(eventFragment){return(0,_ethersproject_hash__WEBPACK_IMPORTED_MODULE_7__.id)(eventFragment.format())}getFunction(nameOrSignatureOrSighash){if((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.isHexString)(nameOrSignatureOrSighash)){for(const name in this.functions)if(nameOrSignatureOrSighash===this.getSighash(name))return this.functions[name];logger.throwArgumentError("no matching function","sighash",nameOrSignatureOrSighash)}if(-1===nameOrSignatureOrSighash.indexOf("(")){const name=nameOrSignatureOrSighash.trim(),matching=Object.keys(this.functions).filter((f=>f.split("(")[0]===name));return 0===matching.length?logger.throwArgumentError("no matching function","name",name):matching.length>1&&logger.throwArgumentError("multiple matching functions","name",name),this.functions[matching[0]]}const result=this.functions[_fragments__WEBPACK_IMPORTED_MODULE_3__.YW.fromString(nameOrSignatureOrSighash).format()];return result||logger.throwArgumentError("no matching function","signature",nameOrSignatureOrSighash),result}getEvent(nameOrSignatureOrTopic){if((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.isHexString)(nameOrSignatureOrTopic)){const topichash=nameOrSignatureOrTopic.toLowerCase();for(const name in this.events)if(topichash===this.getEventTopic(name))return this.events[name];logger.throwArgumentError("no matching event","topichash",topichash)}if(-1===nameOrSignatureOrTopic.indexOf("(")){const name=nameOrSignatureOrTopic.trim(),matching=Object.keys(this.events).filter((f=>f.split("(")[0]===name));return 0===matching.length?logger.throwArgumentError("no matching event","name",name):matching.length>1&&logger.throwArgumentError("multiple matching events","name",name),this.events[matching[0]]}const result=this.events[_fragments__WEBPACK_IMPORTED_MODULE_3__.QV.fromString(nameOrSignatureOrTopic).format()];return result||logger.throwArgumentError("no matching event","signature",nameOrSignatureOrTopic),result}getError(nameOrSignatureOrSighash){if((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.isHexString)(nameOrSignatureOrSighash)){const getSighash=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.getStatic)(this.constructor,"getSighash");for(const name in this.errors){if(nameOrSignatureOrSighash===getSighash(this.errors[name]))return this.errors[name]}logger.throwArgumentError("no matching error","sighash",nameOrSignatureOrSighash)}if(-1===nameOrSignatureOrSighash.indexOf("(")){const name=nameOrSignatureOrSighash.trim(),matching=Object.keys(this.errors).filter((f=>f.split("(")[0]===name));return 0===matching.length?logger.throwArgumentError("no matching error","name",name):matching.length>1&&logger.throwArgumentError("multiple matching errors","name",name),this.errors[matching[0]]}const result=this.errors[_fragments__WEBPACK_IMPORTED_MODULE_3__.YW.fromString(nameOrSignatureOrSighash).format()];return result||logger.throwArgumentError("no matching error","signature",nameOrSignatureOrSighash),result}getSighash(fragment){if("string"==typeof fragment)try{fragment=this.getFunction(fragment)}catch(error){try{fragment=this.getError(fragment)}catch(_){throw error}}return(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.getStatic)(this.constructor,"getSighash")(fragment)}getEventTopic(eventFragment){return"string"==typeof eventFragment&&(eventFragment=this.getEvent(eventFragment)),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.getStatic)(this.constructor,"getEventTopic")(eventFragment)}_decodeParams(params,data){return this._abiCoder.decode(params,data)}_encodeParams(params,values){return this._abiCoder.encode(params,values)}encodeDeploy(values){return this._encodeParams(this.deploy.inputs,values||[])}decodeErrorResult(fragment,data){"string"==typeof fragment&&(fragment=this.getError(fragment));const bytes=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(data);return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(bytes.slice(0,4))!==this.getSighash(fragment)&&logger.throwArgumentError(`data signature does not match error ${fragment.name}.`,"data",(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(bytes)),this._decodeParams(fragment.inputs,bytes.slice(4))}encodeErrorResult(fragment,values){return"string"==typeof fragment&&(fragment=this.getError(fragment)),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.concat)([this.getSighash(fragment),this._encodeParams(fragment.inputs,values||[])]))}decodeFunctionData(functionFragment,data){"string"==typeof functionFragment&&(functionFragment=this.getFunction(functionFragment));const bytes=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(data);return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(bytes.slice(0,4))!==this.getSighash(functionFragment)&&logger.throwArgumentError(`data signature does not match function ${functionFragment.name}.`,"data",(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(bytes)),this._decodeParams(functionFragment.inputs,bytes.slice(4))}encodeFunctionData(functionFragment,values){return"string"==typeof functionFragment&&(functionFragment=this.getFunction(functionFragment)),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.concat)([this.getSighash(functionFragment),this._encodeParams(functionFragment.inputs,values||[])]))}decodeFunctionResult(functionFragment,data){"string"==typeof functionFragment&&(functionFragment=this.getFunction(functionFragment));let bytes=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(data),reason=null,message="",errorArgs=null,errorName=null,errorSignature=null;switch(bytes.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(functionFragment.outputs,bytes)}catch(error){}break;case 4:{const selector=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(bytes.slice(0,4)),builtin=BuiltinErrors[selector];if(builtin)errorArgs=this._abiCoder.decode(builtin.inputs,bytes.slice(4)),errorName=builtin.name,errorSignature=builtin.signature,builtin.reason&&(reason=errorArgs[0]),"Error"===errorName?message=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(errorArgs[0])}`:"Panic"===errorName&&(message=`; VM Exception while processing transaction: reverted with panic code ${errorArgs[0]}`);else try{const error=this.getError(selector);errorArgs=this._abiCoder.decode(error.inputs,bytes.slice(4)),errorName=error.name,errorSignature=error.format()}catch(error){}break}}return logger.throwError("call revert exception"+message,_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.CALL_EXCEPTION,{method:functionFragment.format(),data:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(data),errorArgs,errorName,errorSignature,reason})}encodeFunctionResult(functionFragment,values){return"string"==typeof functionFragment&&(functionFragment=this.getFunction(functionFragment)),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(this._abiCoder.encode(functionFragment.outputs,values||[]))}encodeFilterTopics(eventFragment,values){"string"==typeof eventFragment&&(eventFragment=this.getEvent(eventFragment)),values.length>eventFragment.inputs.length&&logger.throwError("too many arguments for "+eventFragment.format(),_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:values});let topics=[];eventFragment.anonymous||topics.push(this.getEventTopic(eventFragment));const encodeTopic=(param,value)=>"string"===param.type?(0,_ethersproject_hash__WEBPACK_IMPORTED_MODULE_7__.id)(value):"bytes"===param.type?(0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_8__.keccak256)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value)):("bool"===param.type&&"boolean"==typeof value&&(value=value?"0x01":"0x00"),param.type.match(/^u?int/)&&(value=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_9__.O$.from(value).toHexString()),"address"===param.type&&this._abiCoder.encode(["address"],[value]),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexZeroPad)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value),32));for(values.forEach(((value,index)=>{let param=eventFragment.inputs[index];param.indexed?null==value?topics.push(null):"array"===param.baseType||"tuple"===param.baseType?logger.throwArgumentError("filtering with tuples or arrays not supported","contract."+param.name,value):Array.isArray(value)?topics.push(value.map((value=>encodeTopic(param,value)))):topics.push(encodeTopic(param,value)):null!=value&&logger.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+param.name,value)}));topics.length&&null===topics[topics.length-1];)topics.pop();return topics}encodeEventLog(eventFragment,values){"string"==typeof eventFragment&&(eventFragment=this.getEvent(eventFragment));const topics=[],dataTypes=[],dataValues=[];return eventFragment.anonymous||topics.push(this.getEventTopic(eventFragment)),values.length!==eventFragment.inputs.length&&logger.throwArgumentError("event arguments/values mismatch","values",values),eventFragment.inputs.forEach(((param,index)=>{const value=values[index];if(param.indexed)if("string"===param.type)topics.push((0,_ethersproject_hash__WEBPACK_IMPORTED_MODULE_7__.id)(value));else if("bytes"===param.type)topics.push((0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_8__.keccak256)(value));else{if("tuple"===param.baseType||"array"===param.baseType)throw new Error("not implemented");topics.push(this._abiCoder.encode([param.type],[value]))}else dataTypes.push(param),dataValues.push(value)})),{data:this._abiCoder.encode(dataTypes,dataValues),topics}}decodeEventLog(eventFragment,data,topics){if("string"==typeof eventFragment&&(eventFragment=this.getEvent(eventFragment)),null!=topics&&!eventFragment.anonymous){let topicHash=this.getEventTopic(eventFragment);(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.isHexString)(topics[0],32)&&topics[0].toLowerCase()===topicHash||logger.throwError("fragment/topic mismatch",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:topicHash,value:topics[0]}),topics=topics.slice(1)}let indexed=[],nonIndexed=[],dynamic=[];eventFragment.inputs.forEach(((param,index)=>{param.indexed?"string"===param.type||"bytes"===param.type||"tuple"===param.baseType||"array"===param.baseType?(indexed.push(_fragments__WEBPACK_IMPORTED_MODULE_3__._R.fromObject({type:"bytes32",name:param.name})),dynamic.push(!0)):(indexed.push(param),dynamic.push(!1)):(nonIndexed.push(param),dynamic.push(!1))}));let resultIndexed=null!=topics?this._abiCoder.decode(indexed,(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.concat)(topics)):null,resultNonIndexed=this._abiCoder.decode(nonIndexed,data,!0),result=[],nonIndexedIndex=0,indexedIndex=0;eventFragment.inputs.forEach(((param,index)=>{if(param.indexed)if(null==resultIndexed)result[index]=new Indexed({_isIndexed:!0,hash:null});else if(dynamic[index])result[index]=new Indexed({_isIndexed:!0,hash:resultIndexed[indexedIndex++]});else try{result[index]=resultIndexed[indexedIndex++]}catch(error){result[index]=error}else try{result[index]=resultNonIndexed[nonIndexedIndex++]}catch(error){result[index]=error}if(param.name&&null==result[param.name]){const value=result[index];value instanceof Error?Object.defineProperty(result,param.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(param.name)}`,value)}}):result[param.name]=value}}));for(let i=0;i<result.length;i++){const value=result[i];value instanceof Error&&Object.defineProperty(result,i,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${i}`,value)}})}return Object.freeze(result)}parseTransaction(tx){let fragment=this.getFunction(tx.data.substring(0,10).toLowerCase());return fragment?new TransactionDescription({args:this._abiCoder.decode(fragment.inputs,"0x"+tx.data.substring(10)),functionFragment:fragment,name:fragment.name,signature:fragment.format(),sighash:this.getSighash(fragment),value:_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_9__.O$.from(tx.value||"0")}):null}parseLog(log){let fragment=this.getEvent(log.topics[0]);return!fragment||fragment.anonymous?null:new LogDescription({eventFragment:fragment,name:fragment.name,signature:fragment.format(),topic:this.getEventTopic(fragment),args:this.decodeEventLog(fragment,log.data,log.topics)})}parseError(data){const hexData=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(data);let fragment=this.getError(hexData.substring(0,10).toLowerCase());return fragment?new ErrorDescription({args:this._abiCoder.decode(fragment.inputs,"0x"+hexData.substring(10)),errorFragment:fragment,name:fragment.name,signature:fragment.format(),sighash:this.getSighash(fragment)}):null}static isInterface(value){return!(!value||!value._isInterface)}}},"./node_modules/@ethersproject/abstract-provider/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Sg:()=>ForkEvent,zt:()=>Provider});var bignumber=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const logger=new logger_lib_esm.Logger("abstract-provider/5.7.0");class ForkEvent extends lib_esm.Description{static isForkEvent(value){return!(!value||!value._isForkEvent)}}class Provider{constructor(){logger.checkAbstract(new.target,Provider),(0,lib_esm.defineReadOnly)(this,"_isProvider",!0)}getFeeData(){return __awaiter(this,void 0,void 0,(function*(){const{block,gasPrice}=yield(0,lib_esm.resolveProperties)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((error=>null))});let lastBaseFeePerGas=null,maxFeePerGas=null,maxPriorityFeePerGas=null;return block&&block.baseFeePerGas&&(lastBaseFeePerGas=block.baseFeePerGas,maxPriorityFeePerGas=bignumber.O$.from("1500000000"),maxFeePerGas=block.baseFeePerGas.mul(2).add(maxPriorityFeePerGas)),{lastBaseFeePerGas,maxFeePerGas,maxPriorityFeePerGas,gasPrice}}))}addListener(eventName,listener){return this.on(eventName,listener)}removeListener(eventName,listener){return this.off(eventName,listener)}static isProvider(value){return!(!value||!value._isProvider)}}},"./node_modules/@ethersproject/abstract-signer/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>Signer,b:()=>VoidSigner});var lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const logger=new logger_lib_esm.Logger("abstract-signer/5.7.0"),allowedTransactionKeys=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[logger_lib_esm.Logger.errors.INSUFFICIENT_FUNDS,logger_lib_esm.Logger.errors.NONCE_EXPIRED,logger_lib_esm.Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger.checkAbstract(new.target,Signer),(0,lib_esm.defineReadOnly)(this,"_isSigner",!0)}getBalance(blockTag){return __awaiter(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),blockTag)}))}getTransactionCount(blockTag){return __awaiter(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),blockTag)}))}estimateGas(transaction){return __awaiter(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const tx=yield(0,lib_esm.resolveProperties)(this.checkTransaction(transaction));return yield this.provider.estimateGas(tx)}))}call(transaction,blockTag){return __awaiter(this,void 0,void 0,(function*(){this._checkProvider("call");const tx=yield(0,lib_esm.resolveProperties)(this.checkTransaction(transaction));return yield this.provider.call(tx,blockTag)}))}sendTransaction(transaction){return __awaiter(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const tx=yield this.populateTransaction(transaction),signedTx=yield this.signTransaction(tx);return yield this.provider.sendTransaction(signedTx)}))}getChainId(){return __awaiter(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return __awaiter(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return __awaiter(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(name){return __awaiter(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(name)}))}checkTransaction(transaction){for(const key in transaction)-1===allowedTransactionKeys.indexOf(key)&&logger.throwArgumentError("invalid transaction key: "+key,"transaction",transaction);const tx=(0,lib_esm.shallowCopy)(transaction);return null==tx.from?tx.from=this.getAddress():tx.from=Promise.all([Promise.resolve(tx.from),this.getAddress()]).then((result=>(result[0].toLowerCase()!==result[1].toLowerCase()&&logger.throwArgumentError("from address mismatch","transaction",transaction),result[0]))),tx}populateTransaction(transaction){return __awaiter(this,void 0,void 0,(function*(){const tx=yield(0,lib_esm.resolveProperties)(this.checkTransaction(transaction));null!=tx.to&&(tx.to=Promise.resolve(tx.to).then((to=>__awaiter(this,void 0,void 0,(function*(){if(null==to)return null;const address=yield this.resolveName(to);return null==address&&logger.throwArgumentError("provided ENS name resolves to null","tx.to",to),address})))),tx.to.catch((error=>{})));const hasEip1559=null!=tx.maxFeePerGas||null!=tx.maxPriorityFeePerGas;if(null==tx.gasPrice||2!==tx.type&&!hasEip1559?0!==tx.type&&1!==tx.type||!hasEip1559||logger.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",transaction):logger.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",transaction),2!==tx.type&&null!=tx.type||null==tx.maxFeePerGas||null==tx.maxPriorityFeePerGas)if(0===tx.type||1===tx.type)null==tx.gasPrice&&(tx.gasPrice=this.getGasPrice());else{const feeData=yield this.getFeeData();if(null==tx.type)if(null!=feeData.maxFeePerGas&&null!=feeData.maxPriorityFeePerGas)if(tx.type=2,null!=tx.gasPrice){const gasPrice=tx.gasPrice;delete tx.gasPrice,tx.maxFeePerGas=gasPrice,tx.maxPriorityFeePerGas=gasPrice}else null==tx.maxFeePerGas&&(tx.maxFeePerGas=feeData.maxFeePerGas),null==tx.maxPriorityFeePerGas&&(tx.maxPriorityFeePerGas=feeData.maxPriorityFeePerGas);else null!=feeData.gasPrice?(hasEip1559&&logger.throwError("network does not support EIP-1559",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==tx.gasPrice&&(tx.gasPrice=feeData.gasPrice),tx.type=0):logger.throwError("failed to get consistent fee data",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===tx.type&&(null==tx.maxFeePerGas&&(tx.maxFeePerGas=feeData.maxFeePerGas),null==tx.maxPriorityFeePerGas&&(tx.maxPriorityFeePerGas=feeData.maxPriorityFeePerGas))}else tx.type=2;return null==tx.nonce&&(tx.nonce=this.getTransactionCount("pending")),null==tx.gasLimit&&(tx.gasLimit=this.estimateGas(tx).catch((error=>{if(forwardErrors.indexOf(error.code)>=0)throw error;return logger.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",logger_lib_esm.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error,tx})}))),null==tx.chainId?tx.chainId=this.getChainId():tx.chainId=Promise.all([Promise.resolve(tx.chainId),this.getChainId()]).then((results=>(0!==results[1]&&results[0]!==results[1]&&logger.throwArgumentError("chainId address mismatch","transaction",transaction),results[0]))),yield(0,lib_esm.resolveProperties)(tx)}))}_checkProvider(operation){this.provider||logger.throwError("missing provider",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:operation||"_checkProvider"})}static isSigner(value){return!(!value||!value._isSigner)}}class VoidSigner extends Signer{constructor(address,provider){super(),(0,lib_esm.defineReadOnly)(this,"address",address),(0,lib_esm.defineReadOnly)(this,"provider",provider||null)}getAddress(){return Promise.resolve(this.address)}_fail(message,operation){return Promise.resolve().then((()=>{logger.throwError(message,logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation})}))}signMessage(message){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(transaction){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(domain,types,value){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(provider){return new VoidSigner(this.address,provider)}}},"./node_modules/@ethersproject/base64/lib.esm/base64.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>decode,c:()=>encode});var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js");function decode(textData){textData=atob(textData);const data=[];for(let i=0;i<textData.length;i++)data.push(textData.charCodeAt(i));return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)(data)}function encode(data){data=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)(data);let textData="";for(let i=0;i<data.length;i++)textData+=String.fromCharCode(data[i]);return btoa(textData)}},"./node_modules/@ethersproject/base64/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{decode:()=>_base64__WEBPACK_IMPORTED_MODULE_0__.J,encode:()=>_base64__WEBPACK_IMPORTED_MODULE_0__.c});var _base64__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/base64/lib.esm/base64.js")},"./node_modules/@ethersproject/basex/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Base32:()=>Base32,Base58:()=>Base58,BaseX:()=>BaseX});var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_properties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js");class BaseX{constructor(alphabet){(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_0__.defineReadOnly)(this,"alphabet",alphabet),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_0__.defineReadOnly)(this,"base",alphabet.length),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_0__.defineReadOnly)(this,"_alphabetMap",{}),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_0__.defineReadOnly)(this,"_leader",alphabet.charAt(0));for(let i=0;i<alphabet.length;i++)this._alphabetMap[alphabet.charAt(i)]=i}encode(value){let source=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__.arrayify)(value);if(0===source.length)return"";let digits=[0];for(let i=0;i<source.length;++i){let carry=source[i];for(let j=0;j<digits.length;++j)carry+=digits[j]<<8,digits[j]=carry%this.base,carry=carry/this.base|0;for(;carry>0;)digits.push(carry%this.base),carry=carry/this.base|0}let string="";for(let k=0;0===source[k]&&k<source.length-1;++k)string+=this._leader;for(let q=digits.length-1;q>=0;--q)string+=this.alphabet[digits[q]];return string}decode(value){if("string"!=typeof value)throw new TypeError("Expected String");let bytes=[];if(0===value.length)return new Uint8Array(bytes);bytes.push(0);for(let i=0;i<value.length;i++){let byte=this._alphabetMap[value[i]];if(void 0===byte)throw new Error("Non-base"+this.base+" character");let carry=byte;for(let j=0;j<bytes.length;++j)carry+=bytes[j]*this.base,bytes[j]=255&carry,carry>>=8;for(;carry>0;)bytes.push(255&carry),carry>>=8}for(let k=0;value[k]===this._leader&&k<value.length-1;++k)bytes.push(0);return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__.arrayify)(new Uint8Array(bytes.reverse()))}}const Base32=new BaseX("abcdefghijklmnopqrstuvwxyz234567"),Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},"./node_modules/@ethersproject/constants/lib.esm/addresses.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>AddressZero});const AddressZero="0x0000000000000000000000000000000000000000"},"./node_modules/@ethersproject/constants/lib.esm/hashes.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>HashZero});const HashZero="0x0000000000000000000000000000000000000000000000000000000000000000"},"./node_modules/@ethersproject/hash/lib.esm/_version.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>version});const version="hash/5.7.0"},"./node_modules/@ethersproject/hash/lib.esm/id.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{id:()=>id});var _ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),_ethersproject_strings__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js");function id(text){return(0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_0__.keccak256)((0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_1__.Y0)(text))}},"./node_modules/@ethersproject/hash/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_TypedDataEncoder:()=>_typed_data__WEBPACK_IMPORTED_MODULE_3__.E,dnsEncode:()=>_namehash__WEBPACK_IMPORTED_MODULE_1__.Kn,ensNormalize:()=>_namehash__WEBPACK_IMPORTED_MODULE_1__.w3,hashMessage:()=>_message__WEBPACK_IMPORTED_MODULE_2__.r,id:()=>_id__WEBPACK_IMPORTED_MODULE_0__.id,isValidName:()=>_namehash__WEBPACK_IMPORTED_MODULE_1__.r1,messagePrefix:()=>_message__WEBPACK_IMPORTED_MODULE_2__.B,namehash:()=>_namehash__WEBPACK_IMPORTED_MODULE_1__.VM});var _id__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/id.js"),_namehash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/namehash.js"),_message__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/message.js"),_typed_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/typed-data.js")},"./node_modules/@ethersproject/hash/lib.esm/message.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>messagePrefix,r:()=>hashMessage});var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),_ethersproject_strings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js");const messagePrefix="Ethereum Signed Message:\n";function hashMessage(message){return"string"==typeof message&&(message=(0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_0__.Y0)(message)),(0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_1__.keccak256)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.concat)([(0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_0__.Y0)(messagePrefix),(0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_0__.Y0)(String(message.length)),message]))}},"./node_modules/@ethersproject/hash/lib.esm/namehash.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Kn:()=>dnsEncode,w3:()=>ensNormalize,r1:()=>isValidName,VM:()=>namehash});var lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),utf8=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js"),keccak256_lib_esm=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js"),_version=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/_version.js"),base64=__webpack_require__("./node_modules/@ethersproject/base64/lib.esm/base64.js");function flat(array,depth){null==depth&&(depth=1);const result=[],forEach=result.forEach,flatDeep=function(arr,depth){forEach.call(arr,(function(val){depth>0&&Array.isArray(val)?flatDeep(val,depth-1):result.push(val)}))};return flatDeep(array,depth),result}function read_compressed_payload(bytes){return function read_payload(v){let pos=0;return()=>v[pos++]}(function decode_arithmetic(bytes){let pos=0;function u16(){return bytes[pos++]<<8|bytes[pos++]}let symbol_count=u16(),total=1,acc=[0,1];for(let i=1;i<symbol_count;i++)acc.push(total+=u16());let skip=u16(),pos_payload=pos;pos+=skip;let read_width=0,read_buffer=0;function read_bit(){return 0==read_width&&(read_buffer=read_buffer<<8|bytes[pos++],read_width=8),read_buffer>>--read_width&1}const FULL=Math.pow(2,31),HALF=FULL>>>1,QRTR=HALF>>1,MASK=FULL-1;let register=0;for(let i=0;i<31;i++)register=register<<1|read_bit();let symbols=[],low=0,range=FULL;for(;;){let value=Math.floor(((register-low+1)*total-1)/range),start=0,end=symbol_count;for(;end-start>1;){let mid=start+end>>>1;value<acc[mid]?end=mid:start=mid}if(0==start)break;symbols.push(start);let a=low+Math.floor(range*acc[start]/total),b=low+Math.floor(range*acc[start+1]/total)-1;for(;0==((a^b)&HALF);)register=register<<1&MASK|read_bit(),a=a<<1&MASK,b=b<<1&MASK|1;for(;a&~b&QRTR;)register=register&HALF|register<<1&MASK>>>1|read_bit(),a=a<<1^HALF,b=(b^HALF)<<1|HALF|1;low=a,range=1+b-a}let offset=symbol_count-4;return symbols.map((x=>{switch(x-offset){case 3:return offset+65792+(bytes[pos_payload++]<<16|bytes[pos_payload++]<<8|bytes[pos_payload++]);case 2:return offset+256+(bytes[pos_payload++]<<8|bytes[pos_payload++]);case 1:return offset+bytes[pos_payload++];default:return x-1}}))}(bytes))}function signed(i){return 1&i?~i>>1:i>>1}function read_ascending(n,next){let v=Array(n);for(let i=0,x=-1;i<n;i++)v[i]=x+=1+next();return v}function read_deltas(n,next){let v=Array(n);for(let i=0,x=0;i<n;i++)v[i]=x+=signed(next());return v}function read_member_array(next,lookup){let v=read_ascending(next(),next),n=next(),vX=read_ascending(n,next),vN=function read_counts(n,next){let v=Array(n);for(let i=0;i<n;i++)v[i]=1+next();return v}(n,next);for(let i=0;i<n;i++)for(let j=0;j<vN[i];j++)v.push(vX[i]+j);return lookup?v.map((x=>lookup[x])):v}function read_transposed(n,w,next){let m=Array(n).fill(void 0).map((()=>[]));for(let i=0;i<w;i++)read_deltas(n,next).forEach(((x,j)=>m[j].push(x)));return m}function read_linear_table(w,next){let dx=1+next(),dy=next(),vN=function read_zero_terminated_array(next){let v=[];for(;;){let i=next();if(0==i)break;v.push(i)}return v}(next);return flat(read_transposed(vN.length,1+w,next).map(((v,i)=>{const x=v[0],ys=v.slice(1);return Array(vN[i]).fill(void 0).map(((_,j)=>{let j_dy=j*dy;return[x+j*dx,ys.map((y=>y+j_dy))]}))})))}function read_replacement_table(w,next){return read_transposed(1+next(),1+w,next).map((v=>[v[0],v.slice(1)]))}const r=function getData(){return read_compressed_payload((0,base64.J)("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}(),VALID=new Set(read_member_array(r)),IGNORED=new Set(read_member_array(r)),MAPPED=function read_mapped_map(next){let ret=[];for(;;){let w=next();if(0==w)break;ret.push(read_linear_table(w,next))}for(;;){let w=next()-1;if(w<0)break;ret.push(read_replacement_table(w,next))}return function fromEntries(array){const result={};for(let i=0;i<array.length;i++){const value=array[i];result[value[0]]=value[1]}return result}(flat(ret))}(r),EMOJI_ROOT=function read_emoji_trie(next){let sorted=read_member_array(next).sort(((a,b)=>a-b));return function read(){let branches=[];for(;;){let keys=read_member_array(next,sorted);if(0==keys.length)break;branches.push({set:new Set(keys),node:read()})}branches.sort(((a,b)=>b.set.size-a.set.size));let temp=next(),valid=temp%3;temp=temp/3|0;let fe0f=!!(1&temp);return temp>>=1,{branches,valid,fe0f,save:1==temp,check:2==temp}}()}(r),HYPHEN=45,UNDERSCORE=95;function explode_cp(name){return(0,utf8.XL)(name)}function filter_fe0f(cps){return cps.filter((cp=>65039!=cp))}function ens_normalize_post_check(name){for(let label of name.split(".")){let cps=explode_cp(label);try{for(let i=cps.lastIndexOf(UNDERSCORE)-1;i>=0;i--)if(cps[i]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(cps.length>=4&&cps.every((cp=>cp<128))&&cps[2]===HYPHEN&&cps[3]===HYPHEN)throw new Error("invalid label extension")}catch(err){throw new Error(`Invalid label "${label}": ${err.message}`)}}return name}function ens_normalize(name){return ens_normalize_post_check(function normalize(name,emoji_filter){let input=explode_cp(name).reverse(),output=[];for(;input.length;){let emoji=consume_emoji_reversed(input);if(emoji){output.push(...emoji_filter(emoji));continue}let cp=input.pop();if(VALID.has(cp)){output.push(cp);continue}if(IGNORED.has(cp))continue;let cps=MAPPED[cp];if(!cps)throw new Error(`Disallowed codepoint: 0x${cp.toString(16).toUpperCase()}`);output.push(...cps)}return ens_normalize_post_check(function nfc(s){return s.normalize("NFC")}(String.fromCodePoint(...output)))}(name,filter_fe0f))}function consume_emoji_reversed(cps,eaten){var _a;let emoji,saved,node=EMOJI_ROOT,stack=[],pos=cps.length;for(eaten&&(eaten.length=0);pos;){let cp=cps[--pos];if(node=null===(_a=node.branches.find((x=>x.set.has(cp))))||void 0===_a?void 0:_a.node,!node)break;if(node.save)saved=cp;else if(node.check&&cp===saved)break;stack.push(cp),node.fe0f&&(stack.push(65039),pos>0&&65039==cps[pos-1]&&pos--),node.valid&&(emoji=stack.slice(),2==node.valid&&emoji.splice(1,1),eaten&&eaten.push(...cps.slice(pos).reverse()),cps.length=pos)}return emoji}const logger=new logger_lib_esm.Logger(_version.i),Zeros=new Uint8Array(32);function checkComponent(comp){if(0===comp.length)throw new Error("invalid ENS name; empty component");return comp}function ensNameSplit(name){const bytes=(0,utf8.Y0)(ens_normalize(name)),comps=[];if(0===name.length)return comps;let last=0;for(let i=0;i<bytes.length;i++){46===bytes[i]&&(comps.push(checkComponent(bytes.slice(last,i))),last=i+1)}if(last>=bytes.length)throw new Error("invalid ENS name; empty component");return comps.push(checkComponent(bytes.slice(last))),comps}function ensNormalize(name){return ensNameSplit(name).map((comp=>(0,utf8.ZN)(comp))).join(".")}function isValidName(name){try{return 0!==ensNameSplit(name).length}catch(error){}return!1}function namehash(name){"string"!=typeof name&&logger.throwArgumentError("invalid ENS name; not a string","name",name);let result=Zeros;const comps=ensNameSplit(name);for(;comps.length;)result=(0,keccak256_lib_esm.keccak256)((0,lib_esm.concat)([result,(0,keccak256_lib_esm.keccak256)(comps.pop())]));return(0,lib_esm.hexlify)(result)}function dnsEncode(name){return(0,lib_esm.hexlify)((0,lib_esm.concat)(ensNameSplit(name).map((comp=>{if(comp.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const bytes=new Uint8Array(comp.length+1);return bytes.set(comp,1),bytes[0]=bytes.length-1,bytes}))))+"00"}Zeros.fill(0)},"./node_modules/@ethersproject/hash/lib.esm/typed-data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>TypedDataEncoder});var _ethersproject_address__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js"),_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),_ethersproject_properties__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js"),_version__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/_version.js"),_id__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/id.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const logger=new _ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger(_version__WEBPACK_IMPORTED_MODULE_1__.i),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_2__.O$.from(-1),Zero=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_2__.O$.from(0),One=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_2__.O$.from(1),MaxUint256=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_2__.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const hexTrue=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexZeroPad)(One.toHexString(),32),hexFalse=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexZeroPad)(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(key){return function(value){return"string"!=typeof value&&logger.throwArgumentError(`invalid domain value for ${JSON.stringify(key)}`,`domain.${key}`,value),value}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(value){try{return _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_2__.O$.from(value).toString()}catch(error){}return logger.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",value)},verifyingContract:function(value){try{return(0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_4__.getAddress)(value).toLowerCase()}catch(error){}return logger.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",value)},salt:function(value){try{const bytes=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.arrayify)(value);if(32!==bytes.length)throw new Error("bad length");return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexlify)(bytes)}catch(error){}return logger.throwArgumentError('invalid domain value "salt"',"domain.salt",value)}};function getBaseEncoder(type){{const match=type.match(/^(u?)int(\d*)$/);if(match){const signed=""===match[1],width=parseInt(match[2]||"256");(width%8!=0||width>256||match[2]&&match[2]!==String(width))&&logger.throwArgumentError("invalid numeric width","type",type);const boundsUpper=MaxUint256.mask(signed?width-1:width),boundsLower=signed?boundsUpper.add(One).mul(NegativeOne):Zero;return function(value){const v=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_2__.O$.from(value);return(v.lt(boundsLower)||v.gt(boundsUpper))&&logger.throwArgumentError(`value out-of-bounds for ${type}`,"value",value),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexZeroPad)(v.toTwos(256).toHexString(),32)}}}{const match=type.match(/^bytes(\d+)$/);if(match){const width=parseInt(match[1]);return(0===width||width>32||match[1]!==String(width))&&logger.throwArgumentError("invalid bytes width","type",type),function(value){return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.arrayify)(value).length!==width&&logger.throwArgumentError(`invalid length for ${type}`,"value",value),function hexPadRight(value){const bytes=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.arrayify)(value),padOffset=bytes.length%32;return padOffset?(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)([bytes,padding.slice(padOffset)]):(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexlify)(bytes)}(value)}}}switch(type){case"address":return function(value){return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexZeroPad)((0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_4__.getAddress)(value),32)};case"bool":return function(value){return value?hexTrue:hexFalse};case"bytes":return function(value){return(0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_5__.keccak256)(value)};case"string":return function(value){return(0,_id__WEBPACK_IMPORTED_MODULE_6__.id)(value)}}return null}function encodeType(name,fields){return`${name}(${fields.map((({name,type})=>type+" "+name)).join(",")})`}class TypedDataEncoder{constructor(types){(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_7__.defineReadOnly)(this,"types",Object.freeze((0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_7__.deepCopy)(types))),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_7__.defineReadOnly)(this,"_encoderCache",{}),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_7__.defineReadOnly)(this,"_types",{});const links={},parents={},subtypes={};Object.keys(types).forEach((type=>{links[type]={},parents[type]=[],subtypes[type]={}}));for(const name in types){const uniqueNames={};types[name].forEach((field=>{uniqueNames[field.name]&&logger.throwArgumentError(`duplicate variable name ${JSON.stringify(field.name)} in ${JSON.stringify(name)}`,"types",types),uniqueNames[field.name]=!0;const baseType=field.type.match(/^([^\x5b]*)(\x5b|$)/)[1];baseType===name&&logger.throwArgumentError(`circular type reference to ${JSON.stringify(baseType)}`,"types",types);getBaseEncoder(baseType)||(parents[baseType]||logger.throwArgumentError(`unknown type ${JSON.stringify(baseType)}`,"types",types),parents[baseType].push(name),links[name][baseType]=!0)}))}const primaryTypes=Object.keys(parents).filter((n=>0===parents[n].length));0===primaryTypes.length?logger.throwArgumentError("missing primary type","types",types):primaryTypes.length>1&&logger.throwArgumentError(`ambiguous primary types or unused types: ${primaryTypes.map((t=>JSON.stringify(t))).join(", ")}`,"types",types),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_7__.defineReadOnly)(this,"primaryType",primaryTypes[0]),function checkCircular(type,found){found[type]&&logger.throwArgumentError(`circular type reference to ${JSON.stringify(type)}`,"types",types),found[type]=!0,Object.keys(links[type]).forEach((child=>{parents[child]&&(checkCircular(child,found),Object.keys(found).forEach((subtype=>{subtypes[subtype][child]=!0})))})),delete found[type]}(this.primaryType,{});for(const name in subtypes){const st=Object.keys(subtypes[name]);st.sort(),this._types[name]=encodeType(name,types[name])+st.map((t=>encodeType(t,types[t]))).join("")}}getEncoder(type){let encoder=this._encoderCache[type];return encoder||(encoder=this._encoderCache[type]=this._getEncoder(type)),encoder}_getEncoder(type){{const encoder=getBaseEncoder(type);if(encoder)return encoder}const match=type.match(/^(.*)(\x5b(\d*)\x5d)$/);if(match){const subtype=match[1],subEncoder=this.getEncoder(subtype),length=parseInt(match[3]);return value=>{length>=0&&value.length!==length&&logger.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",value);let result=value.map(subEncoder);return this._types[subtype]&&(result=result.map(_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_5__.keccak256)),(0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_5__.keccak256)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)(result))}}const fields=this.types[type];if(fields){const encodedType=(0,_id__WEBPACK_IMPORTED_MODULE_6__.id)(this._types[type]);return value=>{const values=fields.map((({name,type})=>{const result=this.getEncoder(type)(value[name]);return this._types[type]?(0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_5__.keccak256)(result):result}));return values.unshift(encodedType),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)(values)}}return logger.throwArgumentError(`unknown type: ${type}`,"type",type)}encodeType(name){const result=this._types[name];return result||logger.throwArgumentError(`unknown type: ${JSON.stringify(name)}`,"name",name),result}encodeData(type,value){return this.getEncoder(type)(value)}hashStruct(name,value){return(0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_5__.keccak256)(this.encodeData(name,value))}encode(value){return this.encodeData(this.primaryType,value)}hash(value){return this.hashStruct(this.primaryType,value)}_visit(type,value,callback){if(getBaseEncoder(type))return callback(type,value);const match=type.match(/^(.*)(\x5b(\d*)\x5d)$/);if(match){const subtype=match[1],length=parseInt(match[3]);return length>=0&&value.length!==length&&logger.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",value),value.map((v=>this._visit(subtype,v,callback)))}const fields=this.types[type];return fields?fields.reduce(((accum,{name,type})=>(accum[name]=this._visit(type,value[name],callback),accum)),{}):logger.throwArgumentError(`unknown type: ${type}`,"type",type)}visit(value,callback){return this._visit(this.primaryType,value,callback)}static from(types){return new TypedDataEncoder(types)}static getPrimaryType(types){return TypedDataEncoder.from(types).primaryType}static hashStruct(name,types,value){return TypedDataEncoder.from(types).hashStruct(name,value)}static hashDomain(domain){const domainFields=[];for(const name in domain){const type=domainFieldTypes[name];type||logger.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(name)}`,"domain",domain),domainFields.push({name,type})}return domainFields.sort(((a,b)=>domainFieldNames.indexOf(a.name)-domainFieldNames.indexOf(b.name))),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:domainFields},domain)}static encode(domain,types,value){return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)(["0x1901",TypedDataEncoder.hashDomain(domain),TypedDataEncoder.from(types).hash(value)])}static hash(domain,types,value){return(0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_5__.keccak256)(TypedDataEncoder.encode(domain,types,value))}static resolveNames(domain,types,value,resolveName){return __awaiter(this,void 0,void 0,(function*(){domain=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_7__.shallowCopy)(domain);const ensCache={};domain.verifyingContract&&!(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.isHexString)(domain.verifyingContract,20)&&(ensCache[domain.verifyingContract]="0x");const encoder=TypedDataEncoder.from(types);encoder.visit(value,((type,value)=>("address"!==type||(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.isHexString)(value,20)||(ensCache[value]="0x"),value)));for(const name in ensCache)ensCache[name]=yield resolveName(name);return domain.verifyingContract&&ensCache[domain.verifyingContract]&&(domain.verifyingContract=ensCache[domain.verifyingContract]),value=encoder.visit(value,((type,value)=>"address"===type&&ensCache[value]?ensCache[value]:value)),{domain,value}}))}static getPayload(domain,types,value){TypedDataEncoder.hashDomain(domain);const domainValues={},domainTypes=[];domainFieldNames.forEach((name=>{const value=domain[name];null!=value&&(domainValues[name]=domainChecks[name](value),domainTypes.push({name,type:domainFieldTypes[name]}))}));const encoder=TypedDataEncoder.from(types),typesWithDomain=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_7__.shallowCopy)(types);return typesWithDomain.EIP712Domain?logger.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",types):typesWithDomain.EIP712Domain=domainTypes,encoder.encode(value),{types:typesWithDomain,domain:domainValues,primaryType:encoder.primaryType,message:encoder.visit(value,((type,value)=>{if(type.match(/^bytes(\d*)/))return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexlify)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.arrayify)(value));if(type.match(/^u?int/))return _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_2__.O$.from(value).toString();switch(type){case"address":return value.toLowerCase();case"bool":return!!value;case"string":return"string"!=typeof value&&logger.throwArgumentError("invalid string","value",value),value}return logger.throwArgumentError("unsupported type","type",type)}))}}}},"./node_modules/@ethersproject/hdnode/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HDNode:()=>HDNode,defaultPath:()=>defaultPath,entropyToMnemonic:()=>entropyToMnemonic,getAccountPath:()=>getAccountPath,isValidMnemonic:()=>isValidMnemonic,mnemonicToEntropy:()=>mnemonicToEntropy,mnemonicToSeed:()=>mnemonicToSeed});var lib_esm=__webpack_require__("./node_modules/@ethersproject/basex/lib.esm/index.js"),bytes_lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),bignumber=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),utf8=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js"),pbkdf2=__webpack_require__("./node_modules/@ethersproject/pbkdf2/lib.esm/pbkdf2.js"),properties_lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),signing_key_lib_esm=__webpack_require__("./node_modules/@ethersproject/signing-key/lib.esm/index.js"),sha2=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/sha2.js"),types=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/types.js"),transactions_lib_esm=__webpack_require__("./node_modules/@ethersproject/transactions/lib.esm/index.js"),wordlists=__webpack_require__("./node_modules/@ethersproject/wordlists/lib.esm/wordlists.js");const logger=new(__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js").Logger)("hdnode/5.7.0"),N=bignumber.O$.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=(0,utf8.Y0)("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(bits){return(1<<bits)-1<<8-bits}function bytes32(value){return(0,bytes_lib_esm.hexZeroPad)((0,bytes_lib_esm.hexlify)(value),32)}function base58check(data){return lib_esm.Base58.encode((0,bytes_lib_esm.concat)([data,(0,bytes_lib_esm.hexDataSlice)((0,sha2.JQ)((0,sha2.JQ)(data)),0,4)]))}function getWordlist(wordlist){if(null==wordlist)return wordlists.E.en;if("string"==typeof wordlist){const words=wordlists.E[wordlist];return null==words&&logger.throwArgumentError("unknown locale","wordlist",wordlist),words}return wordlist}const _constructorGuard={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(constructorGuard,privateKey,publicKey,parentFingerprint,chainCode,index,depth,mnemonicOrPath){if(constructorGuard!==_constructorGuard)throw new Error("HDNode constructor cannot be called directly");if(privateKey){const signingKey=new signing_key_lib_esm.SigningKey(privateKey);(0,properties_lib_esm.defineReadOnly)(this,"privateKey",signingKey.privateKey),(0,properties_lib_esm.defineReadOnly)(this,"publicKey",signingKey.compressedPublicKey)}else(0,properties_lib_esm.defineReadOnly)(this,"privateKey",null),(0,properties_lib_esm.defineReadOnly)(this,"publicKey",(0,bytes_lib_esm.hexlify)(publicKey));(0,properties_lib_esm.defineReadOnly)(this,"parentFingerprint",parentFingerprint),(0,properties_lib_esm.defineReadOnly)(this,"fingerprint",(0,bytes_lib_esm.hexDataSlice)((0,sha2.bP)((0,sha2.JQ)(this.publicKey)),0,4)),(0,properties_lib_esm.defineReadOnly)(this,"address",(0,transactions_lib_esm.computeAddress)(this.publicKey)),(0,properties_lib_esm.defineReadOnly)(this,"chainCode",chainCode),(0,properties_lib_esm.defineReadOnly)(this,"index",index),(0,properties_lib_esm.defineReadOnly)(this,"depth",depth),null==mnemonicOrPath?((0,properties_lib_esm.defineReadOnly)(this,"mnemonic",null),(0,properties_lib_esm.defineReadOnly)(this,"path",null)):"string"==typeof mnemonicOrPath?((0,properties_lib_esm.defineReadOnly)(this,"mnemonic",null),(0,properties_lib_esm.defineReadOnly)(this,"path",mnemonicOrPath)):((0,properties_lib_esm.defineReadOnly)(this,"mnemonic",mnemonicOrPath),(0,properties_lib_esm.defineReadOnly)(this,"path",mnemonicOrPath.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check((0,bytes_lib_esm.concat)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,bytes_lib_esm.hexlify)(this.depth),this.parentFingerprint,(0,bytes_lib_esm.hexZeroPad)((0,bytes_lib_esm.hexlify)(this.index),4),this.chainCode,null!=this.privateKey?(0,bytes_lib_esm.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(index){if(index>4294967295)throw new Error("invalid index - "+String(index));let path=this.path;path&&(path+="/"+(index&~HardenedBit));const data=new Uint8Array(37);if(index&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");data.set((0,bytes_lib_esm.arrayify)(this.privateKey),1),path&&(path+="'")}else data.set((0,bytes_lib_esm.arrayify)(this.publicKey));for(let i=24;i>=0;i-=8)data[33+(i>>3)]=index>>24-i&255;const I=(0,bytes_lib_esm.arrayify)((0,sha2.Gy)(types.p.sha512,this.chainCode,data)),IL=I.slice(0,32),IR=I.slice(32);let ki=null,Ki=null;if(this.privateKey)ki=bytes32(bignumber.O$.from(IL).add(this.privateKey).mod(N));else{Ki=new signing_key_lib_esm.SigningKey((0,bytes_lib_esm.hexlify)(IL))._addPoint(this.publicKey)}let mnemonicOrPath=path;const srcMnemonic=this.mnemonic;return srcMnemonic&&(mnemonicOrPath=Object.freeze({phrase:srcMnemonic.phrase,path,locale:srcMnemonic.locale||"en"})),new HDNode(_constructorGuard,ki,Ki,this.fingerprint,bytes32(IR),index,this.depth+1,mnemonicOrPath)}derivePath(path){const components=path.split("/");if(0===components.length||"m"===components[0]&&0!==this.depth)throw new Error("invalid path - "+path);"m"===components[0]&&components.shift();let result=this;for(let i=0;i<components.length;i++){const component=components[i];if(component.match(/^[0-9]+'$/)){const index=parseInt(component.substring(0,component.length-1));if(index>=HardenedBit)throw new Error("invalid path index - "+component);result=result._derive(HardenedBit+index)}else{if(!component.match(/^[0-9]+$/))throw new Error("invalid path component - "+component);{const index=parseInt(component);if(index>=HardenedBit)throw new Error("invalid path index - "+component);result=result._derive(index)}}}return result}static _fromSeed(seed,mnemonic){const seedArray=(0,bytes_lib_esm.arrayify)(seed);if(seedArray.length<16||seedArray.length>64)throw new Error("invalid seed");const I=(0,bytes_lib_esm.arrayify)((0,sha2.Gy)(types.p.sha512,MasterSecret,seedArray));return new HDNode(_constructorGuard,bytes32(I.slice(0,32)),null,"0x00000000",bytes32(I.slice(32)),0,0,mnemonic)}static fromMnemonic(mnemonic,password,wordlist){return mnemonic=entropyToMnemonic(mnemonicToEntropy(mnemonic,wordlist=getWordlist(wordlist)),wordlist),HDNode._fromSeed(mnemonicToSeed(mnemonic,password),{phrase:mnemonic,path:"m",locale:wordlist.locale})}static fromSeed(seed){return HDNode._fromSeed(seed,null)}static fromExtendedKey(extendedKey){const bytes=lib_esm.Base58.decode(extendedKey);82===bytes.length&&base58check(bytes.slice(0,78))===extendedKey||logger.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const depth=bytes[4],parentFingerprint=(0,bytes_lib_esm.hexlify)(bytes.slice(5,9)),index=parseInt((0,bytes_lib_esm.hexlify)(bytes.slice(9,13)).substring(2),16),chainCode=(0,bytes_lib_esm.hexlify)(bytes.slice(13,45)),key=bytes.slice(45,78);switch((0,bytes_lib_esm.hexlify)(bytes.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard,null,(0,bytes_lib_esm.hexlify)(key),parentFingerprint,chainCode,index,depth,null);case"0x0488ade4":case"0x04358394 ":if(0!==key[0])break;return new HDNode(_constructorGuard,(0,bytes_lib_esm.hexlify)(key.slice(1)),null,parentFingerprint,chainCode,index,depth,null)}return logger.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(mnemonic,password){password||(password="");const salt=(0,utf8.Y0)("mnemonic"+password,utf8.Uj.NFKD);return(0,pbkdf2.n)((0,utf8.Y0)(mnemonic,utf8.Uj.NFKD),salt,2048,64,"sha512")}function mnemonicToEntropy(mnemonic,wordlist){wordlist=getWordlist(wordlist),logger.checkNormalize();const words=wordlist.split(mnemonic);if(words.length%3!=0)throw new Error("invalid mnemonic");const entropy=(0,bytes_lib_esm.arrayify)(new Uint8Array(Math.ceil(11*words.length/8)));let offset=0;for(let i=0;i<words.length;i++){let index=wordlist.getWordIndex(words[i].normalize("NFKD"));if(-1===index)throw new Error("invalid mnemonic");for(let bit=0;bit<11;bit++)index&1<<10-bit&&(entropy[offset>>3]|=1<<7-offset%8),offset++}const entropyBits=32*words.length/3,checksumMask=getUpperMask(words.length/3);if(((0,bytes_lib_esm.arrayify)((0,sha2.JQ)(entropy.slice(0,entropyBits/8)))[0]&checksumMask)!==(entropy[entropy.length-1]&checksumMask))throw new Error("invalid checksum");return(0,bytes_lib_esm.hexlify)(entropy.slice(0,entropyBits/8))}function entropyToMnemonic(entropy,wordlist){if(wordlist=getWordlist(wordlist),(entropy=(0,bytes_lib_esm.arrayify)(entropy)).length%4!=0||entropy.length<16||entropy.length>32)throw new Error("invalid entropy");const indices=[0];let remainingBits=11;for(let i=0;i<entropy.length;i++)remainingBits>8?(indices[indices.length-1]<<=8,indices[indices.length-1]|=entropy[i],remainingBits-=8):(indices[indices.length-1]<<=remainingBits,indices[indices.length-1]|=entropy[i]>>8-remainingBits,indices.push(entropy[i]&(1<<8-remainingBits)-1),remainingBits+=3);const checksumBits=entropy.length/4,checksum=(0,bytes_lib_esm.arrayify)((0,sha2.JQ)(entropy))[0]&getUpperMask(checksumBits);return indices[indices.length-1]<<=checksumBits,indices[indices.length-1]|=checksum>>8-checksumBits,wordlist.join(indices.map((index=>wordlist.getWord(index))))}function isValidMnemonic(mnemonic,wordlist){try{return mnemonicToEntropy(mnemonic,wordlist),!0}catch(error){}return!1}function getAccountPath(index){return("number"!=typeof index||index<0||index>=HardenedBit||index%1)&&logger.throwArgumentError("invalid account index","index",index),`m/44'/60'/${index}'/0/0`}},"./node_modules/@ethersproject/json-wallets/lib.esm/_version.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>version});const version="json-wallets/5.7.0"},"./node_modules/@ethersproject/json-wallets/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{decryptCrowdsale:()=>decrypt,decryptJsonWallet:()=>decryptJsonWallet,decryptJsonWalletSync:()=>decryptJsonWalletSync,decryptKeystore:()=>keystore.pe,decryptKeystoreSync:()=>keystore.hb,encryptKeystore:()=>keystore.HI,getJsonWalletAddress:()=>inspect.Rb,isCrowdsaleWallet:()=>inspect.LW,isKeystoreWallet:()=>inspect.aO});var aes_js=__webpack_require__("./node_modules/aes-js/index.js"),aes_js_default=__webpack_require__.n(aes_js),lib_esm=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js"),bytes_lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),keccak256_lib_esm=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),pbkdf2=__webpack_require__("./node_modules/@ethersproject/pbkdf2/lib.esm/pbkdf2.js"),utf8=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js"),properties_lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js"),_version=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/_version.js"),utils=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/utils.js");const logger=new logger_lib_esm.Logger(_version.i);class CrowdsaleAccount extends properties_lib_esm.Description{isCrowdsaleAccount(value){return!(!value||!value._isCrowdsaleAccount)}}function decrypt(json,password){const data=JSON.parse(json);password=(0,utils.Ij)(password);const ethaddr=(0,lib_esm.getAddress)((0,utils.gx)(data,"ethaddr")),encseed=(0,utils.p3)((0,utils.gx)(data,"encseed"));encseed&&encseed.length%16==0||logger.throwArgumentError("invalid encseed","json",json);const key=(0,bytes_lib_esm.arrayify)((0,pbkdf2.n)(password,password,2e3,32,"sha256")).slice(0,16),iv=encseed.slice(0,16),encryptedSeed=encseed.slice(16),aesCbc=new(aes_js_default().ModeOfOperation.cbc)(key,iv),seed=aes_js_default().padding.pkcs7.strip((0,bytes_lib_esm.arrayify)(aesCbc.decrypt(encryptedSeed)));let seedHex="";for(let i=0;i<seed.length;i++)seedHex+=String.fromCharCode(seed[i]);const seedHexBytes=(0,utf8.Y0)(seedHex),privateKey=(0,keccak256_lib_esm.keccak256)(seedHexBytes);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:ethaddr,privateKey})}var inspect=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/inspect.js"),keystore=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/keystore.js");function decryptJsonWallet(json,password,progressCallback){if((0,inspect.LW)(json)){progressCallback&&progressCallback(0);const account=decrypt(json,password);return progressCallback&&progressCallback(1),Promise.resolve(account)}return(0,inspect.aO)(json)?(0,keystore.pe)(json,password,progressCallback):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(json,password){if((0,inspect.LW)(json))return decrypt(json,password);if((0,inspect.aO)(json))return(0,keystore.hb)(json,password);throw new Error("invalid JSON wallet")}},"./node_modules/@ethersproject/json-wallets/lib.esm/inspect.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{LW:()=>isCrowdsaleWallet,Rb:()=>getJsonWalletAddress,aO:()=>isKeystoreWallet});var _ethersproject_address__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js");function isCrowdsaleWallet(json){let data=null;try{data=JSON.parse(json)}catch(error){return!1}return data.encseed&&data.ethaddr}function isKeystoreWallet(json){let data=null;try{data=JSON.parse(json)}catch(error){return!1}return!(!data.version||parseInt(data.version)!==data.version||3!==parseInt(data.version))}function getJsonWalletAddress(json){if(isCrowdsaleWallet(json))try{return(0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_0__.getAddress)(JSON.parse(json).ethaddr)}catch(error){return null}if(isKeystoreWallet(json))try{return(0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_0__.getAddress)(JSON.parse(json).address)}catch(error){return null}return null}},"./node_modules/@ethersproject/json-wallets/lib.esm/keystore.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{HI:()=>encrypt,hb:()=>decryptSync,pe:()=>decrypt});var aes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/aes-js/index.js"),aes_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(aes_js__WEBPACK_IMPORTED_MODULE_0__),scrypt_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/scrypt-js/scrypt.js"),scrypt_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(scrypt_js__WEBPACK_IMPORTED_MODULE_1__),_ethersproject_address__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js"),_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_hdnode__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@ethersproject/hdnode/lib.esm/index.js"),_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),_ethersproject_pbkdf2__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@ethersproject/pbkdf2/lib.esm/pbkdf2.js"),_ethersproject_random__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@ethersproject/random/lib.esm/random.js"),_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),_ethersproject_transactions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@ethersproject/transactions/lib.esm/index.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/utils.js"),_ethersproject_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js"),_version__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/_version.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const logger=new _ethersproject_logger__WEBPACK_IMPORTED_MODULE_2__.Logger(_version__WEBPACK_IMPORTED_MODULE_3__.i);function hasMnemonic(value){return null!=value&&value.mnemonic&&value.mnemonic.phrase}class KeystoreAccount extends _ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.Description{isKeystoreAccount(value){return!(!value||!value._isKeystoreAccount)}}function _getAccount(data,key){const ciphertext=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.p3)((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/ciphertext"));if((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.concat)([key.slice(16,32),ciphertext]))).substring(2)!==(0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/mac").toLowerCase())throw new Error("invalid password");const privateKey=function _decrypt(data,key,ciphertext){if("aes-128-ctr"===(0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/cipher")){const iv=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.p3)((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/cipherparams/iv")),counter=new(aes_js__WEBPACK_IMPORTED_MODULE_0___default().Counter)(iv),aesCtr=new(aes_js__WEBPACK_IMPORTED_MODULE_0___default().ModeOfOperation.ctr)(key,counter);return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(aesCtr.decrypt(ciphertext))}return null}(data,key.slice(0,16),ciphertext);privateKey||logger.throwError("unsupported cipher",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_2__.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const mnemonicKey=key.slice(32,64),address=(0,_ethersproject_transactions__WEBPACK_IMPORTED_MODULE_8__.computeAddress)(privateKey);if(data.address){let check=data.address.toLowerCase();if("0x"!==check.substring(0,2)&&(check="0x"+check),(0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_9__.getAddress)(check)!==address)throw new Error("address mismatch")}const account={_isKeystoreAccount:!0,address,privateKey:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(privateKey)};if("0.1"===(0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"x-ethers/version")){const mnemonicCiphertext=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.p3)((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"x-ethers/mnemonicCiphertext")),mnemonicIv=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.p3)((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"x-ethers/mnemonicCounter")),mnemonicCounter=new(aes_js__WEBPACK_IMPORTED_MODULE_0___default().Counter)(mnemonicIv),mnemonicAesCtr=new(aes_js__WEBPACK_IMPORTED_MODULE_0___default().ModeOfOperation.ctr)(mnemonicKey,mnemonicCounter),path=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"x-ethers/path")||_ethersproject_hdnode__WEBPACK_IMPORTED_MODULE_10__.defaultPath,locale=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"x-ethers/locale")||"en",entropy=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(mnemonicAesCtr.decrypt(mnemonicCiphertext));try{const mnemonic=(0,_ethersproject_hdnode__WEBPACK_IMPORTED_MODULE_10__.entropyToMnemonic)(entropy,locale),node=_ethersproject_hdnode__WEBPACK_IMPORTED_MODULE_10__.HDNode.fromMnemonic(mnemonic,null,locale).derivePath(path);if(node.privateKey!=account.privateKey)throw new Error("mnemonic mismatch");account.mnemonic=node.mnemonic}catch(error){if(error.code!==_ethersproject_logger__WEBPACK_IMPORTED_MODULE_2__.Logger.errors.INVALID_ARGUMENT||"wordlist"!==error.argument)throw error}}return new KeystoreAccount(account)}function pbkdf2Sync(passwordBytes,salt,count,dkLen,prfFunc){return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)((0,_ethersproject_pbkdf2__WEBPACK_IMPORTED_MODULE_11__.n)(passwordBytes,salt,count,dkLen,prfFunc))}function pbkdf2(passwordBytes,salt,count,dkLen,prfFunc){return Promise.resolve(pbkdf2Sync(passwordBytes,salt,count,dkLen,prfFunc))}function _computeKdfKey(data,password,pbkdf2Func,scryptFunc,progressCallback){const passwordBytes=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.Ij)(password),kdf=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdf");if(kdf&&"string"==typeof kdf){const throwError=function(name,value){return logger.throwArgumentError("invalid key-derivation function parameters",name,value)};if("scrypt"===kdf.toLowerCase()){const salt=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.p3)((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdfparams/salt")),N=parseInt((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdfparams/n")),r=parseInt((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdfparams/r")),p=parseInt((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdfparams/p"));N&&r&&p||throwError("kdf",kdf),0!=(N&N-1)&&throwError("N",N);const dkLen=parseInt((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdfparams/dklen"));return 32!==dkLen&&throwError("dklen",dkLen),scryptFunc(passwordBytes,salt,N,r,p,64,progressCallback)}if("pbkdf2"===kdf.toLowerCase()){const salt=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.p3)((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdfparams/salt"));let prfFunc=null;const prf=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdfparams/prf");"hmac-sha256"===prf?prfFunc="sha256":"hmac-sha512"===prf?prfFunc="sha512":throwError("prf",prf);const count=parseInt((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdfparams/c")),dkLen=parseInt((0,_utils__WEBPACK_IMPORTED_MODULE_5__.gx)(data,"crypto/kdfparams/dklen"));return 32!==dkLen&&throwError("dklen",dkLen),pbkdf2Func(passwordBytes,salt,count,dkLen,prfFunc)}}return logger.throwArgumentError("unsupported key-derivation function","kdf",kdf)}function decryptSync(json,password){const data=JSON.parse(json);return _getAccount(data,_computeKdfKey(data,password,pbkdf2Sync,scrypt_js__WEBPACK_IMPORTED_MODULE_1___default().syncScrypt))}function decrypt(json,password,progressCallback){return __awaiter(this,void 0,void 0,(function*(){const data=JSON.parse(json);return _getAccount(data,yield _computeKdfKey(data,password,pbkdf2,scrypt_js__WEBPACK_IMPORTED_MODULE_1___default().scrypt,progressCallback))}))}function encrypt(account,password,options,progressCallback){try{if((0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_9__.getAddress)(account.address)!==(0,_ethersproject_transactions__WEBPACK_IMPORTED_MODULE_8__.computeAddress)(account.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic(account)){const mnemonic=account.mnemonic;if(_ethersproject_hdnode__WEBPACK_IMPORTED_MODULE_10__.HDNode.fromMnemonic(mnemonic.phrase,null,mnemonic.locale).derivePath(mnemonic.path||_ethersproject_hdnode__WEBPACK_IMPORTED_MODULE_10__.defaultPath).privateKey!=account.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof options||progressCallback||(progressCallback=options,options={}),options||(options={});const privateKey=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(account.privateKey),passwordBytes=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.Ij)(password);let entropy=null,path=null,locale=null;if(hasMnemonic(account)){const srcMnemonic=account.mnemonic;entropy=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)((0,_ethersproject_hdnode__WEBPACK_IMPORTED_MODULE_10__.mnemonicToEntropy)(srcMnemonic.phrase,srcMnemonic.locale||"en")),path=srcMnemonic.path||_ethersproject_hdnode__WEBPACK_IMPORTED_MODULE_10__.defaultPath,locale=srcMnemonic.locale||"en"}let client=options.client;client||(client="ethers.js");let salt=null;salt=options.salt?(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(options.salt):(0,_ethersproject_random__WEBPACK_IMPORTED_MODULE_12__.O)(32);let iv=null;if(options.iv){if(iv=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(options.iv),16!==iv.length)throw new Error("invalid iv")}else iv=(0,_ethersproject_random__WEBPACK_IMPORTED_MODULE_12__.O)(16);let uuidRandom=null;if(options.uuid){if(uuidRandom=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(options.uuid),16!==uuidRandom.length)throw new Error("invalid uuid")}else uuidRandom=(0,_ethersproject_random__WEBPACK_IMPORTED_MODULE_12__.O)(16);let N=1<<17,r=8,p=1;return options.scrypt&&(options.scrypt.N&&(N=options.scrypt.N),options.scrypt.r&&(r=options.scrypt.r),options.scrypt.p&&(p=options.scrypt.p)),scrypt_js__WEBPACK_IMPORTED_MODULE_1___default().scrypt(passwordBytes,salt,N,r,p,64,progressCallback).then((key=>{const derivedKey=(key=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(key)).slice(0,16),macPrefix=key.slice(16,32),mnemonicKey=key.slice(32,64),counter=new(aes_js__WEBPACK_IMPORTED_MODULE_0___default().Counter)(iv),aesCtr=new(aes_js__WEBPACK_IMPORTED_MODULE_0___default().ModeOfOperation.ctr)(derivedKey,counter),ciphertext=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(aesCtr.encrypt(privateKey)),mac=(0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.concat)([macPrefix,ciphertext])),data={address:account.address.substring(2).toLowerCase(),id:(0,_utils__WEBPACK_IMPORTED_MODULE_5__.EH)(uuidRandom),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(iv).substring(2)},ciphertext:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(ciphertext).substring(2),kdf:"scrypt",kdfparams:{salt:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(salt).substring(2),n:N,dklen:32,p,r},mac:mac.substring(2)}};if(entropy){const mnemonicIv=(0,_ethersproject_random__WEBPACK_IMPORTED_MODULE_12__.O)(16),mnemonicCounter=new(aes_js__WEBPACK_IMPORTED_MODULE_0___default().Counter)(mnemonicIv),mnemonicAesCtr=new(aes_js__WEBPACK_IMPORTED_MODULE_0___default().ModeOfOperation.ctr)(mnemonicKey,mnemonicCounter),mnemonicCiphertext=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.arrayify)(mnemonicAesCtr.encrypt(entropy)),now=new Date,timestamp=now.getUTCFullYear()+"-"+(0,_utils__WEBPACK_IMPORTED_MODULE_5__.VP)(now.getUTCMonth()+1,2)+"-"+(0,_utils__WEBPACK_IMPORTED_MODULE_5__.VP)(now.getUTCDate(),2)+"T"+(0,_utils__WEBPACK_IMPORTED_MODULE_5__.VP)(now.getUTCHours(),2)+"-"+(0,_utils__WEBPACK_IMPORTED_MODULE_5__.VP)(now.getUTCMinutes(),2)+"-"+(0,_utils__WEBPACK_IMPORTED_MODULE_5__.VP)(now.getUTCSeconds(),2)+".0Z";data["x-ethers"]={client,gethFilename:"UTC--"+timestamp+"--"+data.address,mnemonicCounter:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(mnemonicIv).substring(2),mnemonicCiphertext:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_6__.hexlify)(mnemonicCiphertext).substring(2),path,locale,version:"0.1"}}return JSON.stringify(data)}))}},"./node_modules/@ethersproject/json-wallets/lib.esm/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EH:()=>uuidV4,Ij:()=>getPassword,VP:()=>zpad,gx:()=>searchPath,p3:()=>looseArrayify});var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_strings__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js");function looseArrayify(hexString){return"string"==typeof hexString&&"0x"!==hexString.substring(0,2)&&(hexString="0x"+hexString),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)(hexString)}function zpad(value,length){for(value=String(value);value.length<length;)value="0"+value;return value}function getPassword(password){return"string"==typeof password?(0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_1__.Y0)(password,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_1__.Uj.NFKC):(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)(password)}function searchPath(object,path){let currentChild=object;const comps=path.toLowerCase().split("/");for(let i=0;i<comps.length;i++){let matchingChild=null;for(const key in currentChild)if(key.toLowerCase()===comps[i]){matchingChild=currentChild[key];break}if(null===matchingChild)return null;currentChild=matchingChild}return currentChild}function uuidV4(randomBytes){const bytes=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)(randomBytes);bytes[6]=15&bytes[6]|64,bytes[8]=63&bytes[8]|128;const value=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.hexlify)(bytes);return[value.substring(2,10),value.substring(10,14),value.substring(14,18),value.substring(18,22),value.substring(22,34)].join("-")}},"./node_modules/@ethersproject/networks/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>getNetwork});const logger=new(__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js").Logger)("networks/5.7.1");function ethDefaultProvider(network){const func=function(providers,options){null==options&&(options={});const providerList=[];if(providers.InfuraProvider&&"-"!==options.infura)try{providerList.push(new providers.InfuraProvider(network,options.infura))}catch(error){}if(providers.EtherscanProvider&&"-"!==options.etherscan)try{providerList.push(new providers.EtherscanProvider(network,options.etherscan))}catch(error){}if(providers.AlchemyProvider&&"-"!==options.alchemy)try{providerList.push(new providers.AlchemyProvider(network,options.alchemy))}catch(error){}if(providers.PocketProvider&&"-"!==options.pocket){const skip=["goerli","ropsten","rinkeby","sepolia"];try{const provider=new providers.PocketProvider(network,options.pocket);provider.network&&-1===skip.indexOf(provider.network.name)&&providerList.push(provider)}catch(error){}}if(providers.CloudflareProvider&&"-"!==options.cloudflare)try{providerList.push(new providers.CloudflareProvider(network))}catch(error){}if(providers.AnkrProvider&&"-"!==options.ankr)try{const skip=["ropsten"],provider=new providers.AnkrProvider(network,options.ankr);provider.network&&-1===skip.indexOf(provider.network.name)&&providerList.push(provider)}catch(error){}if(0===providerList.length)return null;if(providers.FallbackProvider){let quorum=1;return null!=options.quorum?quorum=options.quorum:"homestead"===network&&(quorum=2),new providers.FallbackProvider(providerList,quorum)}return providerList[0]};return func.renetwork=function(network){return ethDefaultProvider(network)},func}function etcDefaultProvider(url,network){const func=function(providers,options){return providers.JsonRpcProvider?new providers.JsonRpcProvider(url,network):null};return func.renetwork=function(network){return etcDefaultProvider(url,network)},func}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(network){if(null==network)return null;if("number"==typeof network){for(const name in networks){const standard=networks[name];if(standard.chainId===network)return{name:standard.name,chainId:standard.chainId,ensAddress:standard.ensAddress||null,_defaultProvider:standard._defaultProvider||null}}return{chainId:network,name:"unknown"}}if("string"==typeof network){const standard=networks[network];return null==standard?null:{name:standard.name,chainId:standard.chainId,ensAddress:standard.ensAddress,_defaultProvider:standard._defaultProvider||null}}const standard=networks[network.name];if(!standard)return"number"!=typeof network.chainId&&logger.throwArgumentError("invalid network chainId","network",network),network;0!==network.chainId&&network.chainId!==standard.chainId&&logger.throwArgumentError("network chainId mismatch","network",network);let defaultProvider=network._defaultProvider||null;return null==defaultProvider&&standard._defaultProvider&&(defaultProvider=function isRenetworkable(value){return value&&"function"==typeof value.renetwork}(standard._defaultProvider)?standard._defaultProvider.renetwork(network):standard._defaultProvider),{name:network.name,chainId:standard.chainId,ensAddress:network.ensAddress||standard.ensAddress||null,_defaultProvider:defaultProvider}}},"./node_modules/@ethersproject/pbkdf2/lib.esm/pbkdf2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>pbkdf2});var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_sha2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/sha2.js");function pbkdf2(password,salt,iterations,keylen,hashAlgorithm){let hLen;password=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)(password),salt=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)(salt);let l=1;const DK=new Uint8Array(keylen),block1=new Uint8Array(salt.length+4);let r,T;block1.set(salt);for(let i=1;i<=l;i++){block1[salt.length]=i>>24&255,block1[salt.length+1]=i>>16&255,block1[salt.length+2]=i>>8&255,block1[salt.length+3]=255&i;let U=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)((0,_ethersproject_sha2__WEBPACK_IMPORTED_MODULE_1__.Gy)(hashAlgorithm,password,block1));hLen||(hLen=U.length,T=new Uint8Array(hLen),l=Math.ceil(keylen/hLen),r=keylen-(l-1)*hLen),T.set(U);for(let j=1;j<iterations;j++){U=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)((0,_ethersproject_sha2__WEBPACK_IMPORTED_MODULE_1__.Gy)(hashAlgorithm,password,U));for(let k=0;k<hLen;k++)T[k]^=U[k]}const destPos=(i-1)*hLen,len=i===l?r:hLen;DK.set((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.arrayify)(T).slice(0,len),destPos)}return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_0__.hexlify)(DK)}},"./node_modules/@ethersproject/providers/lib.esm/_version.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>version});const version="providers/5.7.2"},"./node_modules/@ethersproject/providers/lib.esm/base-provider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H2:()=>Resolver,Zk:()=>BaseProvider});var _ethersproject_abstract_provider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ethersproject/abstract-provider/lib.esm/index.js"),_ethersproject_base64__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@ethersproject/base64/lib.esm/base64.js"),_ethersproject_basex__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@ethersproject/basex/lib.esm/index.js"),_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_constants__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@ethersproject/constants/lib.esm/hashes.js"),_ethersproject_hash__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/namehash.js"),_ethersproject_networks__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@ethersproject/networks/lib.esm/index.js"),_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),_ethersproject_sha2__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/sha2.js"),_ethersproject_strings__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js"),_ethersproject_web__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@ethersproject/web/lib.esm/index.js"),bech32__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/bech32/index.js"),bech32__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(bech32__WEBPACK_IMPORTED_MODULE_0__),_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js"),_version__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/_version.js"),_formatter__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/formatter.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const logger=new _ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger(_version__WEBPACK_IMPORTED_MODULE_2__.i);function checkTopic(topic){return null==topic?"null":(32!==(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataLength)(topic)&&logger.throwArgumentError("invalid topic","topic",topic),topic.toLowerCase())}function serializeTopics(topics){for(topics=topics.slice();topics.length>0&&null==topics[topics.length-1];)topics.pop();return topics.map((topic=>{if(Array.isArray(topic)){const unique={};topic.forEach((topic=>{unique[checkTopic(topic)]=!0}));const sorted=Object.keys(unique);return sorted.sort(),sorted.join("|")}return checkTopic(topic)})).join("&")}function getEventTag(eventName){if("string"==typeof eventName){if(eventName=eventName.toLowerCase(),32===(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataLength)(eventName))return"tx:"+eventName;if(-1===eventName.indexOf(":"))return eventName}else{if(Array.isArray(eventName))return"filter:*:"+serializeTopics(eventName);if(_ethersproject_abstract_provider__WEBPACK_IMPORTED_MODULE_4__.Sg.isForkEvent(eventName))throw logger.warn("not implemented"),new Error("not implemented");if(eventName&&"object"==typeof eventName)return"filter:"+(eventName.address||"*")+":"+serializeTopics(eventName.topics||[])}throw new Error("invalid event - "+eventName)}function getTime(){return(new Date).getTime()}function stall(duration){return new Promise((resolve=>{setTimeout(resolve,duration)}))}const PollableEvents=["block","network","pending","poll"];class Event{constructor(tag,listener,once){(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"tag",tag),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"listener",listener),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"once",once),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const comps=this.tag.split(":");return"tx"!==comps[0]?null:comps[1]}get filter(){const comps=this.tag.split(":");if("filter"!==comps[0])return null;const address=comps[1],topics=function deserializeTopics(data){return""===data?[]:data.split(/&/g).map((topic=>{if(""===topic)return[];const comps=topic.split("|").map((topic=>"null"===topic?null:topic));return 1===comps.length?comps[0]:comps}))}(comps[2]),filter={};return topics.length>0&&(filter.topics=topics),address&&"*"!==address&&(filter.address=address),filter}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(value){return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexZeroPad)(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(value).toHexString(),32)}function base58Encode(data){return _ethersproject_basex__WEBPACK_IMPORTED_MODULE_7__.Base58.encode((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.concat)([data,(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)((0,_ethersproject_sha2__WEBPACK_IMPORTED_MODULE_8__.JQ)((0,_ethersproject_sha2__WEBPACK_IMPORTED_MODULE_8__.JQ)(data)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(result,start){try{return(0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_9__.ZN)(_parseBytes(result,start))}catch(error){}return null}function _parseBytes(result,start){if("0x"===result)return null;const offset=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(result,start,start+32)).toNumber(),length=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(result,offset,offset+32)).toNumber();return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(result,offset+32,offset+32+length)}function getIpfsLink(link){return link.match(/^ipfs:\/\/ipfs\//i)?link=link.substring(12):link.match(/^ipfs:\/\//i)?link=link.substring(7):logger.throwArgumentError("unsupported IPFS format","link",link),`https://gateway.ipfs.io/ipfs/${link}`}function numPad(value){const result=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.arrayify)(value);if(result.length>32)throw new Error("internal; should not happen");const padded=new Uint8Array(32);return padded.set(result,32-result.length),padded}function bytesPad(value){if(value.length%32==0)return value;const result=new Uint8Array(32*Math.ceil(value.length/32));return result.set(value),result}function encodeBytes(datas){const result=[];let byteCount=0;for(let i=0;i<datas.length;i++)result.push(null),byteCount+=32;for(let i=0;i<datas.length;i++){const data=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.arrayify)(datas[i]);result[i]=numPad(byteCount),result.push(numPad(data.length)),result.push(bytesPad(data)),byteCount+=32+32*Math.ceil(data.length/32)}return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)(result)}class Resolver{constructor(provider,address,name,resolvedAddress){(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"provider",provider),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"name",name),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"address",provider.formatter.address(address)),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"_resolvedAddress",resolvedAddress)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((result=>_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(result).eq(1))).catch((error=>{if(error.code===_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,error}))),this._supportsEip2544}_fetch(selector,parameters){return __awaiter(this,void 0,void 0,(function*(){const tx={to:this.address,ccipReadEnabled:!0,data:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)([selector,(0,_ethersproject_hash__WEBPACK_IMPORTED_MODULE_10__.VM)(this.name),parameters||"0x"])};let parseBytes=!1;(yield this.supportsWildcard())&&(parseBytes=!0,tx.data=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)(["0x9061b923",encodeBytes([(0,_ethersproject_hash__WEBPACK_IMPORTED_MODULE_10__.Kn)(this.name),tx.data])]));try{let result=yield this.provider.call(tx);return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.arrayify)(result).length%32==4&&logger.throwError("resolver threw error",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION,{transaction:tx,data:result}),parseBytes&&(result=_parseBytes(result,0)),result}catch(error){if(error.code===_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION)return null;throw error}}))}_fetchBytes(selector,parameters){return __awaiter(this,void 0,void 0,(function*(){const result=yield this._fetch(selector,parameters);return null!=result?_parseBytes(result,0):null}))}_getAddress(coinType,hexBytes){const coinInfo=coinInfos[String(coinType)];if(null==coinInfo&&logger.throwError(`unsupported coin type: ${coinType}`,_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${coinType})`}),"eth"===coinInfo.ilk)return this.provider.formatter.address(hexBytes);const bytes=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.arrayify)(hexBytes);if(null!=coinInfo.p2pkh){const p2pkh=hexBytes.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(p2pkh){const length=parseInt(p2pkh[1],16);if(p2pkh[2].length===2*length&&length>=1&&length<=75)return base58Encode((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.concat)([[coinInfo.p2pkh],"0x"+p2pkh[2]]))}}if(null!=coinInfo.p2sh){const p2sh=hexBytes.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(p2sh){const length=parseInt(p2sh[1],16);if(p2sh[2].length===2*length&&length>=1&&length<=75)return base58Encode((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.concat)([[coinInfo.p2sh],"0x"+p2sh[2]]))}}if(null!=coinInfo.prefix){const length=bytes[1];let version=bytes[0];if(0===version?20!==length&&32!==length&&(version=-1):version=-1,version>=0&&bytes.length===2+length&&length>=1&&length<=75){const words=bech32__WEBPACK_IMPORTED_MODULE_0___default().toWords(bytes.slice(2));return words.unshift(version),bech32__WEBPACK_IMPORTED_MODULE_0___default().encode(coinInfo.prefix,words)}}return null}getAddress(coinType){return __awaiter(this,void 0,void 0,(function*(){if(null==coinType&&(coinType=60),60===coinType)try{const result=yield this._fetch("0x3b3b57de");return"0x"===result||result===_ethersproject_constants__WEBPACK_IMPORTED_MODULE_11__.R?null:this.provider.formatter.callAddress(result)}catch(error){if(error.code===_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION)return null;throw error}const hexBytes=yield this._fetchBytes("0xf1cb7e06",bytes32ify(coinType));if(null==hexBytes||"0x"===hexBytes)return null;const address=this._getAddress(coinType,hexBytes);return null==address&&logger.throwError("invalid or unsupported coin data",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${coinType})`,coinType,data:hexBytes}),address}))}getAvatar(){return __awaiter(this,void 0,void 0,(function*(){const linkage=[{type:"name",content:this.name}];try{const avatar=yield this.getText("avatar");if(null==avatar)return null;for(let i=0;i<matchers.length;i++){const match=avatar.match(matchers[i]);if(null==match)continue;const scheme=match[1].toLowerCase();switch(scheme){case"https":return linkage.push({type:"url",content:avatar}),{linkage,url:avatar};case"data":return linkage.push({type:"data",content:avatar}),{linkage,url:avatar};case"ipfs":return linkage.push({type:"ipfs",content:avatar}),{linkage,url:getIpfsLink(avatar)};case"erc721":case"erc1155":{const selector="erc721"===scheme?"0xc87b56dd":"0x0e89341c";linkage.push({type:scheme,content:avatar});const owner=this._resolvedAddress||(yield this.getAddress()),comps=(match[2]||"").split("/");if(2!==comps.length)return null;const addr=yield this.provider.formatter.address(comps[0]),tokenId=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexZeroPad)(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(comps[1]).toHexString(),32);if("erc721"===scheme){const tokenOwner=this.provider.formatter.callAddress(yield this.provider.call({to:addr,data:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)(["0x6352211e",tokenId])}));if(owner!==tokenOwner)return null;linkage.push({type:"owner",content:tokenOwner})}else if("erc1155"===scheme){const balance=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(yield this.provider.call({to:addr,data:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)(["0x00fdd58e",(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexZeroPad)(owner,32),tokenId])}));if(balance.isZero())return null;linkage.push({type:"balance",content:balance.toString()})}const tx={to:this.provider.formatter.address(comps[0]),data:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)([selector,tokenId])};let metadataUrl=_parseString(yield this.provider.call(tx),0);if(null==metadataUrl)return null;linkage.push({type:"metadata-url-base",content:metadataUrl}),"erc1155"===scheme&&(metadataUrl=metadataUrl.replace("{id}",tokenId.substring(2)),linkage.push({type:"metadata-url-expanded",content:metadataUrl})),metadataUrl.match(/^ipfs:/i)&&(metadataUrl=getIpfsLink(metadataUrl)),linkage.push({type:"metadata-url",content:metadataUrl});const metadata=yield(0,_ethersproject_web__WEBPACK_IMPORTED_MODULE_12__.fetchJson)(metadataUrl);if(!metadata)return null;linkage.push({type:"metadata",content:JSON.stringify(metadata)});let imageUrl=metadata.image;if("string"!=typeof imageUrl)return null;if(imageUrl.match(/^(https:\/\/|data:)/i));else{if(null==imageUrl.match(matcherIpfs))return null;linkage.push({type:"url-ipfs",content:imageUrl}),imageUrl=getIpfsLink(imageUrl)}return linkage.push({type:"url",content:imageUrl}),{linkage,url:imageUrl}}}}}catch(error){}return null}))}getContentHash(){return __awaiter(this,void 0,void 0,(function*(){const hexBytes=yield this._fetchBytes("0xbc1c58d1");if(null==hexBytes||"0x"===hexBytes)return null;const ipfs=hexBytes.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(ipfs){const length=parseInt(ipfs[3],16);if(ipfs[4].length===2*length)return"ipfs://"+_ethersproject_basex__WEBPACK_IMPORTED_MODULE_7__.Base58.encode("0x"+ipfs[1])}const ipns=hexBytes.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(ipns){const length=parseInt(ipns[3],16);if(ipns[4].length===2*length)return"ipns://"+_ethersproject_basex__WEBPACK_IMPORTED_MODULE_7__.Base58.encode("0x"+ipns[1])}const swarm=hexBytes.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(swarm&&64===swarm[1].length)return"bzz://"+swarm[1];const skynet=hexBytes.match(/^0x90b2c605([0-9a-f]*)$/);if(skynet&&68===skynet[1].length){const urlSafe={"=":"","+":"-","/":"_"};return"sia://"+(0,_ethersproject_base64__WEBPACK_IMPORTED_MODULE_13__.c)("0x"+skynet[1]).replace(/[=+\/]/g,(a=>urlSafe[a]))}return logger.throwError("invalid or unsupported content hash data",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:hexBytes})}))}getText(key){return __awaiter(this,void 0,void 0,(function*(){let keyBytes=(0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_9__.Y0)(key);keyBytes=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.concat)([bytes32ify(64),bytes32ify(keyBytes.length),keyBytes]),keyBytes.length%32!=0&&(keyBytes=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.concat)([keyBytes,(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexZeroPad)("0x",32-key.length%32)]));const hexBytes=yield this._fetchBytes("0x59d1d43c",(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexlify)(keyBytes));return null==hexBytes||"0x"===hexBytes?null:(0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_9__.ZN)(hexBytes)}))}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends _ethersproject_abstract_provider__WEBPACK_IMPORTED_MODULE_4__.zt{constructor(network){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"anyNetwork","any"===network),this.anyNetwork&&(network=this.detectNetwork()),network instanceof Promise)this._networkPromise=network,network.catch((error=>{})),this._ready().catch((error=>{}));else{const knownNetwork=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.getStatic)(new.target,"getNetwork")(network);knownNetwork?((0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"_network",knownNetwork),this.emit("network",knownNetwork,null)):logger.throwArgumentError("invalid network","network",network)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter(this,void 0,void 0,(function*(){if(null==this._network){let network=null;if(this._networkPromise)try{network=yield this._networkPromise}catch(error){}null==network&&(network=yield this.detectNetwork()),network||logger.throwError("no network detected",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=network:(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.defineReadOnly)(this,"_network",network),this.emit("network",network,null))}return this._network}))}get ready(){return(0,_ethersproject_web__WEBPACK_IMPORTED_MODULE_12__.poll)((()=>this._ready().then((network=>network),(error=>{if(error.code!==_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.NETWORK_ERROR||"noNetwork"!==error.event)throw error}))))}static getFormatter(){return null==defaultFormatter&&(defaultFormatter=new _formatter__WEBPACK_IMPORTED_MODULE_14__.Mb),defaultFormatter}static getNetwork(network){return(0,_ethersproject_networks__WEBPACK_IMPORTED_MODULE_15__.H)(null==network?"homestead":network)}ccipReadFetch(tx,calldata,urls){return __awaiter(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===urls.length)return null;const sender=tx.to.toLowerCase(),data=calldata.toLowerCase(),errorMessages=[];for(let i=0;i<urls.length;i++){const url=urls[i],href=url.replace("{sender}",sender).replace("{data}",data),json=url.indexOf("{data}")>=0?null:JSON.stringify({data,sender}),result=yield(0,_ethersproject_web__WEBPACK_IMPORTED_MODULE_12__.fetchJson)({url:href,errorPassThrough:!0},json,((value,response)=>(value.status=response.statusCode,value)));if(result.data)return result.data;const errorMessage=result.message||"unknown error";if(result.status>=400&&result.status<500)return logger.throwError(`response not found during CCIP fetch: ${errorMessage}`,_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{url,errorMessage});errorMessages.push(errorMessage)}return logger.throwError(`error encountered during CCIP fetch: ${errorMessages.map((m=>JSON.stringify(m))).join(", ")}`,_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{urls,errorMessages})}))}_getInternalBlockNumber(maxAge){return __awaiter(this,void 0,void 0,(function*(){if(yield this._ready(),maxAge>0)for(;this._internalBlockNumber;){const internalBlockNumber=this._internalBlockNumber;try{const result=yield internalBlockNumber;if(getTime()-result.respTime<=maxAge)return result.blockNumber;break}catch(error){if(this._internalBlockNumber===internalBlockNumber)break}}const reqTime=getTime(),checkInternalBlockNumber=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((network=>null),(error=>error))}).then((({blockNumber,networkError})=>{if(networkError)throw this._internalBlockNumber===checkInternalBlockNumber&&(this._internalBlockNumber=null),networkError;const respTime=getTime();return(blockNumber=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(blockNumber).toNumber())<this._maxInternalBlockNumber&&(blockNumber=this._maxInternalBlockNumber),this._maxInternalBlockNumber=blockNumber,this._setFastBlockNumber(blockNumber),{blockNumber,reqTime,respTime}}));return this._internalBlockNumber=checkInternalBlockNumber,checkInternalBlockNumber.catch((error=>{this._internalBlockNumber===checkInternalBlockNumber&&(this._internalBlockNumber=null)})),(yield checkInternalBlockNumber).blockNumber}))}poll(){return __awaiter(this,void 0,void 0,(function*(){const pollId=nextPollId++,runners=[];let blockNumber=null;try{blockNumber=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(error){return void this.emit("error",error)}if(this._setFastBlockNumber(blockNumber),this.emit("poll",pollId,blockNumber),blockNumber!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=blockNumber-1),Math.abs(this._emitted.block-blockNumber)>1e3)logger.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${blockNumber})`),this.emit("error",logger.makeError("network block skew detected",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.NETWORK_ERROR,{blockNumber,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",blockNumber);else for(let i=this._emitted.block+1;i<=blockNumber;i++)this.emit("block",i);this._emitted.block!==blockNumber&&(this._emitted.block=blockNumber,Object.keys(this._emitted).forEach((key=>{if("block"===key)return;const eventBlockNumber=this._emitted[key];"pending"!==eventBlockNumber&&blockNumber-eventBlockNumber>12&&delete this._emitted[key]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=blockNumber-1),this._events.forEach((event=>{switch(event.type){case"tx":{const hash=event.hash;let runner=this.getTransactionReceipt(hash).then((receipt=>receipt&&null!=receipt.blockNumber?(this._emitted["t:"+hash]=receipt.blockNumber,this.emit(hash,receipt),null):null)).catch((error=>{this.emit("error",error)}));runners.push(runner);break}case"filter":if(!event._inflight){event._inflight=!0,-2===event._lastBlockNumber&&(event._lastBlockNumber=blockNumber-1);const filter=event.filter;filter.fromBlock=event._lastBlockNumber+1,filter.toBlock=blockNumber;const minFromBlock=filter.toBlock-this._maxFilterBlockRange;minFromBlock>filter.fromBlock&&(filter.fromBlock=minFromBlock),filter.fromBlock<0&&(filter.fromBlock=0);const runner=this.getLogs(filter).then((logs=>{event._inflight=!1,0!==logs.length&&logs.forEach((log=>{log.blockNumber>event._lastBlockNumber&&(event._lastBlockNumber=log.blockNumber),this._emitted["b:"+log.blockHash]=log.blockNumber,this._emitted["t:"+log.transactionHash]=log.blockNumber,this.emit(filter,log)}))})).catch((error=>{this.emit("error",error),event._inflight=!1}));runners.push(runner)}}})),this._lastBlockNumber=blockNumber,Promise.all(runners).then((()=>{this.emit("didPoll",pollId)})).catch((error=>{this.emit("error",error)}))}else this.emit("didPoll",pollId)}))}resetEventsBlock(blockNumber){this._lastBlockNumber=blockNumber-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter(this,void 0,void 0,(function*(){return logger.throwError("provider does not support network detection",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return __awaiter(this,void 0,void 0,(function*(){const network=yield this._ready(),currentNetwork=yield this.detectNetwork();if(network.chainId!==currentNetwork.chainId){if(this.anyNetwork)return this._network=currentNetwork,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",currentNetwork,network),yield stall(0),this._network;const error=logger.makeError("underlying network changed",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.NETWORK_ERROR,{event:"changed",network,detectedNetwork:currentNetwork});throw this.emit("error",error),error}return network}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((blockNumber=>{this._setFastBlockNumber(blockNumber)}),(error=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(value){value&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!value&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(value){if("number"!=typeof value||value<=0||parseInt(String(value))!=value)throw new Error("invalid polling interval");this._pollingInterval=value,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const now=getTime();return now-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=now,this._fastBlockNumberPromise=this.getBlockNumber().then((blockNumber=>((null==this._fastBlockNumber||blockNumber>this._fastBlockNumber)&&(this._fastBlockNumber=blockNumber),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(blockNumber){null!=this._fastBlockNumber&&blockNumber<this._fastBlockNumber||(this._fastQueryDate=getTime(),(null==this._fastBlockNumber||blockNumber>this._fastBlockNumber)&&(this._fastBlockNumber=blockNumber,this._fastBlockNumberPromise=Promise.resolve(blockNumber)))}waitForTransaction(transactionHash,confirmations,timeout){return __awaiter(this,void 0,void 0,(function*(){return this._waitForTransaction(transactionHash,null==confirmations?1:confirmations,timeout||0,null)}))}_waitForTransaction(transactionHash,confirmations,timeout,replaceable){return __awaiter(this,void 0,void 0,(function*(){const receipt=yield this.getTransactionReceipt(transactionHash);return(receipt?receipt.confirmations:0)>=confirmations?receipt:new Promise(((resolve,reject)=>{const cancelFuncs=[];let done=!1;const alreadyDone=function(){return!!done||(done=!0,cancelFuncs.forEach((func=>{func()})),!1)},minedHandler=receipt=>{receipt.confirmations<confirmations||alreadyDone()||resolve(receipt)};if(this.on(transactionHash,minedHandler),cancelFuncs.push((()=>{this.removeListener(transactionHash,minedHandler)})),replaceable){let lastBlockNumber=replaceable.startBlock,scannedBlock=null;const replaceHandler=blockNumber=>__awaiter(this,void 0,void 0,(function*(){done||(yield stall(1e3),this.getTransactionCount(replaceable.from).then((nonce=>__awaiter(this,void 0,void 0,(function*(){if(!done){if(nonce<=replaceable.nonce)lastBlockNumber=blockNumber;else{{const mined=yield this.getTransaction(transactionHash);if(mined&&null!=mined.blockNumber)return}for(null==scannedBlock&&(scannedBlock=lastBlockNumber-3,scannedBlock<replaceable.startBlock&&(scannedBlock=replaceable.startBlock));scannedBlock<=blockNumber;){if(done)return;const block=yield this.getBlockWithTransactions(scannedBlock);for(let ti=0;ti<block.transactions.length;ti++){const tx=block.transactions[ti];if(tx.hash===transactionHash)return;if(tx.from===replaceable.from&&tx.nonce===replaceable.nonce){if(done)return;const receipt=yield this.waitForTransaction(tx.hash,confirmations);if(alreadyDone())return;let reason="replaced";return tx.data===replaceable.data&&tx.to===replaceable.to&&tx.value.eq(replaceable.value)?reason="repriced":"0x"===tx.data&&tx.from===tx.to&&tx.value.isZero()&&(reason="cancelled"),void reject(logger.makeError("transaction was replaced",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===reason||"cancelled"===reason,reason,replacement:this._wrapTransaction(tx),hash:transactionHash,receipt}))}}scannedBlock++}}done||this.once("block",replaceHandler)}}))),(error=>{done||this.once("block",replaceHandler)})))}));if(done)return;this.once("block",replaceHandler),cancelFuncs.push((()=>{this.removeListener("block",replaceHandler)}))}if("number"==typeof timeout&&timeout>0){const timer=setTimeout((()=>{alreadyDone()||reject(logger.makeError("timeout exceeded",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.TIMEOUT,{timeout}))}),timeout);timer.unref&&timer.unref(),cancelFuncs.push((()=>{clearTimeout(timer)}))}}))}))}getBlockNumber(){return __awaiter(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork();const result=yield this.perform("getGasPrice",{});try{return _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(result)}catch(error){return logger.throwError("bad result from backend",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result,error})}}))}getBalance(addressOrName,blockTag){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork();const params=yield(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)({address:this._getAddress(addressOrName),blockTag:this._getBlockTag(blockTag)}),result=yield this.perform("getBalance",params);try{return _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(result)}catch(error){return logger.throwError("bad result from backend",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{method:"getBalance",params,result,error})}}))}getTransactionCount(addressOrName,blockTag){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork();const params=yield(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)({address:this._getAddress(addressOrName),blockTag:this._getBlockTag(blockTag)}),result=yield this.perform("getTransactionCount",params);try{return _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(result).toNumber()}catch(error){return logger.throwError("bad result from backend",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params,result,error})}}))}getCode(addressOrName,blockTag){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork();const params=yield(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)({address:this._getAddress(addressOrName),blockTag:this._getBlockTag(blockTag)}),result=yield this.perform("getCode",params);try{return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexlify)(result)}catch(error){return logger.throwError("bad result from backend",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{method:"getCode",params,result,error})}}))}getStorageAt(addressOrName,position,blockTag){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork();const params=yield(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)({address:this._getAddress(addressOrName),blockTag:this._getBlockTag(blockTag),position:Promise.resolve(position).then((p=>(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexValue)(p)))}),result=yield this.perform("getStorageAt",params);try{return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexlify)(result)}catch(error){return logger.throwError("bad result from backend",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params,result,error})}}))}_wrapTransaction(tx,hash,startBlock){if(null!=hash&&32!==(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataLength)(hash))throw new Error("invalid response - sendTransaction");const result=tx;return null!=hash&&tx.hash!==hash&&logger.throwError("Transaction hash mismatch from Provider.sendTransaction.",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.UNKNOWN_ERROR,{expectedHash:tx.hash,returnedHash:hash}),result.wait=(confirms,timeout)=>__awaiter(this,void 0,void 0,(function*(){let replacement;null==confirms&&(confirms=1),null==timeout&&(timeout=0),0!==confirms&&null!=startBlock&&(replacement={data:tx.data,from:tx.from,nonce:tx.nonce,to:tx.to,value:tx.value,startBlock});const receipt=yield this._waitForTransaction(tx.hash,confirms,timeout,replacement);return null==receipt&&0===confirms?null:(this._emitted["t:"+tx.hash]=receipt.blockNumber,0===receipt.status&&logger.throwError("transaction failed",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION,{transactionHash:tx.hash,transaction:tx,receipt}),receipt)})),result}sendTransaction(signedTransaction){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork();const hexTx=yield Promise.resolve(signedTransaction).then((t=>(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexlify)(t))),tx=this.formatter.transaction(signedTransaction);null==tx.confirmations&&(tx.confirmations=0);const blockNumber=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const hash=yield this.perform("sendTransaction",{signedTransaction:hexTx});return this._wrapTransaction(tx,hash,blockNumber)}catch(error){throw error.transaction=tx,error.transactionHash=tx.hash,error}}))}_getTransactionRequest(transaction){return __awaiter(this,void 0,void 0,(function*(){const values=yield transaction,tx={};return["from","to"].forEach((key=>{null!=values[key]&&(tx[key]=Promise.resolve(values[key]).then((v=>v?this._getAddress(v):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((key=>{null!=values[key]&&(tx[key]=Promise.resolve(values[key]).then((v=>v?_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(v):null)))})),["type"].forEach((key=>{null!=values[key]&&(tx[key]=Promise.resolve(values[key]).then((v=>null!=v?v:null)))})),values.accessList&&(tx.accessList=this.formatter.accessList(values.accessList)),["data"].forEach((key=>{null!=values[key]&&(tx[key]=Promise.resolve(values[key]).then((v=>v?(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexlify)(v):null)))})),this.formatter.transactionRequest(yield(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)(tx))}))}_getFilter(filter){return __awaiter(this,void 0,void 0,(function*(){filter=yield filter;const result={};return null!=filter.address&&(result.address=this._getAddress(filter.address)),["blockHash","topics"].forEach((key=>{null!=filter[key]&&(result[key]=filter[key])})),["fromBlock","toBlock"].forEach((key=>{null!=filter[key]&&(result[key]=this._getBlockTag(filter[key]))})),this.formatter.filter(yield(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)(result))}))}_call(transaction,blockTag,attempt){return __awaiter(this,void 0,void 0,(function*(){attempt>=10&&logger.throwError("CCIP read exceeded maximum redirections",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{redirects:attempt,transaction});const txSender=transaction.to,result=yield this.perform("call",{transaction,blockTag});if(attempt>=0&&"latest"===blockTag&&null!=txSender&&"0x556f1830"===result.substring(0,10)&&(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataLength)(result)%32==4)try{const data=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(result,4),sender=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(data,0,32);_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(sender).eq(txSender)||logger.throwError("CCIP Read sender did not match",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction,data:result});const urls=[],urlsOffset=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(data,32,64)).toNumber(),urlsLength=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(data,urlsOffset,urlsOffset+32)).toNumber(),urlsData=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(data,urlsOffset+32);for(let u=0;u<urlsLength;u++){const url=_parseString(urlsData,32*u);null==url&&logger.throwError("CCIP Read contained corrupt URL string",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction,data:result}),urls.push(url)}const calldata=_parseBytes(data,64);_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(data,100,128)).isZero()||logger.throwError("CCIP Read callback selector included junk",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction,data:result});const callbackSelector=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexDataSlice)(data,96,100),extraData=_parseBytes(data,128),ccipResult=yield this.ccipReadFetch(transaction,calldata,urls);null==ccipResult&&logger.throwError("CCIP Read disabled or provided no URLs",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction,data:result});const tx={to:txSender,data:(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexConcat)([callbackSelector,encodeBytes([ccipResult,extraData])])};return this._call(tx,blockTag,attempt+1)}catch(error){if(error.code===_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR)throw error}try{return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.hexlify)(result)}catch(error){return logger.throwError("bad result from backend",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction,blockTag},result,error})}}))}call(transaction,blockTag){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork();const resolved=yield(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)({transaction:this._getTransactionRequest(transaction),blockTag:this._getBlockTag(blockTag),ccipReadEnabled:Promise.resolve(transaction.ccipReadEnabled)});return this._call(resolved.transaction,resolved.blockTag,resolved.ccipReadEnabled?0:-1)}))}estimateGas(transaction){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork();const params=yield(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)({transaction:this._getTransactionRequest(transaction)}),result=yield this.perform("estimateGas",params);try{return _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.O$.from(result)}catch(error){return logger.throwError("bad result from backend",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.SERVER_ERROR,{method:"estimateGas",params,result,error})}}))}_getAddress(addressOrName){return __awaiter(this,void 0,void 0,(function*(){"string"!=typeof(addressOrName=yield addressOrName)&&logger.throwArgumentError("invalid address or ENS name","name",addressOrName);const address=yield this.resolveName(addressOrName);return null==address&&logger.throwError("ENS name not configured",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(addressOrName)})`}),address}))}_getBlock(blockHashOrBlockTag,includeTransactions){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork(),blockHashOrBlockTag=yield blockHashOrBlockTag;let blockNumber=-128;const params={includeTransactions:!!includeTransactions};if((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.isHexString)(blockHashOrBlockTag,32))params.blockHash=blockHashOrBlockTag;else try{params.blockTag=yield this._getBlockTag(blockHashOrBlockTag),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.isHexString)(params.blockTag)&&(blockNumber=parseInt(params.blockTag.substring(2),16))}catch(error){logger.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",blockHashOrBlockTag)}return(0,_ethersproject_web__WEBPACK_IMPORTED_MODULE_12__.poll)((()=>__awaiter(this,void 0,void 0,(function*(){const block=yield this.perform("getBlock",params);if(null==block)return null!=params.blockHash&&null==this._emitted["b:"+params.blockHash]||null!=params.blockTag&&blockNumber>this._emitted.block?null:void 0;if(includeTransactions){let blockNumber=null;for(let i=0;i<block.transactions.length;i++){const tx=block.transactions[i];if(null==tx.blockNumber)tx.confirmations=0;else if(null==tx.confirmations){null==blockNumber&&(blockNumber=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let confirmations=blockNumber-tx.blockNumber+1;confirmations<=0&&(confirmations=1),tx.confirmations=confirmations}}const blockWithTxs=this.formatter.blockWithTransactions(block);return blockWithTxs.transactions=blockWithTxs.transactions.map((tx=>this._wrapTransaction(tx))),blockWithTxs}return this.formatter.block(block)}))),{oncePoll:this})}))}getBlock(blockHashOrBlockTag){return this._getBlock(blockHashOrBlockTag,!1)}getBlockWithTransactions(blockHashOrBlockTag){return this._getBlock(blockHashOrBlockTag,!0)}getTransaction(transactionHash){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork(),transactionHash=yield transactionHash;const params={transactionHash:this.formatter.hash(transactionHash,!0)};return(0,_ethersproject_web__WEBPACK_IMPORTED_MODULE_12__.poll)((()=>__awaiter(this,void 0,void 0,(function*(){const result=yield this.perform("getTransaction",params);if(null==result)return null==this._emitted["t:"+transactionHash]?null:void 0;const tx=this.formatter.transactionResponse(result);if(null==tx.blockNumber)tx.confirmations=0;else if(null==tx.confirmations){let confirmations=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-tx.blockNumber+1;confirmations<=0&&(confirmations=1),tx.confirmations=confirmations}return this._wrapTransaction(tx)}))),{oncePoll:this})}))}getTransactionReceipt(transactionHash){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork(),transactionHash=yield transactionHash;const params={transactionHash:this.formatter.hash(transactionHash,!0)};return(0,_ethersproject_web__WEBPACK_IMPORTED_MODULE_12__.poll)((()=>__awaiter(this,void 0,void 0,(function*(){const result=yield this.perform("getTransactionReceipt",params);if(null==result)return null==this._emitted["t:"+transactionHash]?null:void 0;if(null==result.blockHash)return;const receipt=this.formatter.receipt(result);if(null==receipt.blockNumber)receipt.confirmations=0;else if(null==receipt.confirmations){let confirmations=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-receipt.blockNumber+1;confirmations<=0&&(confirmations=1),receipt.confirmations=confirmations}return receipt}))),{oncePoll:this})}))}getLogs(filter){return __awaiter(this,void 0,void 0,(function*(){yield this.getNetwork();const params=yield(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_5__.resolveProperties)({filter:this._getFilter(filter)}),logs=yield this.perform("getLogs",params);return logs.forEach((log=>{null==log.removed&&(log.removed=!1)})),_formatter__WEBPACK_IMPORTED_MODULE_14__.Mb.arrayOf(this.formatter.filterLog.bind(this.formatter))(logs)}))}getEtherPrice(){return __awaiter(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(blockTag){return __awaiter(this,void 0,void 0,(function*(){if("number"==typeof(blockTag=yield blockTag)&&blockTag<0){blockTag%1&&logger.throwArgumentError("invalid BlockTag","blockTag",blockTag);let blockNumber=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return blockNumber+=blockTag,blockNumber<0&&(blockNumber=0),this.formatter.blockTag(blockNumber)}return this.formatter.blockTag(blockTag)}))}getResolver(name){return __awaiter(this,void 0,void 0,(function*(){let currentName=name;for(;;){if(""===currentName||"."===currentName)return null;if("eth"!==name&&"eth"===currentName)return null;const addr=yield this._getResolver(currentName,"getResolver");if(null!=addr){const resolver=new Resolver(this,addr,name);return currentName===name||(yield resolver.supportsWildcard())?resolver:null}currentName=currentName.split(".").slice(1).join(".")}}))}_getResolver(name,operation){return __awaiter(this,void 0,void 0,(function*(){null==operation&&(operation="ENS");const network=yield this.getNetwork();network.ensAddress||logger.throwError("network does not support ENS",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.UNSUPPORTED_OPERATION,{operation,network:network.name});try{const addrData=yield this.call({to:network.ensAddress,data:"0x0178b8bf"+(0,_ethersproject_hash__WEBPACK_IMPORTED_MODULE_10__.VM)(name).substring(2)});return this.formatter.callAddress(addrData)}catch(error){}return null}))}resolveName(name){return __awaiter(this,void 0,void 0,(function*(){name=yield name;try{return Promise.resolve(this.formatter.address(name))}catch(error){if((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.isHexString)(name))throw error}"string"!=typeof name&&logger.throwArgumentError("invalid ENS name","name",name);const resolver=yield this.getResolver(name);return resolver?yield resolver.getAddress():null}))}lookupAddress(address){return __awaiter(this,void 0,void 0,(function*(){address=yield address;const node=(address=this.formatter.address(address)).substring(2).toLowerCase()+".addr.reverse",resolverAddr=yield this._getResolver(node,"lookupAddress");if(null==resolverAddr)return null;const name=_parseString(yield this.call({to:resolverAddr,data:"0x691f3431"+(0,_ethersproject_hash__WEBPACK_IMPORTED_MODULE_10__.VM)(node).substring(2)}),0);return(yield this.resolveName(name))!=address?null:name}))}getAvatar(nameOrAddress){return __awaiter(this,void 0,void 0,(function*(){let resolver=null;if((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_3__.isHexString)(nameOrAddress)){const node=this.formatter.address(nameOrAddress).substring(2).toLowerCase()+".addr.reverse",resolverAddress=yield this._getResolver(node,"getAvatar");if(!resolverAddress)return null;resolver=new Resolver(this,resolverAddress,node);try{const avatar=yield resolver.getAvatar();if(avatar)return avatar.url}catch(error){if(error.code!==_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION)throw error}try{const name=_parseString(yield this.call({to:resolverAddress,data:"0x691f3431"+(0,_ethersproject_hash__WEBPACK_IMPORTED_MODULE_10__.VM)(node).substring(2)}),0);resolver=yield this.getResolver(name)}catch(error){if(error.code!==_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.CALL_EXCEPTION)throw error;return null}}else if(resolver=yield this.getResolver(nameOrAddress),!resolver)return null;const avatar=yield resolver.getAvatar();return null==avatar?null:avatar.url}))}perform(method,params){return logger.throwError(method+" not implemented",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_1__.Logger.errors.NOT_IMPLEMENTED,{operation:method})}_startEvent(event){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(event){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(eventName,listener,once){const event=new Event(getEventTag(eventName),listener,once);return this._events.push(event),this._startEvent(event),this}on(eventName,listener){return this._addEventListener(eventName,listener,!1)}once(eventName,listener){return this._addEventListener(eventName,listener,!0)}emit(eventName,...args){let result=!1,stopped=[],eventTag=getEventTag(eventName);return this._events=this._events.filter((event=>event.tag!==eventTag||(setTimeout((()=>{event.listener.apply(this,args)}),0),result=!0,!event.once||(stopped.push(event),!1)))),stopped.forEach((event=>{this._stopEvent(event)})),result}listenerCount(eventName){if(!eventName)return this._events.length;let eventTag=getEventTag(eventName);return this._events.filter((event=>event.tag===eventTag)).length}listeners(eventName){if(null==eventName)return this._events.map((event=>event.listener));let eventTag=getEventTag(eventName);return this._events.filter((event=>event.tag===eventTag)).map((event=>event.listener))}off(eventName,listener){if(null==listener)return this.removeAllListeners(eventName);const stopped=[];let found=!1,eventTag=getEventTag(eventName);return this._events=this._events.filter((event=>event.tag!==eventTag||event.listener!=listener||(!!found||(found=!0,stopped.push(event),!1)))),stopped.forEach((event=>{this._stopEvent(event)})),this}removeAllListeners(eventName){let stopped=[];if(null==eventName)stopped=this._events,this._events=[];else{const eventTag=getEventTag(eventName);this._events=this._events.filter((event=>event.tag!==eventTag||(stopped.push(event),!1)))}return stopped.forEach((event=>{this._stopEvent(event)})),this}}},"./node_modules/@ethersproject/providers/lib.esm/formatter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ed:()=>isCommunityResourcable,Gp:()=>isCommunityResource,Mb:()=>Formatter,vh:()=>showThrottleMessage});var _ethersproject_address__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js"),_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_constants__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@ethersproject/constants/lib.esm/addresses.js"),_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),_ethersproject_transactions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ethersproject/transactions/lib.esm/index.js"),_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js"),_version__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/_version.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const logger=new _ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger(_version__WEBPACK_IMPORTED_MODULE_1__.i);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const formats={},address=this.address.bind(this),bigNumber=this.bigNumber.bind(this),blockTag=this.blockTag.bind(this),data=this.data.bind(this),hash=this.hash.bind(this),hex=this.hex.bind(this),number=this.number.bind(this),type=this.type.bind(this);return formats.transaction={hash,type,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(hash,null),blockNumber:Formatter.allowNull(number,null),transactionIndex:Formatter.allowNull(number,null),confirmations:Formatter.allowNull(number,null),from:address,gasPrice:Formatter.allowNull(bigNumber),maxPriorityFeePerGas:Formatter.allowNull(bigNumber),maxFeePerGas:Formatter.allowNull(bigNumber),gasLimit:bigNumber,to:Formatter.allowNull(address,null),value:bigNumber,nonce:number,data,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(number),creates:Formatter.allowNull(address,null),raw:Formatter.allowNull(data)},formats.transactionRequest={from:Formatter.allowNull(address),nonce:Formatter.allowNull(number),gasLimit:Formatter.allowNull(bigNumber),gasPrice:Formatter.allowNull(bigNumber),maxPriorityFeePerGas:Formatter.allowNull(bigNumber),maxFeePerGas:Formatter.allowNull(bigNumber),to:Formatter.allowNull(address),value:Formatter.allowNull(bigNumber),data:Formatter.allowNull((v=>this.data(v,!0))),type:Formatter.allowNull(number),accessList:Formatter.allowNull(this.accessList.bind(this),null)},formats.receiptLog={transactionIndex:number,blockNumber:number,transactionHash:hash,address,topics:Formatter.arrayOf(hash),data,logIndex:number,blockHash:hash},formats.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(address,null),transactionIndex:number,root:Formatter.allowNull(hex),gasUsed:bigNumber,logsBloom:Formatter.allowNull(data),blockHash:hash,transactionHash:hash,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:number,confirmations:Formatter.allowNull(number,null),cumulativeGasUsed:bigNumber,effectiveGasPrice:Formatter.allowNull(bigNumber),status:Formatter.allowNull(number),type},formats.block={hash:Formatter.allowNull(hash),parentHash:hash,number,timestamp:number,nonce:Formatter.allowNull(hex),difficulty:this.difficulty.bind(this),gasLimit:bigNumber,gasUsed:bigNumber,miner:Formatter.allowNull(address),extraData:data,transactions:Formatter.allowNull(Formatter.arrayOf(hash)),baseFeePerGas:Formatter.allowNull(bigNumber)},formats.blockWithTransactions=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.shallowCopy)(formats.block),formats.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),formats.filter={fromBlock:Formatter.allowNull(blockTag,void 0),toBlock:Formatter.allowNull(blockTag,void 0),blockHash:Formatter.allowNull(hash,void 0),address:Formatter.allowNull(address,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},formats.filterLog={blockNumber:Formatter.allowNull(number),blockHash:Formatter.allowNull(hash),transactionIndex:number,removed:Formatter.allowNull(this.boolean.bind(this)),address,data:Formatter.allowFalsish(data,"0x"),topics:Formatter.arrayOf(hash),transactionHash:hash,logIndex:number},formats}accessList(accessList){return(0,_ethersproject_transactions__WEBPACK_IMPORTED_MODULE_3__.accessListify)(accessList||[])}number(number){return"0x"===number?0:_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__.O$.from(number).toNumber()}type(number){return"0x"===number||null==number?0:_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__.O$.from(number).toNumber()}bigNumber(value){return _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__.O$.from(value)}boolean(value){if("boolean"==typeof value)return value;if("string"==typeof value){if("true"===(value=value.toLowerCase()))return!0;if("false"===value)return!1}throw new Error("invalid boolean - "+value)}hex(value,strict){return"string"==typeof value&&(strict||"0x"===value.substring(0,2)||(value="0x"+value),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.isHexString)(value))?value.toLowerCase():logger.throwArgumentError("invalid hash","value",value)}data(value,strict){const result=this.hex(value,strict);if(result.length%2!=0)throw new Error("invalid data; odd-length - "+value);return result}address(value){return(0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_6__.getAddress)(value)}callAddress(value){if(!(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.isHexString)(value,32))return null;const address=(0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_6__.getAddress)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.hexDataSlice)(value,12));return address===_ethersproject_constants__WEBPACK_IMPORTED_MODULE_7__.d?null:address}contractAddress(value){return(0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_6__.getContractAddress)(value)}blockTag(blockTag){if(null==blockTag)return"latest";if("earliest"===blockTag)return"0x0";switch(blockTag){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return blockTag}if("number"==typeof blockTag||(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.isHexString)(blockTag))return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.hexValue)(blockTag);throw new Error("invalid blockTag")}hash(value,strict){const result=this.hex(value,strict);return 32!==(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.hexDataLength)(result)?logger.throwArgumentError("invalid hash","value",value):result}difficulty(value){if(null==value)return null;const v=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__.O$.from(value);try{return v.toNumber()}catch(error){}return null}uint256(value){if(!(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.isHexString)(value))throw new Error("invalid uint256");return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.hexZeroPad)(value,32)}_block(value,format){null!=value.author&&null==value.miner&&(value.miner=value.author);const difficulty=null!=value._difficulty?value._difficulty:value.difficulty,result=Formatter.check(format,value);return result._difficulty=null==difficulty?null:_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__.O$.from(difficulty),result}block(value){return this._block(value,this.formats.block)}blockWithTransactions(value){return this._block(value,this.formats.blockWithTransactions)}transactionRequest(value){return Formatter.check(this.formats.transactionRequest,value)}transactionResponse(transaction){null!=transaction.gas&&null==transaction.gasLimit&&(transaction.gasLimit=transaction.gas),transaction.to&&_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__.O$.from(transaction.to).isZero()&&(transaction.to="0x0000000000000000000000000000000000000000"),null!=transaction.input&&null==transaction.data&&(transaction.data=transaction.input),null==transaction.to&&null==transaction.creates&&(transaction.creates=this.contractAddress(transaction)),1!==transaction.type&&2!==transaction.type||null!=transaction.accessList||(transaction.accessList=[]);const result=Formatter.check(this.formats.transaction,transaction);if(null!=transaction.chainId){let chainId=transaction.chainId;(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.isHexString)(chainId)&&(chainId=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__.O$.from(chainId).toNumber()),result.chainId=chainId}else{let chainId=transaction.networkId;null==chainId&&null==result.v&&(chainId=transaction.chainId),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_5__.isHexString)(chainId)&&(chainId=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__.O$.from(chainId).toNumber()),"number"!=typeof chainId&&null!=result.v&&(chainId=(result.v-35)/2,chainId<0&&(chainId=0),chainId=parseInt(chainId)),"number"!=typeof chainId&&(chainId=0),result.chainId=chainId}return result.blockHash&&"x"===result.blockHash.replace(/0/g,"")&&(result.blockHash=null),result}transaction(value){return(0,_ethersproject_transactions__WEBPACK_IMPORTED_MODULE_3__.parse)(value)}receiptLog(value){return Formatter.check(this.formats.receiptLog,value)}receipt(value){const result=Formatter.check(this.formats.receipt,value);if(null!=result.root)if(result.root.length<=4){const value=_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_4__.O$.from(result.root).toNumber();0===value||1===value?(null!=result.status&&result.status!==value&&logger.throwArgumentError("alt-root-status/status mismatch","value",{root:result.root,status:result.status}),result.status=value,delete result.root):logger.throwArgumentError("invalid alt-root-status","value.root",result.root)}else 66!==result.root.length&&logger.throwArgumentError("invalid root hash","value.root",result.root);return null!=result.status&&(result.byzantium=!0),result}topics(value){return Array.isArray(value)?value.map((v=>this.topics(v))):null!=value?this.hash(value,!0):null}filter(value){return Formatter.check(this.formats.filter,value)}filterLog(value){return Formatter.check(this.formats.filterLog,value)}static check(format,object){const result={};for(const key in format)try{const value=format[key](object[key]);void 0!==value&&(result[key]=value)}catch(error){throw error.checkKey=key,error.checkValue=object[key],error}return result}static allowNull(format,nullValue){return function(value){return null==value?nullValue:format(value)}}static allowFalsish(format,replaceValue){return function(value){return value?format(value):replaceValue}}static arrayOf(format){return function(array){if(!Array.isArray(array))throw new Error("not an array");const result=[];return array.forEach((function(value){result.push(format(value))})),result}}}function isCommunityResourcable(value){return value&&"function"==typeof value.isCommunityResource}function isCommunityResource(value){return isCommunityResourcable(value)&&value.isCommunityResource()}let throttleMessage=!1;function showThrottleMessage(){throttleMessage||(throttleMessage=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}},"./node_modules/@ethersproject/providers/lib.esm/json-rpc-provider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>JsonRpcSigner,r:()=>JsonRpcProvider});var _ethersproject_abstract_signer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ethersproject/abstract-signer/lib.esm/index.js"),_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_ethersproject_hash__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/typed-data.js"),_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),_ethersproject_strings__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js"),_ethersproject_transactions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@ethersproject/transactions/lib.esm/index.js"),_ethersproject_web__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ethersproject/web/lib.esm/index.js"),_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js"),_version__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/_version.js"),_base_provider__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/base-provider.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const logger=new _ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger(_version__WEBPACK_IMPORTED_MODULE_1__.i),errorGas=["call","estimateGas"];function spelunk(value,requireData){if(null==value)return null;if("string"==typeof value.message&&value.message.match("reverted")){const data=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.isHexString)(value.data)?value.data:null;if(!requireData||data)return{message:value.message,data}}if("object"==typeof value){for(const key in value){const result=spelunk(value[key],requireData);if(result)return result}return null}if("string"==typeof value)try{return spelunk(JSON.parse(value),requireData)}catch(error){}return null}function checkError(method,error,params){const transaction=params.transaction||params.signedTransaction;if("call"===method){const result=spelunk(error,!0);if(result)return result.data;logger.throwError("missing revert data in call exception; Transaction reverted without a reason string",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction,error})}if("estimateGas"===method){let result=spelunk(error.body,!1);null==result&&(result=spelunk(error,!1)),result&&logger.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:result.message,method,transaction,error})}let message=error.message;throw error.code===_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.SERVER_ERROR&&error.error&&"string"==typeof error.error.message?message=error.error.message:"string"==typeof error.body?message=error.body:"string"==typeof error.responseText&&(message=error.responseText),message=(message||"").toLowerCase(),message.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger.throwError("insufficient funds for intrinsic transaction cost",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.INSUFFICIENT_FUNDS,{error,method,transaction}),message.match(/nonce (is )?too low/i)&&logger.throwError("nonce has already been used",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.NONCE_EXPIRED,{error,method,transaction}),message.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger.throwError("replacement fee too low",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.REPLACEMENT_UNDERPRICED,{error,method,transaction}),message.match(/only replay-protected/i)&&logger.throwError("legacy pre-eip-155 transactions not supported",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.UNSUPPORTED_OPERATION,{error,method,transaction}),errorGas.indexOf(method)>=0&&message.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error,method,transaction}),error}function timer(timeout){return new Promise((function(resolve){setTimeout(resolve,timeout)}))}function getResult(payload){if(payload.error){const error=new Error(payload.error.message);throw error.code=payload.error.code,error.data=payload.error.data,error}return payload.result}function getLowerCase(value){return value?value.toLowerCase():value}const _constructorGuard={};class JsonRpcSigner extends _ethersproject_abstract_signer__WEBPACK_IMPORTED_MODULE_3__.E{constructor(constructorGuard,provider,addressOrIndex){if(super(),constructorGuard!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.defineReadOnly)(this,"provider",provider),null==addressOrIndex&&(addressOrIndex=0),"string"==typeof addressOrIndex?((0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.defineReadOnly)(this,"_address",this.provider.formatter.address(addressOrIndex)),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.defineReadOnly)(this,"_index",null)):"number"==typeof addressOrIndex?((0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.defineReadOnly)(this,"_index",addressOrIndex),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.defineReadOnly)(this,"_address",null)):logger.throwArgumentError("invalid address or index","addressOrIndex",addressOrIndex)}connect(provider){return logger.throwError("cannot alter JSON-RPC Signer connection",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((accounts=>(accounts.length<=this._index&&logger.throwError("unknown account #"+this._index,_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(accounts[this._index]))))}sendUncheckedTransaction(transaction){transaction=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.shallowCopy)(transaction);const fromAddress=this.getAddress().then((address=>(address&&(address=address.toLowerCase()),address)));if(null==transaction.gasLimit){const estimate=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.shallowCopy)(transaction);estimate.from=fromAddress,transaction.gasLimit=this.provider.estimateGas(estimate)}return null!=transaction.to&&(transaction.to=Promise.resolve(transaction.to).then((to=>__awaiter(this,void 0,void 0,(function*(){if(null==to)return null;const address=yield this.provider.resolveName(to);return null==address&&logger.throwArgumentError("provided ENS name resolves to null","tx.to",to),address}))))),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.resolveProperties)({tx:(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.resolveProperties)(transaction),sender:fromAddress}).then((({tx,sender})=>{null!=tx.from?tx.from.toLowerCase()!==sender&&logger.throwArgumentError("from address mismatch","transaction",transaction):tx.from=sender;const hexTx=this.provider.constructor.hexlifyTransaction(tx,{from:!0});return this.provider.send("eth_sendTransaction",[hexTx]).then((hash=>hash),(error=>("string"==typeof error.message&&error.message.match(/user denied/i)&&logger.throwError("user rejected transaction",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:tx}),checkError("sendTransaction",error,hexTx))))}))}signTransaction(transaction){return logger.throwError("signing transactions is unsupported",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(transaction){return __awaiter(this,void 0,void 0,(function*(){const blockNumber=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),hash=yield this.sendUncheckedTransaction(transaction);try{return yield(0,_ethersproject_web__WEBPACK_IMPORTED_MODULE_5__.poll)((()=>__awaiter(this,void 0,void 0,(function*(){const tx=yield this.provider.getTransaction(hash);if(null!==tx)return this.provider._wrapTransaction(tx,hash,blockNumber)}))),{oncePoll:this.provider})}catch(error){throw error.transactionHash=hash,error}}))}signMessage(message){return __awaiter(this,void 0,void 0,(function*(){const data="string"==typeof message?(0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_6__.Y0)(message):message,address=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.hexlify)(data),address.toLowerCase()])}catch(error){throw"string"==typeof error.message&&error.message.match(/user denied/i)&&logger.throwError("user rejected signing",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:address,messageData:message}),error}}))}_legacySignMessage(message){return __awaiter(this,void 0,void 0,(function*(){const data="string"==typeof message?(0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_6__.Y0)(message):message,address=yield this.getAddress();try{return yield this.provider.send("eth_sign",[address.toLowerCase(),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.hexlify)(data)])}catch(error){throw"string"==typeof error.message&&error.message.match(/user denied/i)&&logger.throwError("user rejected signing",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:address,messageData:message}),error}}))}_signTypedData(domain,types,value){return __awaiter(this,void 0,void 0,(function*(){const populated=yield _ethersproject_hash__WEBPACK_IMPORTED_MODULE_7__.E.resolveNames(domain,types,value,(name=>this.provider.resolveName(name))),address=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[address.toLowerCase(),JSON.stringify(_ethersproject_hash__WEBPACK_IMPORTED_MODULE_7__.E.getPayload(populated.domain,types,populated.value))])}catch(error){throw"string"==typeof error.message&&error.message.match(/user denied/i)&&logger.throwError("user rejected signing",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:address,messageData:{domain:populated.domain,types,value:populated.value}}),error}}))}unlock(password){return __awaiter(this,void 0,void 0,(function*(){const provider=this.provider,address=yield this.getAddress();return provider.send("personal_unlockAccount",[address.toLowerCase(),password,null])}))}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(transaction){return this.sendUncheckedTransaction(transaction).then((hash=>({hash,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:confirmations=>this.provider.waitForTransaction(hash,confirmations)})))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider extends _base_provider__WEBPACK_IMPORTED_MODULE_8__.Zk{constructor(url,network){let networkOrReady=network;null==networkOrReady&&(networkOrReady=new Promise(((resolve,reject)=>{setTimeout((()=>{this.detectNetwork().then((network=>{resolve(network)}),(error=>{reject(error)}))}),0)}))),super(networkOrReady),url||(url=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.getStatic)(this.constructor,"defaultUrl")()),"string"==typeof url?(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.defineReadOnly)(this,"connection",Object.freeze({url})):(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.defineReadOnly)(this,"connection",Object.freeze((0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.shallowCopy)(url))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter(this,void 0,void 0,(function*(){yield timer(0);let chainId=null;try{chainId=yield this.send("eth_chainId",[])}catch(error){try{chainId=yield this.send("net_version",[])}catch(error){}}if(null!=chainId){const getNetwork=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.getStatic)(this.constructor,"getNetwork");try{return getNetwork(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_9__.O$.from(chainId).toNumber())}catch(error){return logger.throwError("could not detect network",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.NETWORK_ERROR,{chainId,event:"invalidNetwork",serverError:error})}}return logger.throwError("could not detect network",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(addressOrIndex){return new JsonRpcSigner(_constructorGuard,this,addressOrIndex)}getUncheckedSigner(addressOrIndex){return this.getSigner(addressOrIndex).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((accounts=>accounts.map((a=>this.formatter.address(a)))))}send(method,params){const request={method,params,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.deepCopy)(request),provider:this});const cache=["eth_chainId","eth_blockNumber"].indexOf(method)>=0;if(cache&&this._cache[method])return this._cache[method];const result=(0,_ethersproject_web__WEBPACK_IMPORTED_MODULE_5__.fetchJson)(this.connection,JSON.stringify(request),getResult).then((result=>(this.emit("debug",{action:"response",request,response:result,provider:this}),result)),(error=>{throw this.emit("debug",{action:"response",error,request,provider:this}),error}));return cache&&(this._cache[method]=result,setTimeout((()=>{this._cache[method]=null}),0)),result}prepareRequest(method,params){switch(method){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(params.address),params.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(params.address),params.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(params.address),params.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(params.address),(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.hexZeroPad)(params.position,32),params.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[params.signedTransaction]];case"getBlock":return params.blockTag?["eth_getBlockByNumber",[params.blockTag,!!params.includeTransactions]]:params.blockHash?["eth_getBlockByHash",[params.blockHash,!!params.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[params.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[params.transactionHash]];case"call":return["eth_call",[(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.getStatic)(this.constructor,"hexlifyTransaction")(params.transaction,{from:!0}),params.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.getStatic)(this.constructor,"hexlifyTransaction")(params.transaction,{from:!0})]];case"getLogs":return params.filter&&null!=params.filter.address&&(params.filter.address=getLowerCase(params.filter.address)),["eth_getLogs",[params.filter]]}return null}perform(method,params){return __awaiter(this,void 0,void 0,(function*(){if("call"===method||"estimateGas"===method){const tx=params.transaction;if(tx&&null!=tx.type&&_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_9__.O$.from(tx.type).isZero()&&null==tx.maxFeePerGas&&null==tx.maxPriorityFeePerGas){const feeData=yield this.getFeeData();null==feeData.maxFeePerGas&&null==feeData.maxPriorityFeePerGas&&((params=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.shallowCopy)(params)).transaction=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.shallowCopy)(tx),delete params.transaction.type)}}const args=this.prepareRequest(method,params);null==args&&logger.throwError(method+" not implemented",_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger.errors.NOT_IMPLEMENTED,{operation:method});try{return yield this.send(args[0],args[1])}catch(error){return checkError(method,error,params)}}))}_startEvent(event){"pending"===event.tag&&this._startPending(),super._startEvent(event)}_startPending(){if(null!=this._pendingFilter)return;const self=this,pendingFilter=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=pendingFilter,pendingFilter.then((function(filterId){return function poll(){self.send("eth_getFilterChanges",[filterId]).then((function(hashes){if(self._pendingFilter!=pendingFilter)return null;let seq=Promise.resolve();return hashes.forEach((function(hash){self._emitted["t:"+hash.toLowerCase()]="pending",seq=seq.then((function(){return self.getTransaction(hash).then((function(tx){return self.emit("pending",tx),null}))}))})),seq.then((function(){return timer(1e3)}))})).then((function(){if(self._pendingFilter==pendingFilter)return setTimeout((function(){poll()}),0),null;self.send("eth_uninstallFilter",[filterId])})).catch((error=>{}))}(),filterId})).catch((error=>{}))}_stopEvent(event){"pending"===event.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(event)}static hexlifyTransaction(transaction,allowExtra){const allowed=(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.shallowCopy)(allowedTransactionKeys);if(allowExtra)for(const key in allowExtra)allowExtra[key]&&(allowed[key]=!0);(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_4__.checkProperties)(transaction,allowed);const result={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(key){if(null==transaction[key])return;const value=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.hexValue)(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_9__.O$.from(transaction[key]));"gasLimit"===key&&(key="gas"),result[key]=value})),["from","to","data"].forEach((function(key){null!=transaction[key]&&(result[key]=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.hexlify)(transaction[key]))})),transaction.accessList&&(result.accessList=(0,_ethersproject_transactions__WEBPACK_IMPORTED_MODULE_10__.accessListify)(transaction.accessList)),result}}},"./node_modules/@ethersproject/providers/lib.esm/web3-provider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>Web3Provider});var _ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),_ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js"),_version__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/_version.js"),_json_rpc_provider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/json-rpc-provider.js");const logger=new _ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger(_version__WEBPACK_IMPORTED_MODULE_1__.i);let _nextId=1;function buildWeb3LegacyFetcher(provider,sendFunc){const fetcher="Web3LegacyFetcher";return function(method,params){const request={method,params,id:_nextId++,jsonrpc:"2.0"};return new Promise(((resolve,reject)=>{this.emit("debug",{action:"request",fetcher,request:(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.deepCopy)(request),provider:this}),sendFunc(request,((error,response)=>{if(error)return this.emit("debug",{action:"response",fetcher,error,request,provider:this}),reject(error);if(this.emit("debug",{action:"response",fetcher,request,response,provider:this}),response.error){const error=new Error(response.error.message);return error.code=response.error.code,error.data=response.error.data,reject(error)}resolve(response.result)}))}))}}class Web3Provider extends _json_rpc_provider__WEBPACK_IMPORTED_MODULE_3__.r{constructor(provider,network){null==provider&&logger.throwArgumentError("missing provider","provider",provider);let path=null,jsonRpcFetchFunc=null,subprovider=null;"function"==typeof provider?(path="unknown:",jsonRpcFetchFunc=provider):(path=provider.host||provider.path||"",!path&&provider.isMetaMask&&(path="metamask"),subprovider=provider,provider.request?(""===path&&(path="eip-1193:"),jsonRpcFetchFunc=function buildEip1193Fetcher(provider){return function(method,params){null==params&&(params=[]);const request={method,params};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.deepCopy)(request),provider:this}),provider.request(request).then((response=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request,response,provider:this}),response)),(error=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request,error,provider:this}),error}))}}(provider)):provider.sendAsync?jsonRpcFetchFunc=buildWeb3LegacyFetcher(0,provider.sendAsync.bind(provider)):provider.send?jsonRpcFetchFunc=buildWeb3LegacyFetcher(0,provider.send.bind(provider)):logger.throwArgumentError("unsupported provider","provider",provider),path||(path="unknown:")),super(path,network),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"jsonRpcFetchFunc",jsonRpcFetchFunc),(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"provider",subprovider)}send(method,params){return this.jsonRpcFetchFunc(method,params)}}},"./node_modules/@ethersproject/random/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{randomBytes:()=>_random__WEBPACK_IMPORTED_MODULE_0__.O,shuffled:()=>_shuffle__WEBPACK_IMPORTED_MODULE_1__.y});var _random__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/random/lib.esm/random.js"),_shuffle__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/random/lib.esm/shuffle.js")},"./node_modules/@ethersproject/random/lib.esm/random.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>randomBytes});var lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");const logger=new logger_lib_esm.Logger("random/5.7.0");const anyGlobal=function getGlobal(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("unable to locate global object")}();let random_crypto=anyGlobal.crypto||anyGlobal.msCrypto;function randomBytes(length){(length<=0||length>1024||length%1||length!=length)&&logger.throwArgumentError("invalid length","length",length);const result=new Uint8Array(length);return random_crypto.getRandomValues(result),(0,lib_esm.arrayify)(result)}random_crypto&&random_crypto.getRandomValues||(logger.warn("WARNING: Missing strong random number source"),random_crypto={getRandomValues:function(buffer){return logger.throwError("no secure random source avaialble",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}})},"./node_modules/@ethersproject/random/lib.esm/shuffle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function shuffled(array){for(let i=(array=array.slice()).length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)),tmp=array[i];array[i]=array[j],array[j]=tmp}return array}__webpack_require__.d(__webpack_exports__,{y:()=>shuffled})},"./node_modules/@ethersproject/sha2/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SupportedAlgorithm:()=>_types__WEBPACK_IMPORTED_MODULE_1__.p,computeHmac:()=>_sha2__WEBPACK_IMPORTED_MODULE_0__.Gy,ripemd160:()=>_sha2__WEBPACK_IMPORTED_MODULE_0__.bP,sha256:()=>_sha2__WEBPACK_IMPORTED_MODULE_0__.JQ,sha512:()=>_sha2__WEBPACK_IMPORTED_MODULE_0__.o});var _sha2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/sha2.js"),_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/types.js")},"./node_modules/@ethersproject/sha2/lib.esm/sha2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Gy:()=>computeHmac,bP:()=>ripemd160,JQ:()=>sha256,o:()=>sha512});var hash=__webpack_require__("./node_modules/hash.js/lib/hash.js"),hash_default=__webpack_require__.n(hash),lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),types=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/types.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");const logger=new logger_lib_esm.Logger("sha2/5.7.0");function ripemd160(data){return"0x"+hash_default().ripemd160().update((0,lib_esm.arrayify)(data)).digest("hex")}function sha256(data){return"0x"+hash_default().sha256().update((0,lib_esm.arrayify)(data)).digest("hex")}function sha512(data){return"0x"+hash_default().sha512().update((0,lib_esm.arrayify)(data)).digest("hex")}function computeHmac(algorithm,key,data){return types.p[algorithm]||logger.throwError("unsupported algorithm "+algorithm,logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm}),"0x"+hash_default().hmac(hash_default()[algorithm],(0,lib_esm.arrayify)(key)).update((0,lib_esm.arrayify)(data)).digest("hex")}},"./node_modules/@ethersproject/sha2/lib.esm/types.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var SupportedAlgorithm;__webpack_require__.d(__webpack_exports__,{p:()=>SupportedAlgorithm}),function(SupportedAlgorithm){SupportedAlgorithm.sha256="sha256",SupportedAlgorithm.sha512="sha512"}(SupportedAlgorithm||(SupportedAlgorithm={}))},"./node_modules/@ethersproject/signing-key/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SigningKey:()=>SigningKey,computePublicKey:()=>computePublicKey,recoverPublicKey:()=>recoverPublicKey});var bn=__webpack_require__("./node_modules/bn.js/lib/bn.js"),bn_default=__webpack_require__.n(bn),hash=__webpack_require__("./node_modules/hash.js/lib/hash.js"),hash_default=__webpack_require__.n(hash);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self&&self;function createCommonjsModule(fn,basedir,module){return module={path:basedir,exports:{},require:function(path,base){return function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==base&&module.path)}},fn(module,module.exports),module.exports}var minimalisticAssert=assert;function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}assert.equal=function assertEqual(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)};var utils_1=createCommonjsModule((function(module,exports){var utils=exports;function zero2(word){return 1===word.length?"0"+word:word}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}utils.toArray=function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"!=typeof msg){for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}if("hex"===enc){(msg=msg.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(msg="0"+msg);for(i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}else for(i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}return res},utils.zero2=zero2,utils.toHex=toHex,utils.encode=function encode(arr,enc){return"hex"===enc?toHex(arr):arr}})),utils_1$1=createCommonjsModule((function(module,exports){var utils=exports;utils.assert=minimalisticAssert,utils.toArray=utils_1.toArray,utils.zero2=utils_1.zero2,utils.toHex=utils_1.toHex,utils.encode=utils_1.encode,utils.getNAF=function getNAF(num,w,bits){var naf=new Array(Math.max(num.bitLength(),bits)+1);naf.fill(0);for(var ws=1<<w+1,k=num.clone(),i=0;i<naf.length;i++){var z,mod=k.andln(ws-1);k.isOdd()?(z=mod>(ws>>1)-1?(ws>>1)-mod:mod,k.isubn(z)):z=0,naf[i]=z,k.iushrn(1)}return naf},utils.getJSF=function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone(),k2=k2.clone();for(var m8,d1=0,d2=0;k1.cmpn(-d1)>0||k2.cmpn(-d2)>0;){var u1,u2,m14=k1.andln(3)+d1&3,m24=k2.andln(3)+d2&3;3===m14&&(m14=-1),3===m24&&(m24=-1),u1=0==(1&m14)?0:3!==(m8=k1.andln(7)+d1&7)&&5!==m8||2!==m24?m14:-m14,jsf[0].push(u1),u2=0==(1&m24)?0:3!==(m8=k2.andln(7)+d2&7)&&5!==m8||2!==m14?m24:-m24,jsf[1].push(u2),2*d1===u1+1&&(d1=1-d1),2*d2===u2+1&&(d2=1-d2),k1.iushrn(1),k2.iushrn(1)}return jsf},utils.cachedProperty=function cachedProperty(obj,name,computer){var key="_"+name;obj.prototype[name]=function cachedProperty(){return void 0!==this[key]?this[key]:this[key]=computer.call(this)}},utils.parseBytes=function parseBytes(bytes){return"string"==typeof bytes?utils.toArray(bytes,"hex"):bytes},utils.intFromLE=function intFromLE(bytes){return new(bn_default())(bytes,"hex","le")}})),getNAF=utils_1$1.getNAF,getJSF=utils_1$1.getJSF,assert$1=utils_1$1.assert;function BaseCurve(type,conf){this.type=type,this.p=new(bn_default())(conf.p,16),this.red=conf.prime?bn_default().red(conf.prime):bn_default().mont(this.p),this.zero=new(bn_default())(0).toRed(this.red),this.one=new(bn_default())(1).toRed(this.red),this.two=new(bn_default())(2).toRed(this.red),this.n=conf.n&&new(bn_default())(conf.n,16),this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var adjustCount=this.n&&this.p.div(this.n);!adjustCount||adjustCount.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base=BaseCurve;function BasePoint(curve,type){this.curve=curve,this.type=type,this.precomputed=null}BaseCurve.prototype.point=function point(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function _fixedNafMul(p,k){assert$1(p.precomputed);var doubles=p._getDoubles(),naf=getNAF(k,1,this._bitLength),I=(1<<doubles.step+1)-(doubles.step%2==0?2:1);I/=3;var j,nafW,repr=[];for(j=0;j<naf.length;j+=doubles.step){nafW=0;for(var l=j+doubles.step-1;l>=j;l--)nafW=(nafW<<1)+naf[l];repr.push(nafW)}for(var a=this.jpoint(null,null,null),b=this.jpoint(null,null,null),i=I;i>0;i--){for(j=0;j<repr.length;j++)(nafW=repr[j])===i?b=b.mixedAdd(doubles.points[j]):nafW===-i&&(b=b.mixedAdd(doubles.points[j].neg()));a=a.add(b)}return a.toP()},BaseCurve.prototype._wnafMul=function _wnafMul(p,k){var w=4,nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;for(var wnd=nafPoints.points,naf=getNAF(k,w,this._bitLength),acc=this.jpoint(null,null,null),i=naf.length-1;i>=0;i--){for(var l=0;i>=0&&0===naf[i];i--)l++;if(i>=0&&l++,acc=acc.dblp(l),i<0)break;var z=naf[i];assert$1(0!==z),acc="affine"===p.type?z>0?acc.mixedAdd(wnd[z-1>>1]):acc.mixedAdd(wnd[-z-1>>1].neg()):z>0?acc.add(wnd[z-1>>1]):acc.add(wnd[-z-1>>1].neg())}return"affine"===p.type?acc.toP():acc},BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(defW,points,coeffs,len,jacobianResult){var i,j,p,wndWidth=this._wnafT1,wnd=this._wnafT2,naf=this._wnafT3,max=0;for(i=0;i<len;i++){var nafPoints=(p=points[i])._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd,wnd[i]=nafPoints.points}for(i=len-1;i>=1;i-=2){var a=i-1,b=i;if(1===wndWidth[a]&&1===wndWidth[b]){var comb=[points[a],null,null,points[b]];0===points[a].y.cmp(points[b].y)?(comb[1]=points[a].add(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg())):0===points[a].y.cmp(points[b].y.redNeg())?(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].add(points[b].neg())):(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg()));var index=[-3,-1,-5,-7,0,7,5,1,3],jsf=getJSF(coeffs[a],coeffs[b]);for(max=Math.max(jsf[0].length,max),naf[a]=new Array(max),naf[b]=new Array(max),j=0;j<max;j++){var ja=0|jsf[0][j],jb=0|jsf[1][j];naf[a][j]=index[3*(ja+1)+(jb+1)],naf[b][j]=0,wnd[a]=comb}}else naf[a]=getNAF(coeffs[a],wndWidth[a],this._bitLength),naf[b]=getNAF(coeffs[b],wndWidth[b],this._bitLength),max=Math.max(naf[a].length,max),max=Math.max(naf[b].length,max)}var acc=this.jpoint(null,null,null),tmp=this._wnafT4;for(i=max;i>=0;i--){for(var k=0;i>=0;){var zero=!0;for(j=0;j<len;j++)tmp[j]=0|naf[j][i],0!==tmp[j]&&(zero=!1);if(!zero)break;k++,i--}if(i>=0&&k++,acc=acc.dblp(k),i<0)break;for(j=0;j<len;j++){var z=tmp[j];0!==z&&(z>0?p=wnd[j][z-1>>1]:z<0&&(p=wnd[j][-z-1>>1].neg()),acc="affine"===p.type?acc.mixedAdd(p):acc.add(p))}}for(i=0;i<len;i++)wnd[i]=null;return jacobianResult?acc:acc.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")},BasePoint.prototype.validate=function validate(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function decodePoint(bytes,enc){bytes=utils_1$1.toArray(bytes,enc);var len=this.p.byteLength();if((4===bytes[0]||6===bytes[0]||7===bytes[0])&&bytes.length-1==2*len)return 6===bytes[0]?assert$1(bytes[bytes.length-1]%2==0):7===bytes[0]&&assert$1(bytes[bytes.length-1]%2==1),this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));if((2===bytes[0]||3===bytes[0])&&bytes.length-1===len)return this.pointFromX(bytes.slice(1,1+len),3===bytes[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function encodeCompressed(enc){return this.encode(enc,!0)},BasePoint.prototype._encode=function _encode(compact){var len=this.curve.p.byteLength(),x=this.getX().toArray("be",len);return compact?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",len))},BasePoint.prototype.encode=function encode(enc,compact){return utils_1$1.encode(this._encode(compact),enc)},BasePoint.prototype.precompute=function precompute(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};return precomputed.naf=this._getNAFPoints(8),precomputed.doubles=this._getDoubles(4,power),precomputed.beta=this._getBeta(),this.precomputed=precomputed,this},BasePoint.prototype._hasDoubles=function _hasDoubles(k){if(!this.precomputed)return!1;var doubles=this.precomputed.doubles;return!!doubles&&doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)},BasePoint.prototype._getDoubles=function _getDoubles(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var doubles=[this],acc=this,i=0;i<power;i+=step){for(var j=0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step,points:doubles}},BasePoint.prototype._getNAFPoints=function _getNAFPoints(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var res=[this],max=(1<<wnd)-1,dbl=1===max?null:this.dbl(),i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd,points:res}},BasePoint.prototype._getBeta=function _getBeta(){return null},BasePoint.prototype.dblp=function dblp(k){for(var r=this,i=0;i<k;i++)r=r.dbl();return r};var inherits_browser=createCommonjsModule((function(module){"function"==typeof Object.create?module.exports=function inherits(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}})),assert$2=utils_1$1.assert;function ShortCurve(conf){base.call(this,"short",conf),this.a=new(bn_default())(conf.a,16).toRed(this.red),this.b=new(bn_default())(conf.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(conf),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base);var short_1=ShortCurve;function Point(curve,x,y,isRed){base.BasePoint.call(this,curve,"affine"),null===x&&null===y?(this.x=null,this.y=null,this.inf=!0):(this.x=new(bn_default())(x,16),this.y=new(bn_default())(y,16),isRed&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(curve,x,y,z){base.BasePoint.call(this,curve,"jacobian"),null===x&&null===y&&null===z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(bn_default())(0)):(this.x=new(bn_default())(x,16),this.y=new(bn_default())(y,16),this.z=new(bn_default())(z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ShortCurve.prototype._getEndomorphism=function _getEndomorphism(conf){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var beta,lambda;if(conf.beta)beta=new(bn_default())(conf.beta,16).toRed(this.red);else{var betas=this._getEndoRoots(this.p);beta=(beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1]).toRed(this.red)}if(conf.lambda)lambda=new(bn_default())(conf.lambda,16);else{var lambdas=this._getEndoRoots(this.n);0===this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))?lambda=lambdas[0]:(lambda=lambdas[1],assert$2(0===this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))))}return{beta,lambda,basis:conf.basis?conf.basis.map((function(vec){return{a:new(bn_default())(vec.a,16),b:new(bn_default())(vec.b,16)}})):this._getEndoBasis(lambda)}}},ShortCurve.prototype._getEndoRoots=function _getEndoRoots(num){var red=num===this.p?this.red:bn_default().mont(num),tinv=new(bn_default())(2).toRed(red).redInvm(),ntinv=tinv.redNeg(),s=new(bn_default())(3).toRed(red).redNeg().redSqrt().redMul(tinv);return[ntinv.redAdd(s).fromRed(),ntinv.redSub(s).fromRed()]},ShortCurve.prototype._getEndoBasis=function _getEndoBasis(lambda){for(var a0,b0,a1,b1,a2,b2,prevR,r,x,aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=lambda,v=this.n.clone(),x1=new(bn_default())(1),y1=new(bn_default())(0),x2=new(bn_default())(0),y2=new(bn_default())(1),i=0;0!==u.cmpn(0);){var q=v.div(u);r=v.sub(q.mul(u)),x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0)a0=prevR.neg(),b0=x1,a1=r.neg(),b1=x;else if(a1&&2==++i)break;prevR=r,v=u,u=r,x2=x1,x1=x,y2=y1,y1=y}a2=r.neg(),b2=x;var len1=a1.sqr().add(b1.sqr());return a2.sqr().add(b2.sqr()).cmp(len1)>=0&&(a2=a0,b2=b0),a1.negative&&(a1=a1.neg(),b1=b1.neg()),a2.negative&&(a2=a2.neg(),b2=b2.neg()),[{a:a1,b:b1},{a:a2,b:b2}]},ShortCurve.prototype._endoSplit=function _endoSplit(k){var basis=this.endo.basis,v1=basis[0],v2=basis[1],c1=v2.b.mul(k).divRound(this.n),c2=v1.b.neg().mul(k).divRound(this.n),p1=c1.mul(v1.a),p2=c2.mul(v2.a),q1=c1.mul(v1.b),q2=c2.mul(v2.b);return{k1:k.sub(p1).sub(p2),k2:q1.add(q2).neg()}},ShortCurve.prototype.pointFromX=function pointFromX(x,odd){(x=new(bn_default())(x,16)).red||(x=x.toRed(this.red));var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},ShortCurve.prototype.validate=function validate(point){if(point.inf)return!0;var x=point.x,y=point.y,ax=this.a.redMul(x),rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return 0===y.redSqr().redISub(rhs).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(points,coeffs,jacobianResult){for(var npoints=this._endoWnafT1,ncoeffs=this._endoWnafT2,i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]),p=points[i],beta=p._getBeta();split.k1.negative&&(split.k1.ineg(),p=p.neg(!0)),split.k2.negative&&(split.k2.ineg(),beta=beta.neg(!0)),npoints[2*i]=p,npoints[2*i+1]=beta,ncoeffs[2*i]=split.k1,ncoeffs[2*i+1]=split.k2}for(var res=this._wnafMulAdd(1,npoints,ncoeffs,2*i,jacobianResult),j=0;j<2*i;j++)npoints[j]=null,ncoeffs[j]=null;return res},inherits_browser(Point,base.BasePoint),ShortCurve.prototype.point=function point(x,y,isRed){return new Point(this,x,y,isRed)},ShortCurve.prototype.pointFromJSON=function pointFromJSON(obj,red){return Point.fromJSON(this,obj,red)},Point.prototype._getBeta=function _getBeta(){if(this.curve.endo){var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve,endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta,beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta}},Point.prototype.toJSON=function toJSON(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function fromJSON(curve,obj,red){"string"==typeof obj&&(obj=JSON.parse(obj));var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;function obj2point(obj){return curve.point(obj[0],obj[1],red)}var pre=obj[2];return res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}},res},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return this.inf},Point.prototype.add=function add(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(0===this.x.cmp(p.x))return this.curve.point(null,null);var c=this.y.redSub(p.y);0!==c.cmpn(0)&&(c=c.redMul(this.x.redSub(p.x).redInvm()));var nx=c.redSqr().redISub(this.x).redISub(p.x),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.dbl=function dbl(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(0===ys1.cmpn(0))return this.curve.point(null,null);var a=this.curve.a,x2=this.x.redSqr(),dyinv=ys1.redInvm(),c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv),nx=c.redSqr().redISub(this.x.redAdd(this.x)),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.getX=function getX(){return this.x.fromRed()},Point.prototype.getY=function getY(){return this.y.fromRed()},Point.prototype.mul=function mul(k){return k=new(bn_default())(k,16),this.isInfinity()?this:this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function mulAdd(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs):this.curve._wnafMulAdd(1,points,coeffs,2)},Point.prototype.jmulAdd=function jmulAdd(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs,!0):this.curve._wnafMulAdd(1,points,coeffs,2,!0)},Point.prototype.eq=function eq(p){return this===p||this.inf===p.inf&&(this.inf||0===this.x.cmp(p.x)&&0===this.y.cmp(p.y))},Point.prototype.neg=function neg(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed,negate=function(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res},Point.prototype.toJ=function toJ(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits_browser(JPoint,base.BasePoint),ShortCurve.prototype.jpoint=function jpoint(x,y,z){return new JPoint(this,x,y,z)},JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm(),zinv2=zinv.redSqr(),ax=this.x.redMul(zinv2),ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)},JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr(),z2=this.z.redSqr(),u1=this.x.redMul(pz2),u2=p.x.redMul(z2),s1=this.y.redMul(pz2.redMul(p.z)),s2=p.y.redMul(z2.redMul(this.z)),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mixedAdd=function mixedAdd(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr(),u1=this.x,u2=p.x.redMul(z2),s1=this.y,s2=p.y.redMul(z2).redMul(this.z),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.dblp=function dblp(pow){if(0===pow)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();var i;if(this.curve.zeroA||this.curve.threeA){var r=this;for(i=0;i<pow;i++)r=r.dbl();return r}var a=this.curve.a,tinv=this.curve.tinv,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jyd=jy.redAdd(jy);for(i=0;i<pow;i++){var jx2=jx.redSqr(),jyd2=jyd.redSqr(),jyd4=jyd2.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),t1=jx.redMul(jyd2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);i+1<pow&&(jz4=jz4.redMul(jyd4)),jx=nx,jz=nz,jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)},JPoint.prototype.dbl=function dbl(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function _zeroDbl(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx),t=m.redSqr().redISub(s).redISub(s),yyyy8=yyyy.redIAdd(yyyy);yyyy8=(yyyy8=yyyy8.redIAdd(yyyy8)).redIAdd(yyyy8),nx=t,ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr(),b=this.y.redSqr(),c=b.redSqr(),d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a),f=e.redSqr(),c8=c.redIAdd(c);c8=(c8=c8.redIAdd(c8)).redIAdd(c8),nx=f.redISub(d).redISub(d),ny=e.redMul(d.redISub(nx)).redISub(c8),nz=(nz=this.y.redMul(this.z)).redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._threeDbl=function _threeDbl(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a),t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=(yyyy8=yyyy8.redIAdd(yyyy8)).redIAdd(yyyy8),ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr(),gamma=this.y.redSqr(),beta=this.x.redMul(gamma),alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta),beta8=(beta4=beta4.redIAdd(beta4)).redAdd(beta4);nx=alpha.redSqr().redISub(beta8),nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=(ggamma8=(ggamma8=ggamma8.redIAdd(ggamma8)).redIAdd(ggamma8)).redIAdd(ggamma8),ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._dbl=function _dbl(){var a=this.curve.a,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jx2=jx.redSqr(),jy2=jy.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),jxd4=jx.redAdd(jx),t1=(jxd4=jxd4.redIAdd(jxd4)).redMul(jy2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),jyd8=jy2.redSqr();jyd8=(jyd8=(jyd8=jyd8.redIAdd(jyd8)).redIAdd(jyd8)).redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8),nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr(),yy=this.y.redSqr(),zz=this.z.redSqr(),yyyy=yy.redSqr(),m=xx.redAdd(xx).redIAdd(xx),mm=m.redSqr(),e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy),ee=(e=(e=(e=e.redIAdd(e)).redAdd(e).redIAdd(e)).redISub(mm)).redSqr(),t=yyyy.redIAdd(yyyy);t=(t=(t=t.redIAdd(t)).redIAdd(t)).redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t),yyu4=yy.redMul(u);yyu4=(yyu4=yyu4.redIAdd(yyu4)).redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=(nx=nx.redIAdd(nx)).redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=(ny=(ny=ny.redIAdd(ny)).redIAdd(ny)).redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mul=function mul(k,kbase){return k=new(bn_default())(k,kbase),this.curve._wnafMul(this,k)},JPoint.prototype.eq=function eq(p){if("affine"===p.type)return this.eq(p.toJ());if(this===p)return!0;var z2=this.z.redSqr(),pz2=p.z.redSqr();if(0!==this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0))return!1;var z3=z2.redMul(this.z),pz3=pz2.redMul(p.z);return 0===this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)},JPoint.prototype.eqXToP=function eqXToP(x){var zs=this.z.redSqr(),rx=x.toRed(this.curve.red).redMul(zs);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(zs);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}},JPoint.prototype.inspect=function inspect(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function isInfinity(){return 0===this.z.cmpn(0)};var curve_1=createCommonjsModule((function(module,exports){var curve=exports;curve.base=base,curve.short=short_1,curve.mont=null,curve.edwards=null})),curves_1=createCommonjsModule((function(module,exports){var pre,curves=exports,assert=utils_1$1.assert;function PresetCurve(options){"short"===options.type?this.curve=new curve_1.short(options):"edwards"===options.type?this.curve=new curve_1.edwards(options):this.curve=new curve_1.mont(options),this.g=this.curve.g,this.n=this.curve.n,this.hash=options.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,get:function(){var curve=new PresetCurve(options);return Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,value:curve}),curve}})}curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash_default().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash_default().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash_default().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash_default().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash_default().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash_default().sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash_default().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{pre=null.crash()}catch(e){pre=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash_default().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})}));function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash,this.predResist=!!options.predResist,this.outLen=this.hash.outSize,this.minEntropy=options.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var entropy=utils_1.toArray(options.entropy,options.entropyEnc||"hex"),nonce=utils_1.toArray(options.nonce,options.nonceEnc||"hex"),pers=utils_1.toArray(options.pers,options.persEnc||"hex");minimalisticAssert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(entropy,nonce,pers)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function init(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(seed),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function hmac(){return new(hash_default().hmac)(this.hash,this.K)},HmacDRBG.prototype._update=function update(seed){var kmac=this._hmac().update(this.V).update([0]);seed&&(kmac=kmac.update(seed)),this.K=kmac.digest(),this.V=this._hmac().update(this.V).digest(),seed&&(this.K=this._hmac().update(this.V).update([1]).update(seed).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function reseed(entropy,entropyEnc,add,addEnc){"string"!=typeof entropyEnc&&(addEnc=add,add=entropyEnc,entropyEnc=null),entropy=utils_1.toArray(entropy,entropyEnc),add=utils_1.toArray(add,addEnc),minimalisticAssert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(entropy.concat(add||[])),this._reseed=1},HmacDRBG.prototype.generate=function generate(len,enc,add,addEnc){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof enc&&(addEnc=add,add=enc,enc=null),add&&(add=utils_1.toArray(add,addEnc||"hex"),this._update(add));for(var temp=[];temp.length<len;)this.V=this._hmac().update(this.V).digest(),temp=temp.concat(this.V);var res=temp.slice(0,len);return this._update(add),this._reseed++,utils_1.encode(res,enc)};var assert$3=utils_1$1.assert;function KeyPair(ec,options){this.ec=ec,this.priv=null,this.pub=null,options.priv&&this._importPrivate(options.priv,options.privEnc),options.pub&&this._importPublic(options.pub,options.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function fromPublic(ec,pub,enc){return pub instanceof KeyPair?pub:new KeyPair(ec,{pub,pubEnc:enc})},KeyPair.fromPrivate=function fromPrivate(ec,priv,enc){return priv instanceof KeyPair?priv:new KeyPair(ec,{priv,privEnc:enc})},KeyPair.prototype.validate=function validate(){var pub=this.getPublic();return pub.isInfinity()?{result:!1,reason:"Invalid public key"}:pub.validate()?pub.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function getPublic(compact,enc){return"string"==typeof compact&&(enc=compact,compact=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),enc?this.pub.encode(enc,compact):this.pub},KeyPair.prototype.getPrivate=function getPrivate(enc){return"hex"===enc?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function _importPrivate(key,enc){this.priv=new(bn_default())(key,enc||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function _importPublic(key,enc){if(key.x||key.y)return"mont"===this.ec.curve.type?assert$3(key.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$3(key.x&&key.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(key.x,key.y));this.pub=this.ec.curve.decodePoint(key,enc)},KeyPair.prototype.derive=function derive(pub){return pub.validate()||assert$3(pub.validate(),"public point not validated"),pub.mul(this.priv).getX()},KeyPair.prototype.sign=function sign(msg,enc,options){return this.ec.sign(msg,this,enc,options)},KeyPair.prototype.verify=function verify(msg,signature){return this.ec.verify(msg,signature,this)},KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1.assert;function Signature(options,enc){if(options instanceof Signature)return options;this._importDER(options,enc)||(assert$4(options.r&&options.s,"Signature without r or s"),this.r=new(bn_default())(options.r,16),this.s=new(bn_default())(options.s,16),void 0===options.recoveryParam?this.recoveryParam=null:this.recoveryParam=options.recoveryParam)}var signature=Signature;function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(128&initial))return initial;var octetLen=15&initial;if(0===octetLen||octetLen>4)return!1;for(var val=0,i=0,off=p.place;i<octetLen;i++,off++)val<<=8,val|=buf[off],val>>>=0;return!(val<=127)&&(p.place=off,val)}function rmPadding(buf){for(var i=0,len=buf.length-1;!buf[i]&&!(128&buf[i+1])&&i<len;)i++;return 0===i?buf:buf.slice(i)}function constructLength(arr,len){if(len<128)arr.push(len);else{var octets=1+(Math.log(len)/Math.LN2>>>3);for(arr.push(128|octets);--octets;)arr.push(len>>>(octets<<3)&255);arr.push(len)}}Signature.prototype._importDER=function _importDER(data,enc){data=utils_1$1.toArray(data,enc);var p=new Position;if(48!==data[p.place++])return!1;var len=getLength(data,p);if(!1===len)return!1;if(len+p.place!==data.length)return!1;if(2!==data[p.place++])return!1;var rlen=getLength(data,p);if(!1===rlen)return!1;var r=data.slice(p.place,rlen+p.place);if(p.place+=rlen,2!==data[p.place++])return!1;var slen=getLength(data,p);if(!1===slen)return!1;if(data.length!==slen+p.place)return!1;var s=data.slice(p.place,slen+p.place);if(0===r[0]){if(!(128&r[1]))return!1;r=r.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(bn_default())(r),this.s=new(bn_default())(s),this.recoveryParam=null,!0},Signature.prototype.toDER=function toDER(enc){var r=this.r.toArray(),s=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s)),r=rmPadding(r),s=rmPadding(s);!(s[0]||128&s[1]);)s=s.slice(1);var arr=[2];constructLength(arr,r.length),(arr=arr.concat(r)).push(2),constructLength(arr,s.length);var backHalf=arr.concat(s),res=[48];return constructLength(res,backHalf.length),res=res.concat(backHalf),utils_1$1.encode(res,enc)};var rand=function(){throw new Error("unsupported")},assert$5=utils_1$1.assert;function EC(options){if(!(this instanceof EC))return new EC(options);"string"==typeof options&&(assert$5(Object.prototype.hasOwnProperty.call(curves_1,options),"Unknown curve "+options),options=curves_1[options]),options instanceof curves_1.PresetCurve&&(options={curve:options}),this.curve=options.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=options.curve.g,this.g.precompute(options.curve.n.bitLength()+1),this.hash=options.hash||options.curve.hash}var ec=EC;EC.prototype.keyPair=function keyPair(options){return new key(this,options)},EC.prototype.keyFromPrivate=function keyFromPrivate(priv,enc){return key.fromPrivate(this,priv,enc)},EC.prototype.keyFromPublic=function keyFromPublic(pub,enc){return key.fromPublic(this,pub,enc)},EC.prototype.genKeyPair=function genKeyPair(options){options||(options={});for(var drbg=new hmacDrbg({hash:this.hash,pers:options.pers,persEnc:options.persEnc||"utf8",entropy:options.entropy||rand(this.hash.hmacStrength),entropyEnc:options.entropy&&options.entropyEnc||"utf8",nonce:this.n.toArray()}),bytes=this.n.byteLength(),ns2=this.n.sub(new(bn_default())(2));;){var priv=new(bn_default())(drbg.generate(bytes));if(!(priv.cmp(ns2)>0))return priv.iaddn(1),this.keyFromPrivate(priv)}},EC.prototype._truncateToN=function _truncateToN(msg,truncOnly){var delta=8*msg.byteLength()-this.n.bitLength();return delta>0&&(msg=msg.ushrn(delta)),!truncOnly&&msg.cmp(this.n)>=0?msg.sub(this.n):msg},EC.prototype.sign=function sign(msg,key,enc,options){"object"==typeof enc&&(options=enc,enc=null),options||(options={}),key=this.keyFromPrivate(key,enc),msg=this._truncateToN(new(bn_default())(msg,16));for(var bytes=this.n.byteLength(),bkey=key.getPrivate().toArray("be",bytes),nonce=msg.toArray("be",bytes),drbg=new hmacDrbg({hash:this.hash,entropy:bkey,nonce,pers:options.pers,persEnc:options.persEnc||"utf8"}),ns1=this.n.sub(new(bn_default())(1)),iter=0;;iter++){var k=options.k?options.k(iter):new(bn_default())(drbg.generate(this.n.byteLength()));if(!((k=this._truncateToN(k,!0)).cmpn(1)<=0||k.cmp(ns1)>=0)){var kp=this.g.mul(k);if(!kp.isInfinity()){var kpX=kp.getX(),r=kpX.umod(this.n);if(0!==r.cmpn(0)){var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));if(0!==(s=s.umod(this.n)).cmpn(0)){var recoveryParam=(kp.getY().isOdd()?1:0)|(0!==kpX.cmp(r)?2:0);return options.canonical&&s.cmp(this.nh)>0&&(s=this.n.sub(s),recoveryParam^=1),new signature({r,s,recoveryParam})}}}}}},EC.prototype.verify=function verify(msg,signature$1,key,enc){msg=this._truncateToN(new(bn_default())(msg,16)),key=this.keyFromPublic(key,enc);var r=(signature$1=new signature(signature$1,"hex")).r,s=signature$1.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var p,sinv=s.invm(this.n),u1=sinv.mul(msg).umod(this.n),u2=sinv.mul(r).umod(this.n);return this.curve._maxwellTrick?!(p=this.g.jmulAdd(u1,key.getPublic(),u2)).isInfinity()&&p.eqXToP(r):!(p=this.g.mulAdd(u1,key.getPublic(),u2)).isInfinity()&&0===p.getX().umod(this.n).cmp(r)},EC.prototype.recoverPubKey=function(msg,signature$1,j,enc){assert$5((3&j)===j,"The recovery param is more than two bits"),signature$1=new signature(signature$1,enc);var n=this.n,e=new(bn_default())(msg),r=signature$1.r,s=signature$1.s,isYOdd=1&j,isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");r=isSecondKey?this.curve.pointFromX(r.add(this.curve.n),isYOdd):this.curve.pointFromX(r,isYOdd);var rInv=signature$1.r.invm(n),s1=n.sub(e).mul(rInv).umod(n),s2=s.mul(rInv).umod(n);return this.g.mulAdd(s1,r,s2)},EC.prototype.getKeyRecoveryParam=function(e,signature$1,Q,enc){if(null!==(signature$1=new signature(signature$1,enc)).recoveryParam)return signature$1.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature$1,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")};var EC$1=createCommonjsModule((function(module,exports){var elliptic=exports;elliptic.version="6.5.4",elliptic.utils=utils_1$1,elliptic.rand=function(){throw new Error("unsupported")},elliptic.curve=curve_1,elliptic.curves=curves_1,elliptic.ec=ec,elliptic.eddsa=null})).ec,lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),properties_lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js");const logger=new(__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js").Logger)("signing-key/5.7.0");let _curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}class SigningKey{constructor(privateKey){(0,properties_lib_esm.defineReadOnly)(this,"curve","secp256k1"),(0,properties_lib_esm.defineReadOnly)(this,"privateKey",(0,lib_esm.hexlify)(privateKey)),32!==(0,lib_esm.hexDataLength)(this.privateKey)&&logger.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const keyPair=getCurve().keyFromPrivate((0,lib_esm.arrayify)(this.privateKey));(0,properties_lib_esm.defineReadOnly)(this,"publicKey","0x"+keyPair.getPublic(!1,"hex")),(0,properties_lib_esm.defineReadOnly)(this,"compressedPublicKey","0x"+keyPair.getPublic(!0,"hex")),(0,properties_lib_esm.defineReadOnly)(this,"_isSigningKey",!0)}_addPoint(other){const p0=getCurve().keyFromPublic((0,lib_esm.arrayify)(this.publicKey)),p1=getCurve().keyFromPublic((0,lib_esm.arrayify)(other));return"0x"+p0.pub.add(p1.pub).encodeCompressed("hex")}signDigest(digest){const keyPair=getCurve().keyFromPrivate((0,lib_esm.arrayify)(this.privateKey)),digestBytes=(0,lib_esm.arrayify)(digest);32!==digestBytes.length&&logger.throwArgumentError("bad digest length","digest",digest);const signature=keyPair.sign(digestBytes,{canonical:!0});return(0,lib_esm.splitSignature)({recoveryParam:signature.recoveryParam,r:(0,lib_esm.hexZeroPad)("0x"+signature.r.toString(16),32),s:(0,lib_esm.hexZeroPad)("0x"+signature.s.toString(16),32)})}computeSharedSecret(otherKey){const keyPair=getCurve().keyFromPrivate((0,lib_esm.arrayify)(this.privateKey)),otherKeyPair=getCurve().keyFromPublic((0,lib_esm.arrayify)(computePublicKey(otherKey)));return(0,lib_esm.hexZeroPad)("0x"+keyPair.derive(otherKeyPair.getPublic()).toString(16),32)}static isSigningKey(value){return!(!value||!value._isSigningKey)}}function recoverPublicKey(digest,signature){const sig=(0,lib_esm.splitSignature)(signature),rs={r:(0,lib_esm.arrayify)(sig.r),s:(0,lib_esm.arrayify)(sig.s)};return"0x"+getCurve().recoverPubKey((0,lib_esm.arrayify)(digest),rs,sig.recoveryParam).encode("hex",!1)}function computePublicKey(key,compressed){const bytes=(0,lib_esm.arrayify)(key);if(32===bytes.length){const signingKey=new SigningKey(bytes);return compressed?"0x"+getCurve().keyFromPrivate(bytes).getPublic(!0,"hex"):signingKey.publicKey}return 33===bytes.length?compressed?(0,lib_esm.hexlify)(bytes):"0x"+getCurve().keyFromPublic(bytes).getPublic(!1,"hex"):65===bytes.length?compressed?"0x"+getCurve().keyFromPublic(bytes).getPublic(!0,"hex"):(0,lib_esm.hexlify)(bytes):logger.throwArgumentError("invalid public or private key","key","[REDACTED]")}},"./node_modules/@ethersproject/solidity/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{keccak256:()=>keccak256,pack:()=>pack,sha256:()=>sha256});var bignumber=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),keccak256_lib_esm=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),sha2=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/sha2.js"),utf8=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");const regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger=new logger_lib_esm.Logger("solidity/5.7.0");function _pack(type,value,isArray){switch(type){case"address":return isArray?(0,lib_esm.zeroPad)(value,32):(0,lib_esm.arrayify)(value);case"string":return(0,utf8.Y0)(value);case"bytes":return(0,lib_esm.arrayify)(value);case"bool":return value=value?"0x01":"0x00",isArray?(0,lib_esm.zeroPad)(value,32):(0,lib_esm.arrayify)(value)}let match=type.match(regexNumber);if(match){let size=parseInt(match[2]||"256");return(match[2]&&String(size)!==match[2]||size%8!=0||0===size||size>256)&&logger.throwArgumentError("invalid number type","type",type),isArray&&(size=256),value=bignumber.O$.from(value).toTwos(size),(0,lib_esm.zeroPad)(value,size/8)}if(match=type.match(regexBytes),match){const size=parseInt(match[1]);return(String(size)!==match[1]||0===size||size>32)&&logger.throwArgumentError("invalid bytes type","type",type),(0,lib_esm.arrayify)(value).byteLength!==size&&logger.throwArgumentError(`invalid value for ${type}`,"value",value),isArray?(0,lib_esm.arrayify)((value+Zeros).substring(0,66)):value}if(match=type.match(regexArray),match&&Array.isArray(value)){const baseType=match[1];parseInt(match[2]||String(value.length))!=value.length&&logger.throwArgumentError(`invalid array length for ${type}`,"value",value);const result=[];return value.forEach((function(value){result.push(_pack(baseType,value,!0))})),(0,lib_esm.concat)(result)}return logger.throwArgumentError("invalid type","type",type)}function pack(types,values){types.length!=values.length&&logger.throwArgumentError("wrong number of values; expected ${ types.length }","values",values);const tight=[];return types.forEach((function(type,index){tight.push(_pack(type,values[index]))})),(0,lib_esm.hexlify)((0,lib_esm.concat)(tight))}function keccak256(types,values){return(0,keccak256_lib_esm.keccak256)(pack(types,values))}function sha256(types,values){return(0,sha2.JQ)(pack(types,values))}},"./node_modules/@ethersproject/strings/lib.esm/bytes32.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F:()=>parseBytes32String,s:()=>formatBytes32String});var _ethersproject_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/constants/lib.esm/hashes.js"),_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),_utf8__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js");function formatBytes32String(text){const bytes=(0,_utf8__WEBPACK_IMPORTED_MODULE_0__.Y0)(text);if(bytes.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__.hexlify)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__.concat)([bytes,_ethersproject_constants__WEBPACK_IMPORTED_MODULE_2__.R]).slice(0,32))}function parseBytes32String(bytes){const data=(0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__.arrayify)(bytes);if(32!==data.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==data[31])throw new Error("invalid bytes32 string - no null terminator");let length=31;for(;0===data[length-1];)length--;return(0,_utf8__WEBPACK_IMPORTED_MODULE_0__.ZN)(data.slice(0,length))}},"./node_modules/@ethersproject/strings/lib.esm/idna.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ll:()=>nameprep});var _utf8__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js");function createTable(data,func){func||(func=function(value){return[parseInt(value,16)]});let lo=0,result={};return data.split(",").forEach((pair=>{let comps=pair.split(":");lo+=parseInt(comps[0],16),result[lo]=func(comps[1])})),result}function createRangeTable(data){let hi=0;return data.split(",").map((v=>{let comps=v.split("-");1===comps.length?comps[1]="0":""===comps[1]&&(comps[1]="1");let lo=hi+parseInt(comps[0],16);return hi=parseInt(comps[1],16),{l:lo,h:hi}}))}function matchMap(value,ranges){let lo=0;for(let i=0;i<ranges.length;i++){let range=ranges[i];if(lo+=range.l,value>=lo&&value<=lo+range.h&&(value-lo)%(range.d||1)==0){if(range.e&&-1!==range.e.indexOf(value-lo))continue;return range}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((v=>parseInt(v,16))),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function bytes2(data){if(data.length%4!=0)throw new Error("bad data");let result=[];for(let i=0;i<data.length;i+=4)result.push(parseInt(data.substring(i,i+4),16));return result})),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function nameprep(value){if(value.match(/^[a-z0-9-]*$/i)&&value.length<=59)return value.toLowerCase();let codes=(0,_utf8__WEBPACK_IMPORTED_MODULE_0__.XL)(value);codes=function flatten(values){return values.reduce(((accum,value)=>(value.forEach((value=>{accum.push(value)})),accum)),[])}(codes.map((code=>{if(Table_B_1_flags.indexOf(code)>=0)return[];if(code>=65024&&code<=65039)return[];let codesTableB2=function _nameprepTableB2(codepoint){let range=matchMap(codepoint,Table_B_2_ranges);if(range)return[codepoint+range.s];let codes=Table_B_2_lut_abs[codepoint];if(codes)return codes;let shift=Table_B_2_lut_rel[codepoint];return shift?[codepoint+shift[0]]:Table_B_2_complex[codepoint]||null}(code);return codesTableB2||[code]}))),codes=(0,_utf8__WEBPACK_IMPORTED_MODULE_0__.XL)((0,_utf8__WEBPACK_IMPORTED_MODULE_0__.uu)(codes),_utf8__WEBPACK_IMPORTED_MODULE_0__.Uj.NFKC),codes.forEach((code=>{if(function _nameprepTableC(codepoint){return!!matchMap(codepoint,Table_C_ranges)}(code))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),codes.forEach((code=>{if(function _nameprepTableA1(codepoint){return!!matchMap(codepoint,Table_A_1_ranges)}(code))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let name=(0,_utf8__WEBPACK_IMPORTED_MODULE_0__.uu)(codes);if("-"===name.substring(0,1)||"--"===name.substring(2,4)||"-"===name.substring(name.length-1))throw new Error("invalid hyphen");return name}},"./node_modules/@ethersproject/strings/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UnicodeNormalizationForm:()=>_utf8__WEBPACK_IMPORTED_MODULE_0__.Uj,Utf8ErrorFuncs:()=>_utf8__WEBPACK_IMPORTED_MODULE_0__.te,Utf8ErrorReason:()=>_utf8__WEBPACK_IMPORTED_MODULE_0__.Uw,_toEscapedUtf8String:()=>_utf8__WEBPACK_IMPORTED_MODULE_0__.U$,formatBytes32String:()=>_bytes32__WEBPACK_IMPORTED_MODULE_1__.s,nameprep:()=>_idna__WEBPACK_IMPORTED_MODULE_2__.Ll,parseBytes32String:()=>_bytes32__WEBPACK_IMPORTED_MODULE_1__.F,toUtf8Bytes:()=>_utf8__WEBPACK_IMPORTED_MODULE_0__.Y0,toUtf8CodePoints:()=>_utf8__WEBPACK_IMPORTED_MODULE_0__.XL,toUtf8String:()=>_utf8__WEBPACK_IMPORTED_MODULE_0__.ZN});var _bytes32__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/bytes32.js"),_idna__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/idna.js"),_utf8__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js")},"./node_modules/@ethersproject/transactions/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{TransactionTypes:()=>TransactionTypes,accessListify:()=>accessListify,computeAddress:()=>computeAddress,parse:()=>parse,recoverAddress:()=>recoverAddress,serialize:()=>serialize});var lib_esm=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js"),bignumber=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),bytes_lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),bignumbers=__webpack_require__("./node_modules/@ethersproject/constants/lib.esm/bignumbers.js"),keccak256_lib_esm=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),properties_lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),rlp_lib_esm=__webpack_require__("./node_modules/@ethersproject/rlp/lib.esm/index.js"),signing_key_lib_esm=__webpack_require__("./node_modules/@ethersproject/signing-key/lib.esm/index.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");const logger=new logger_lib_esm.Logger("transactions/5.7.0");var TransactionTypes;function handleAddress(value){return"0x"===value?null:(0,lib_esm.getAddress)(value)}function handleNumber(value){return"0x"===value?bignumbers._Y:bignumber.O$.from(value)}!function(TransactionTypes){TransactionTypes[TransactionTypes.legacy=0]="legacy",TransactionTypes[TransactionTypes.eip2930=1]="eip2930",TransactionTypes[TransactionTypes.eip1559=2]="eip1559"}(TransactionTypes||(TransactionTypes={}));const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(key){const publicKey=(0,signing_key_lib_esm.computePublicKey)(key);return(0,lib_esm.getAddress)((0,bytes_lib_esm.hexDataSlice)((0,keccak256_lib_esm.keccak256)((0,bytes_lib_esm.hexDataSlice)(publicKey,1)),12))}function recoverAddress(digest,signature){return computeAddress((0,signing_key_lib_esm.recoverPublicKey)((0,bytes_lib_esm.arrayify)(digest),signature))}function formatNumber(value,name){const result=(0,bytes_lib_esm.stripZeros)(bignumber.O$.from(value).toHexString());return result.length>32&&logger.throwArgumentError("invalid length for "+name,"transaction:"+name,value),result}function accessSetify(addr,storageKeys){return{address:(0,lib_esm.getAddress)(addr),storageKeys:(storageKeys||[]).map(((storageKey,index)=>(32!==(0,bytes_lib_esm.hexDataLength)(storageKey)&&logger.throwArgumentError("invalid access list storageKey",`accessList[${addr}:${index}]`,storageKey),storageKey.toLowerCase())))}}function accessListify(value){if(Array.isArray(value))return value.map(((set,index)=>Array.isArray(set)?(set.length>2&&logger.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${index}]`,set),accessSetify(set[0],set[1])):accessSetify(set.address,set.storageKeys)));const result=Object.keys(value).map((addr=>{const storageKeys=value[addr].reduce(((accum,storageKey)=>(accum[storageKey]=!0,accum)),{});return accessSetify(addr,Object.keys(storageKeys).sort())}));return result.sort(((a,b)=>a.address.localeCompare(b.address))),result}function formatAccessList(value){return accessListify(value).map((set=>[set.address,set.storageKeys]))}function _serializeEip1559(transaction,signature){if(null!=transaction.gasPrice){const gasPrice=bignumber.O$.from(transaction.gasPrice),maxFeePerGas=bignumber.O$.from(transaction.maxFeePerGas||0);gasPrice.eq(maxFeePerGas)||logger.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice,maxFeePerGas})}const fields=[formatNumber(transaction.chainId||0,"chainId"),formatNumber(transaction.nonce||0,"nonce"),formatNumber(transaction.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(transaction.maxFeePerGas||0,"maxFeePerGas"),formatNumber(transaction.gasLimit||0,"gasLimit"),null!=transaction.to?(0,lib_esm.getAddress)(transaction.to):"0x",formatNumber(transaction.value||0,"value"),transaction.data||"0x",formatAccessList(transaction.accessList||[])];if(signature){const sig=(0,bytes_lib_esm.splitSignature)(signature);fields.push(formatNumber(sig.recoveryParam,"recoveryParam")),fields.push((0,bytes_lib_esm.stripZeros)(sig.r)),fields.push((0,bytes_lib_esm.stripZeros)(sig.s))}return(0,bytes_lib_esm.hexConcat)(["0x02",rlp_lib_esm.encode(fields)])}function _serializeEip2930(transaction,signature){const fields=[formatNumber(transaction.chainId||0,"chainId"),formatNumber(transaction.nonce||0,"nonce"),formatNumber(transaction.gasPrice||0,"gasPrice"),formatNumber(transaction.gasLimit||0,"gasLimit"),null!=transaction.to?(0,lib_esm.getAddress)(transaction.to):"0x",formatNumber(transaction.value||0,"value"),transaction.data||"0x",formatAccessList(transaction.accessList||[])];if(signature){const sig=(0,bytes_lib_esm.splitSignature)(signature);fields.push(formatNumber(sig.recoveryParam,"recoveryParam")),fields.push((0,bytes_lib_esm.stripZeros)(sig.r)),fields.push((0,bytes_lib_esm.stripZeros)(sig.s))}return(0,bytes_lib_esm.hexConcat)(["0x01",rlp_lib_esm.encode(fields)])}function serialize(transaction,signature){if(null==transaction.type||0===transaction.type)return null!=transaction.accessList&&logger.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",transaction),function _serialize(transaction,signature){(0,properties_lib_esm.checkProperties)(transaction,allowedTransactionKeys);const raw=[];transactionFields.forEach((function(fieldInfo){let value=transaction[fieldInfo.name]||[];const options={};fieldInfo.numeric&&(options.hexPad="left"),value=(0,bytes_lib_esm.arrayify)((0,bytes_lib_esm.hexlify)(value,options)),fieldInfo.length&&value.length!==fieldInfo.length&&value.length>0&&logger.throwArgumentError("invalid length for "+fieldInfo.name,"transaction:"+fieldInfo.name,value),fieldInfo.maxLength&&(value=(0,bytes_lib_esm.stripZeros)(value),value.length>fieldInfo.maxLength&&logger.throwArgumentError("invalid length for "+fieldInfo.name,"transaction:"+fieldInfo.name,value)),raw.push((0,bytes_lib_esm.hexlify)(value))}));let chainId=0;if(null!=transaction.chainId?(chainId=transaction.chainId,"number"!=typeof chainId&&logger.throwArgumentError("invalid transaction.chainId","transaction",transaction)):signature&&!(0,bytes_lib_esm.isBytesLike)(signature)&&signature.v>28&&(chainId=Math.floor((signature.v-35)/2)),0!==chainId&&(raw.push((0,bytes_lib_esm.hexlify)(chainId)),raw.push("0x"),raw.push("0x")),!signature)return rlp_lib_esm.encode(raw);const sig=(0,bytes_lib_esm.splitSignature)(signature);let v=27+sig.recoveryParam;return 0!==chainId?(raw.pop(),raw.pop(),raw.pop(),v+=2*chainId+8,sig.v>28&&sig.v!==v&&logger.throwArgumentError("transaction.chainId/signature.v mismatch","signature",signature)):sig.v!==v&&logger.throwArgumentError("transaction.chainId/signature.v mismatch","signature",signature),raw.push((0,bytes_lib_esm.hexlify)(v)),raw.push((0,bytes_lib_esm.stripZeros)((0,bytes_lib_esm.arrayify)(sig.r))),raw.push((0,bytes_lib_esm.stripZeros)((0,bytes_lib_esm.arrayify)(sig.s))),rlp_lib_esm.encode(raw)}(transaction,signature);switch(transaction.type){case 1:return _serializeEip2930(transaction,signature);case 2:return _serializeEip1559(transaction,signature)}return logger.throwError(`unsupported transaction type: ${transaction.type}`,logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:transaction.type})}function _parseEipSignature(tx,fields,serialize){try{const recid=handleNumber(fields[0]).toNumber();if(0!==recid&&1!==recid)throw new Error("bad recid");tx.v=recid}catch(error){logger.throwArgumentError("invalid v for transaction type: 1","v",fields[0])}tx.r=(0,bytes_lib_esm.hexZeroPad)(fields[1],32),tx.s=(0,bytes_lib_esm.hexZeroPad)(fields[2],32);try{const digest=(0,keccak256_lib_esm.keccak256)(serialize(tx));tx.from=recoverAddress(digest,{r:tx.r,s:tx.s,recoveryParam:tx.v})}catch(error){}}function parse(rawTransaction){const payload=(0,bytes_lib_esm.arrayify)(rawTransaction);if(payload[0]>127)return function _parse(rawTransaction){const transaction=rlp_lib_esm.decode(rawTransaction);9!==transaction.length&&6!==transaction.length&&logger.throwArgumentError("invalid raw transaction","rawTransaction",rawTransaction);const tx={nonce:handleNumber(transaction[0]).toNumber(),gasPrice:handleNumber(transaction[1]),gasLimit:handleNumber(transaction[2]),to:handleAddress(transaction[3]),value:handleNumber(transaction[4]),data:transaction[5],chainId:0};if(6===transaction.length)return tx;try{tx.v=bignumber.O$.from(transaction[6]).toNumber()}catch(error){return tx}if(tx.r=(0,bytes_lib_esm.hexZeroPad)(transaction[7],32),tx.s=(0,bytes_lib_esm.hexZeroPad)(transaction[8],32),bignumber.O$.from(tx.r).isZero()&&bignumber.O$.from(tx.s).isZero())tx.chainId=tx.v,tx.v=0;else{tx.chainId=Math.floor((tx.v-35)/2),tx.chainId<0&&(tx.chainId=0);let recoveryParam=tx.v-27;const raw=transaction.slice(0,6);0!==tx.chainId&&(raw.push((0,bytes_lib_esm.hexlify)(tx.chainId)),raw.push("0x"),raw.push("0x"),recoveryParam-=2*tx.chainId+8);const digest=(0,keccak256_lib_esm.keccak256)(rlp_lib_esm.encode(raw));try{tx.from=recoverAddress(digest,{r:(0,bytes_lib_esm.hexlify)(tx.r),s:(0,bytes_lib_esm.hexlify)(tx.s),recoveryParam})}catch(error){}tx.hash=(0,keccak256_lib_esm.keccak256)(rawTransaction)}return tx.type=null,tx}(payload);switch(payload[0]){case 1:return function _parseEip2930(payload){const transaction=rlp_lib_esm.decode(payload.slice(1));8!==transaction.length&&11!==transaction.length&&logger.throwArgumentError("invalid component count for transaction type: 1","payload",(0,bytes_lib_esm.hexlify)(payload));const tx={type:1,chainId:handleNumber(transaction[0]).toNumber(),nonce:handleNumber(transaction[1]).toNumber(),gasPrice:handleNumber(transaction[2]),gasLimit:handleNumber(transaction[3]),to:handleAddress(transaction[4]),value:handleNumber(transaction[5]),data:transaction[6],accessList:accessListify(transaction[7])};return 8===transaction.length||(tx.hash=(0,keccak256_lib_esm.keccak256)(payload),_parseEipSignature(tx,transaction.slice(8),_serializeEip2930)),tx}(payload);case 2:return function _parseEip1559(payload){const transaction=rlp_lib_esm.decode(payload.slice(1));9!==transaction.length&&12!==transaction.length&&logger.throwArgumentError("invalid component count for transaction type: 2","payload",(0,bytes_lib_esm.hexlify)(payload));const maxPriorityFeePerGas=handleNumber(transaction[2]),maxFeePerGas=handleNumber(transaction[3]),tx={type:2,chainId:handleNumber(transaction[0]).toNumber(),nonce:handleNumber(transaction[1]).toNumber(),maxPriorityFeePerGas,maxFeePerGas,gasPrice:null,gasLimit:handleNumber(transaction[4]),to:handleAddress(transaction[5]),value:handleNumber(transaction[6]),data:transaction[7],accessList:accessListify(transaction[8])};return 9===transaction.length||(tx.hash=(0,keccak256_lib_esm.keccak256)(payload),_parseEipSignature(tx,transaction.slice(9),_serializeEip1559)),tx}(payload)}return logger.throwError(`unsupported transaction type: ${payload[0]}`,logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:payload[0]})}},"./node_modules/@ethersproject/wallet/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Wallet:()=>Wallet,verifyMessage:()=>verifyMessage,verifyTypedData:()=>verifyTypedData});var lib_esm=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js"),abstract_provider_lib_esm=__webpack_require__("./node_modules/@ethersproject/abstract-provider/lib.esm/index.js"),abstract_signer_lib_esm=__webpack_require__("./node_modules/@ethersproject/abstract-signer/lib.esm/index.js"),bytes_lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),lib_esm_message=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/message.js"),typed_data=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/typed-data.js"),hdnode_lib_esm=__webpack_require__("./node_modules/@ethersproject/hdnode/lib.esm/index.js"),keccak256_lib_esm=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),properties_lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),random=__webpack_require__("./node_modules/@ethersproject/random/lib.esm/random.js"),signing_key_lib_esm=__webpack_require__("./node_modules/@ethersproject/signing-key/lib.esm/index.js"),keystore=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/keystore.js"),json_wallets_lib_esm=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/index.js"),transactions_lib_esm=__webpack_require__("./node_modules/@ethersproject/transactions/lib.esm/index.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const logger=new logger_lib_esm.Logger("wallet/5.7.0");class Wallet extends abstract_signer_lib_esm.E{constructor(privateKey,provider){if(super(),function isAccount(value){return null!=value&&(0,bytes_lib_esm.isHexString)(value.privateKey,32)&&null!=value.address}(privateKey)){const signingKey=new signing_key_lib_esm.SigningKey(privateKey.privateKey);if((0,properties_lib_esm.defineReadOnly)(this,"_signingKey",(()=>signingKey)),(0,properties_lib_esm.defineReadOnly)(this,"address",(0,transactions_lib_esm.computeAddress)(this.publicKey)),this.address!==(0,lib_esm.getAddress)(privateKey.address)&&logger.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function hasMnemonic(value){const mnemonic=value.mnemonic;return mnemonic&&mnemonic.phrase}(privateKey)){const srcMnemonic=privateKey.mnemonic;(0,properties_lib_esm.defineReadOnly)(this,"_mnemonic",(()=>({phrase:srcMnemonic.phrase,path:srcMnemonic.path||hdnode_lib_esm.defaultPath,locale:srcMnemonic.locale||"en"})));const mnemonic=this.mnemonic,node=hdnode_lib_esm.HDNode.fromMnemonic(mnemonic.phrase,null,mnemonic.locale).derivePath(mnemonic.path);(0,transactions_lib_esm.computeAddress)(node.privateKey)!==this.address&&logger.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,properties_lib_esm.defineReadOnly)(this,"_mnemonic",(()=>null))}else{if(signing_key_lib_esm.SigningKey.isSigningKey(privateKey))"secp256k1"!==privateKey.curve&&logger.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,properties_lib_esm.defineReadOnly)(this,"_signingKey",(()=>privateKey));else{"string"==typeof privateKey&&privateKey.match(/^[0-9a-f]*$/i)&&64===privateKey.length&&(privateKey="0x"+privateKey);const signingKey=new signing_key_lib_esm.SigningKey(privateKey);(0,properties_lib_esm.defineReadOnly)(this,"_signingKey",(()=>signingKey))}(0,properties_lib_esm.defineReadOnly)(this,"_mnemonic",(()=>null)),(0,properties_lib_esm.defineReadOnly)(this,"address",(0,transactions_lib_esm.computeAddress)(this.publicKey))}provider&&!abstract_provider_lib_esm.zt.isProvider(provider)&&logger.throwArgumentError("invalid provider","provider",provider),(0,properties_lib_esm.defineReadOnly)(this,"provider",provider||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(provider){return new Wallet(this,provider)}signTransaction(transaction){return(0,properties_lib_esm.resolveProperties)(transaction).then((tx=>{null!=tx.from&&((0,lib_esm.getAddress)(tx.from)!==this.address&&logger.throwArgumentError("transaction from address mismatch","transaction.from",transaction.from),delete tx.from);const signature=this._signingKey().signDigest((0,keccak256_lib_esm.keccak256)((0,transactions_lib_esm.serialize)(tx)));return(0,transactions_lib_esm.serialize)(tx,signature)}))}signMessage(message){return __awaiter(this,void 0,void 0,(function*(){return(0,bytes_lib_esm.joinSignature)(this._signingKey().signDigest((0,lib_esm_message.r)(message)))}))}_signTypedData(domain,types,value){return __awaiter(this,void 0,void 0,(function*(){const populated=yield typed_data.E.resolveNames(domain,types,value,(name=>(null==this.provider&&logger.throwError("cannot resolve ENS names without a provider",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:name}),this.provider.resolveName(name))));return(0,bytes_lib_esm.joinSignature)(this._signingKey().signDigest(typed_data.E.hash(populated.domain,types,populated.value)))}))}encrypt(password,options,progressCallback){if("function"!=typeof options||progressCallback||(progressCallback=options,options={}),progressCallback&&"function"!=typeof progressCallback)throw new Error("invalid callback");return options||(options={}),(0,keystore.HI)(this,password,options,progressCallback)}static createRandom(options){let entropy=(0,random.O)(16);options||(options={}),options.extraEntropy&&(entropy=(0,bytes_lib_esm.arrayify)((0,bytes_lib_esm.hexDataSlice)((0,keccak256_lib_esm.keccak256)((0,bytes_lib_esm.concat)([entropy,options.extraEntropy])),0,16)));const mnemonic=(0,hdnode_lib_esm.entropyToMnemonic)(entropy,options.locale);return Wallet.fromMnemonic(mnemonic,options.path,options.locale)}static fromEncryptedJson(json,password,progressCallback){return(0,json_wallets_lib_esm.decryptJsonWallet)(json,password,progressCallback).then((account=>new Wallet(account)))}static fromEncryptedJsonSync(json,password){return new Wallet((0,json_wallets_lib_esm.decryptJsonWalletSync)(json,password))}static fromMnemonic(mnemonic,path,wordlist){return path||(path=hdnode_lib_esm.defaultPath),new Wallet(hdnode_lib_esm.HDNode.fromMnemonic(mnemonic,null,wordlist).derivePath(path))}}function verifyMessage(message,signature){return(0,transactions_lib_esm.recoverAddress)((0,lib_esm_message.r)(message),signature)}function verifyTypedData(domain,types,value,signature){return(0,transactions_lib_esm.recoverAddress)(typed_data.E.hash(domain,types,value),signature)}},"./node_modules/@ethersproject/web/lib.esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_fetchData:()=>_fetchData,fetchJson:()=>fetchJson,poll:()=>poll});var base64=__webpack_require__("./node_modules/@ethersproject/base64/lib.esm/base64.js"),lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),properties_lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),utf8=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};function getUrl(href,options){return __awaiter(this,void 0,void 0,(function*(){null==options&&(options={});const request={method:options.method||"GET",headers:options.headers||{},body:options.body||void 0};if(!0!==options.skipFetchSetup&&(request.mode="cors",request.cache="no-cache",request.credentials="same-origin",request.redirect="follow",request.referrer="client"),null!=options.fetchOptions){const opts=options.fetchOptions;opts.mode&&(request.mode=opts.mode),opts.cache&&(request.cache=opts.cache),opts.credentials&&(request.credentials=opts.credentials),opts.redirect&&(request.redirect=opts.redirect),opts.referrer&&(request.referrer=opts.referrer)}const response=yield fetch(href,request),body=yield response.arrayBuffer(),headers={};return response.headers.forEach?response.headers.forEach(((value,key)=>{headers[key.toLowerCase()]=value})):response.headers.keys().forEach((key=>{headers[key.toLowerCase()]=response.headers.get(key)})),{headers,statusCode:response.status,statusMessage:response.statusText,body:(0,lib_esm.arrayify)(new Uint8Array(body))}}))}var lib_esm_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const logger=new logger_lib_esm.Logger("web/5.7.1");function staller(duration){return new Promise((resolve=>{setTimeout(resolve,duration)}))}function bodyify(value,type){if(null==value)return null;if("string"==typeof value)return value;if((0,lib_esm.isBytesLike)(value)){if(type&&("text"===type.split("/")[0]||"application/json"===type.split(";")[0].trim()))try{return(0,utf8.ZN)(value)}catch(error){}return(0,lib_esm.hexlify)(value)}return value}function _fetchData(connection,body,processFunc){const attemptLimit="object"==typeof connection&&null!=connection.throttleLimit?connection.throttleLimit:12;logger.assertArgument(attemptLimit>0&&attemptLimit%1==0,"invalid connection throttle limit","connection.throttleLimit",attemptLimit);const throttleCallback="object"==typeof connection?connection.throttleCallback:null,throttleSlotInterval="object"==typeof connection&&"number"==typeof connection.throttleSlotInterval?connection.throttleSlotInterval:100;logger.assertArgument(throttleSlotInterval>0&&throttleSlotInterval%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",throttleSlotInterval);const errorPassThrough="object"==typeof connection&&!!connection.errorPassThrough,headers={};let url=null;const options={method:"GET"};let allow304=!1,timeout=12e4;if("string"==typeof connection)url=connection;else if("object"==typeof connection){if(null!=connection&&null!=connection.url||logger.throwArgumentError("missing URL","connection.url",connection),url=connection.url,"number"==typeof connection.timeout&&connection.timeout>0&&(timeout=connection.timeout),connection.headers)for(const key in connection.headers)headers[key.toLowerCase()]={key,value:String(connection.headers[key])},["if-none-match","if-modified-since"].indexOf(key.toLowerCase())>=0&&(allow304=!0);if(options.allowGzip=!!connection.allowGzip,null!=connection.user&&null!=connection.password){"https:"!==url.substring(0,6)&&!0!==connection.allowInsecureAuthentication&&logger.throwError("basic authentication requires a secure https url",logger_lib_esm.Logger.errors.INVALID_ARGUMENT,{argument:"url",url,user:connection.user,password:"[REDACTED]"});const authorization=connection.user+":"+connection.password;headers.authorization={key:"Authorization",value:"Basic "+(0,base64.c)((0,utf8.Y0)(authorization))}}null!=connection.skipFetchSetup&&(options.skipFetchSetup=!!connection.skipFetchSetup),null!=connection.fetchOptions&&(options.fetchOptions=(0,properties_lib_esm.shallowCopy)(connection.fetchOptions))}const reData=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),dataMatch=url?url.match(reData):null;if(dataMatch)try{const response={statusCode:200,statusMessage:"OK",headers:{"content-type":dataMatch[1]||"text/plain"},body:dataMatch[2]?(0,base64.J)(dataMatch[3]):(value=dataMatch[3],(0,utf8.Y0)(value.replace(/%([0-9a-f][0-9a-f])/gi,((all,code)=>String.fromCharCode(parseInt(code,16))))))};let result=response.body;return processFunc&&(result=processFunc(response.body,response)),Promise.resolve(result)}catch(error){logger.throwError("processing response error",logger_lib_esm.Logger.errors.SERVER_ERROR,{body:bodyify(dataMatch[1],dataMatch[2]),error,requestBody:null,requestMethod:"GET",url})}var value;body&&(options.method="POST",options.body=body,null==headers["content-type"]&&(headers["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==headers["content-length"]&&(headers["content-length"]={key:"Content-Length",value:String(body.length)}));const flatHeaders={};Object.keys(headers).forEach((key=>{const header=headers[key];flatHeaders[header.key]=header.value})),options.headers=flatHeaders;const runningTimeout=function(){let timer=null;return{promise:new Promise((function(resolve,reject){timeout&&(timer=setTimeout((()=>{null!=timer&&(timer=null,reject(logger.makeError("timeout",logger_lib_esm.Logger.errors.TIMEOUT,{requestBody:bodyify(options.body,flatHeaders["content-type"]),requestMethod:options.method,timeout,url})))}),timeout))})),cancel:function(){null!=timer&&(clearTimeout(timer),timer=null)}}}(),runningFetch=function(){return lib_esm_awaiter(this,void 0,void 0,(function*(){for(let attempt=0;attempt<attemptLimit;attempt++){let response=null;try{if(response=yield getUrl(url,options),attempt<attemptLimit)if(301===response.statusCode||302===response.statusCode){const location=response.headers.location||"";if("GET"===options.method&&location.match(/^https:/)){url=response.headers.location;continue}}else if(429===response.statusCode){let tryAgain=!0;if(throttleCallback&&(tryAgain=yield throttleCallback(attempt,url)),tryAgain){let stall=0;const retryAfter=response.headers["retry-after"];stall="string"==typeof retryAfter&&retryAfter.match(/^[1-9][0-9]*$/)?1e3*parseInt(retryAfter):throttleSlotInterval*parseInt(String(Math.random()*Math.pow(2,attempt))),yield staller(stall);continue}}}catch(error){response=error.response,null==response&&(runningTimeout.cancel(),logger.throwError("missing response",logger_lib_esm.Logger.errors.SERVER_ERROR,{requestBody:bodyify(options.body,flatHeaders["content-type"]),requestMethod:options.method,serverError:error,url}))}let body=response.body;if(allow304&&304===response.statusCode?body=null:!errorPassThrough&&(response.statusCode<200||response.statusCode>=300)&&(runningTimeout.cancel(),logger.throwError("bad response",logger_lib_esm.Logger.errors.SERVER_ERROR,{status:response.statusCode,headers:response.headers,body:bodyify(body,response.headers?response.headers["content-type"]:null),requestBody:bodyify(options.body,flatHeaders["content-type"]),requestMethod:options.method,url})),processFunc)try{const result=yield processFunc(body,response);return runningTimeout.cancel(),result}catch(error){if(error.throttleRetry&&attempt<attemptLimit){let tryAgain=!0;if(throttleCallback&&(tryAgain=yield throttleCallback(attempt,url)),tryAgain){const timeout=throttleSlotInterval*parseInt(String(Math.random()*Math.pow(2,attempt)));yield staller(timeout);continue}}runningTimeout.cancel(),logger.throwError("processing response error",logger_lib_esm.Logger.errors.SERVER_ERROR,{body:bodyify(body,response.headers?response.headers["content-type"]:null),error,requestBody:bodyify(options.body,flatHeaders["content-type"]),requestMethod:options.method,url})}return runningTimeout.cancel(),body}return logger.throwError("failed response",logger_lib_esm.Logger.errors.SERVER_ERROR,{requestBody:bodyify(options.body,flatHeaders["content-type"]),requestMethod:options.method,url})}))}();return Promise.race([runningTimeout.promise,runningFetch])}function fetchJson(connection,json,processFunc){let body=null;if(null!=json){body=(0,utf8.Y0)(json);const updated="string"==typeof connection?{url:connection}:(0,properties_lib_esm.shallowCopy)(connection);if(updated.headers){0!==Object.keys(updated.headers).filter((k=>"content-type"===k.toLowerCase())).length||(updated.headers=(0,properties_lib_esm.shallowCopy)(updated.headers),updated.headers["content-type"]="application/json")}else updated.headers={"content-type":"application/json"};connection=updated}return _fetchData(connection,body,((value,response)=>{let result=null;if(null!=value)try{result=JSON.parse((0,utf8.ZN)(value))}catch(error){logger.throwError("invalid JSON",logger_lib_esm.Logger.errors.SERVER_ERROR,{body:value,error})}return processFunc&&(result=processFunc(result,response)),result}))}function poll(func,options){return options||(options={}),null==(options=(0,properties_lib_esm.shallowCopy)(options)).floor&&(options.floor=0),null==options.ceiling&&(options.ceiling=1e4),null==options.interval&&(options.interval=250),new Promise((function(resolve,reject){let timer=null,done=!1;const cancel=()=>!done&&(done=!0,timer&&clearTimeout(timer),!0);options.timeout&&(timer=setTimeout((()=>{cancel()&&reject(new Error("timeout"))}),options.timeout));const retryLimit=options.retryLimit;let attempt=0;!function check(){return func().then((function(result){if(void 0!==result)cancel()&&resolve(result);else if(options.oncePoll)options.oncePoll.once("poll",check);else if(options.onceBlock)options.onceBlock.once("block",check);else if(!done){if(attempt++,attempt>retryLimit)return void(cancel()&&reject(new Error("retry limit reached")));let timeout=options.interval*parseInt(String(Math.random()*Math.pow(2,attempt)));timeout<options.floor&&(timeout=options.floor),timeout>options.ceiling&&(timeout=options.ceiling),setTimeout(check,timeout)}return null}),(function(error){cancel()&&reject(error)}))}()}))}},"./node_modules/@ethersproject/wordlists/lib.esm/wordlist.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>Wordlist});var id=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/id.js"),lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");const logger=new logger_lib_esm.Logger("wordlists/5.7.0");class Wordlist{constructor(locale){logger.checkAbstract(new.target,Wordlist),(0,lib_esm.defineReadOnly)(this,"locale",locale)}split(mnemonic){return mnemonic.toLowerCase().split(/ +/g)}join(words){return words.join(" ")}static check(wordlist){const words=[];for(let i=0;i<2048;i++){const word=wordlist.getWord(i);if(i!==wordlist.getWordIndex(word))return"0x";words.push(word)}return(0,id.id)(words.join("\n")+"\n")}static register(lang,name){name||(name=lang.locale)}}},"./node_modules/@ethersproject/wordlists/lib.esm/wordlists.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>wordlists});var wordlist=__webpack_require__("./node_modules/@ethersproject/wordlists/lib.esm/wordlist.js");let lang_en_wordlist=null;function loadWords(lang){if(null==lang_en_wordlist&&(lang_en_wordlist="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==wordlist.D.check(lang)))throw lang_en_wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends wordlist.D{constructor(){super("en")}getWord(index){return loadWords(this),lang_en_wordlist[index]}getWordIndex(word){return loadWords(this),lang_en_wordlist.indexOf(word)}}const langEn=new LangEn;wordlist.D.register(langEn);const wordlists={en:langEn}},"./node_modules/@stablelib/binary/lib/binary.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var int_1=__webpack_require__("./node_modules/@stablelib/int/lib/int.js");function writeUint16BE(value,out,offset){return void 0===out&&(out=new Uint8Array(2)),void 0===offset&&(offset=0),out[offset+0]=value>>>8,out[offset+1]=value>>>0,out}function writeUint16LE(value,out,offset){return void 0===out&&(out=new Uint8Array(2)),void 0===offset&&(offset=0),out[offset+0]=value>>>0,out[offset+1]=value>>>8,out}function readInt32BE(array,offset){return void 0===offset&&(offset=0),array[offset]<<24|array[offset+1]<<16|array[offset+2]<<8|array[offset+3]}function readUint32BE(array,offset){return void 0===offset&&(offset=0),(array[offset]<<24|array[offset+1]<<16|array[offset+2]<<8|array[offset+3])>>>0}function readInt32LE(array,offset){return void 0===offset&&(offset=0),array[offset+3]<<24|array[offset+2]<<16|array[offset+1]<<8|array[offset]}function readUint32LE(array,offset){return void 0===offset&&(offset=0),(array[offset+3]<<24|array[offset+2]<<16|array[offset+1]<<8|array[offset])>>>0}function writeUint32BE(value,out,offset){return void 0===out&&(out=new Uint8Array(4)),void 0===offset&&(offset=0),out[offset+0]=value>>>24,out[offset+1]=value>>>16,out[offset+2]=value>>>8,out[offset+3]=value>>>0,out}function writeUint32LE(value,out,offset){return void 0===out&&(out=new Uint8Array(4)),void 0===offset&&(offset=0),out[offset+0]=value>>>0,out[offset+1]=value>>>8,out[offset+2]=value>>>16,out[offset+3]=value>>>24,out}function writeUint64BE(value,out,offset){return void 0===out&&(out=new Uint8Array(8)),void 0===offset&&(offset=0),writeUint32BE(value/4294967296>>>0,out,offset),writeUint32BE(value>>>0,out,offset+4),out}function writeUint64LE(value,out,offset){return void 0===out&&(out=new Uint8Array(8)),void 0===offset&&(offset=0),writeUint32LE(value>>>0,out,offset),writeUint32LE(value/4294967296>>>0,out,offset+4),out}exports.readInt16BE=function readInt16BE(array,offset){return void 0===offset&&(offset=0),(array[offset+0]<<8|array[offset+1])<<16>>16},exports.readUint16BE=function readUint16BE(array,offset){return void 0===offset&&(offset=0),(array[offset+0]<<8|array[offset+1])>>>0},exports.readInt16LE=function readInt16LE(array,offset){return void 0===offset&&(offset=0),(array[offset+1]<<8|array[offset])<<16>>16},exports.readUint16LE=function readUint16LE(array,offset){return void 0===offset&&(offset=0),(array[offset+1]<<8|array[offset])>>>0},exports.writeUint16BE=writeUint16BE,exports.writeInt16BE=writeUint16BE,exports.writeUint16LE=writeUint16LE,exports.writeInt16LE=writeUint16LE,exports.readInt32BE=readInt32BE,exports.readUint32BE=readUint32BE,exports.readInt32LE=readInt32LE,exports.readUint32LE=readUint32LE,exports.writeUint32BE=writeUint32BE,exports.writeInt32BE=writeUint32BE,exports.writeUint32LE=writeUint32LE,exports.writeInt32LE=writeUint32LE,exports.readInt64BE=function readInt64BE(array,offset){void 0===offset&&(offset=0);var hi=readInt32BE(array,offset),lo=readInt32BE(array,offset+4);return 4294967296*hi+lo-4294967296*(lo>>31)},exports.readUint64BE=function readUint64BE(array,offset){return void 0===offset&&(offset=0),4294967296*readUint32BE(array,offset)+readUint32BE(array,offset+4)},exports.readInt64LE=function readInt64LE(array,offset){void 0===offset&&(offset=0);var lo=readInt32LE(array,offset);return 4294967296*readInt32LE(array,offset+4)+lo-4294967296*(lo>>31)},exports.readUint64LE=function readUint64LE(array,offset){void 0===offset&&(offset=0);var lo=readUint32LE(array,offset);return 4294967296*readUint32LE(array,offset+4)+lo},exports.writeUint64BE=writeUint64BE,exports.writeInt64BE=writeUint64BE,exports.writeUint64LE=writeUint64LE,exports.writeInt64LE=writeUint64LE,exports.readUintBE=function readUintBE(bitLength,array,offset){if(void 0===offset&&(offset=0),bitLength%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(bitLength/8>array.length-offset)throw new Error("readUintBE: array is too short for the given bitLength");for(var result=0,mul=1,i=bitLength/8+offset-1;i>=offset;i--)result+=array[i]*mul,mul*=256;return result},exports.readUintLE=function readUintLE(bitLength,array,offset){if(void 0===offset&&(offset=0),bitLength%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(bitLength/8>array.length-offset)throw new Error("readUintLE: array is too short for the given bitLength");for(var result=0,mul=1,i=offset;i<offset+bitLength/8;i++)result+=array[i]*mul,mul*=256;return result},exports.writeUintBE=function writeUintBE(bitLength,value,out,offset){if(void 0===out&&(out=new Uint8Array(bitLength/8)),void 0===offset&&(offset=0),bitLength%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(value))throw new Error("writeUintBE value must be an integer");for(var div=1,i=bitLength/8+offset-1;i>=offset;i--)out[i]=value/div&255,div*=256;return out},exports.writeUintLE=function writeUintLE(bitLength,value,out,offset){if(void 0===out&&(out=new Uint8Array(bitLength/8)),void 0===offset&&(offset=0),bitLength%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(value))throw new Error("writeUintLE value must be an integer");for(var div=1,i=offset;i<offset+bitLength/8;i++)out[i]=value/div&255,div*=256;return out},exports.readFloat32BE=function readFloat32BE(array,offset){return void 0===offset&&(offset=0),new DataView(array.buffer,array.byteOffset,array.byteLength).getFloat32(offset)},exports.readFloat32LE=function readFloat32LE(array,offset){return void 0===offset&&(offset=0),new DataView(array.buffer,array.byteOffset,array.byteLength).getFloat32(offset,!0)},exports.readFloat64BE=function readFloat64BE(array,offset){return void 0===offset&&(offset=0),new DataView(array.buffer,array.byteOffset,array.byteLength).getFloat64(offset)},exports.readFloat64LE=function readFloat64LE(array,offset){return void 0===offset&&(offset=0),new DataView(array.buffer,array.byteOffset,array.byteLength).getFloat64(offset,!0)},exports.writeFloat32BE=function writeFloat32BE(value,out,offset){return void 0===out&&(out=new Uint8Array(4)),void 0===offset&&(offset=0),new DataView(out.buffer,out.byteOffset,out.byteLength).setFloat32(offset,value),out},exports.writeFloat32LE=function writeFloat32LE(value,out,offset){return void 0===out&&(out=new Uint8Array(4)),void 0===offset&&(offset=0),new DataView(out.buffer,out.byteOffset,out.byteLength).setFloat32(offset,value,!0),out},exports.writeFloat64BE=function writeFloat64BE(value,out,offset){return void 0===out&&(out=new Uint8Array(8)),void 0===offset&&(offset=0),new DataView(out.buffer,out.byteOffset,out.byteLength).setFloat64(offset,value),out},exports.writeFloat64LE=function writeFloat64LE(value,out,offset){return void 0===out&&(out=new Uint8Array(8)),void 0===offset&&(offset=0),new DataView(out.buffer,out.byteOffset,out.byteLength).setFloat64(offset,value,!0),out}},"./node_modules/@stablelib/chacha/lib/chacha.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var binary_1=__webpack_require__("./node_modules/@stablelib/binary/lib/binary.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js"),ROUNDS=20;function core(out,input,key){for(var j0=1634760805,j1=857760878,j2=2036477234,j3=1797285236,j4=key[3]<<24|key[2]<<16|key[1]<<8|key[0],j5=key[7]<<24|key[6]<<16|key[5]<<8|key[4],j6=key[11]<<24|key[10]<<16|key[9]<<8|key[8],j7=key[15]<<24|key[14]<<16|key[13]<<8|key[12],j8=key[19]<<24|key[18]<<16|key[17]<<8|key[16],j9=key[23]<<24|key[22]<<16|key[21]<<8|key[20],j10=key[27]<<24|key[26]<<16|key[25]<<8|key[24],j11=key[31]<<24|key[30]<<16|key[29]<<8|key[28],j12=input[3]<<24|input[2]<<16|input[1]<<8|input[0],j13=input[7]<<24|input[6]<<16|input[5]<<8|input[4],j14=input[11]<<24|input[10]<<16|input[9]<<8|input[8],j15=input[15]<<24|input[14]<<16|input[13]<<8|input[12],x0=j0,x1=j1,x2=j2,x3=j3,x4=j4,x5=j5,x6=j6,x7=j7,x8=j8,x9=j9,x10=j10,x11=j11,x12=j12,x13=j13,x14=j14,x15=j15,i=0;i<ROUNDS;i+=2)x4=(x4^=x8=x8+(x12=(x12^=x0=x0+x4|0)>>>16|x12<<16)|0)>>>20|x4<<12,x5=(x5^=x9=x9+(x13=(x13^=x1=x1+x5|0)>>>16|x13<<16)|0)>>>20|x5<<12,x6=(x6^=x10=x10+(x14=(x14^=x2=x2+x6|0)>>>16|x14<<16)|0)>>>20|x6<<12,x7=(x7^=x11=x11+(x15=(x15^=x3=x3+x7|0)>>>16|x15<<16)|0)>>>20|x7<<12,x6=(x6^=x10=x10+(x14=(x14^=x2=x2+x6|0)>>>24|x14<<8)|0)>>>25|x6<<7,x7=(x7^=x11=x11+(x15=(x15^=x3=x3+x7|0)>>>24|x15<<8)|0)>>>25|x7<<7,x5=(x5^=x9=x9+(x13=(x13^=x1=x1+x5|0)>>>24|x13<<8)|0)>>>25|x5<<7,x4=(x4^=x8=x8+(x12=(x12^=x0=x0+x4|0)>>>24|x12<<8)|0)>>>25|x4<<7,x5=(x5^=x10=x10+(x15=(x15^=x0=x0+x5|0)>>>16|x15<<16)|0)>>>20|x5<<12,x6=(x6^=x11=x11+(x12=(x12^=x1=x1+x6|0)>>>16|x12<<16)|0)>>>20|x6<<12,x7=(x7^=x8=x8+(x13=(x13^=x2=x2+x7|0)>>>16|x13<<16)|0)>>>20|x7<<12,x4=(x4^=x9=x9+(x14=(x14^=x3=x3+x4|0)>>>16|x14<<16)|0)>>>20|x4<<12,x7=(x7^=x8=x8+(x13=(x13^=x2=x2+x7|0)>>>24|x13<<8)|0)>>>25|x7<<7,x4=(x4^=x9=x9+(x14=(x14^=x3=x3+x4|0)>>>24|x14<<8)|0)>>>25|x4<<7,x6=(x6^=x11=x11+(x12=(x12^=x1=x1+x6|0)>>>24|x12<<8)|0)>>>25|x6<<7,x5=(x5^=x10=x10+(x15=(x15^=x0=x0+x5|0)>>>24|x15<<8)|0)>>>25|x5<<7;binary_1.writeUint32LE(x0+j0|0,out,0),binary_1.writeUint32LE(x1+j1|0,out,4),binary_1.writeUint32LE(x2+j2|0,out,8),binary_1.writeUint32LE(x3+j3|0,out,12),binary_1.writeUint32LE(x4+j4|0,out,16),binary_1.writeUint32LE(x5+j5|0,out,20),binary_1.writeUint32LE(x6+j6|0,out,24),binary_1.writeUint32LE(x7+j7|0,out,28),binary_1.writeUint32LE(x8+j8|0,out,32),binary_1.writeUint32LE(x9+j9|0,out,36),binary_1.writeUint32LE(x10+j10|0,out,40),binary_1.writeUint32LE(x11+j11|0,out,44),binary_1.writeUint32LE(x12+j12|0,out,48),binary_1.writeUint32LE(x13+j13|0,out,52),binary_1.writeUint32LE(x14+j14|0,out,56),binary_1.writeUint32LE(x15+j15|0,out,60)}function streamXOR(key,nonce,src,dst,nonceInplaceCounterLength){if(void 0===nonceInplaceCounterLength&&(nonceInplaceCounterLength=0),32!==key.length)throw new Error("ChaCha: key size must be 32 bytes");if(dst.length<src.length)throw new Error("ChaCha: destination is shorter than source");var nc,counterLength;if(0===nonceInplaceCounterLength){if(8!==nonce.length&&12!==nonce.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");counterLength=(nc=new Uint8Array(16)).length-nonce.length,nc.set(nonce,counterLength)}else{if(16!==nonce.length)throw new Error("ChaCha nonce with counter must be 16 bytes");nc=nonce,counterLength=nonceInplaceCounterLength}for(var block=new Uint8Array(64),i=0;i<src.length;i+=64){core(block,nc,key);for(var j=i;j<i+64&&j<src.length;j++)dst[j]=src[j]^block[j-i];incrementCounter(nc,0,counterLength)}return wipe_1.wipe(block),0===nonceInplaceCounterLength&&wipe_1.wipe(nc),dst}function incrementCounter(counter,pos,len){for(var carry=1;len--;)carry=carry+(255&counter[pos])|0,counter[pos]=255&carry,carry>>>=8,pos++;if(carry>0)throw new Error("ChaCha: counter overflow")}exports.streamXOR=streamXOR,exports.stream=function stream(key,nonce,dst,nonceInplaceCounterLength){return void 0===nonceInplaceCounterLength&&(nonceInplaceCounterLength=0),wipe_1.wipe(dst),streamXOR(key,nonce,dst,dst,nonceInplaceCounterLength)}},"./node_modules/@stablelib/chacha20poly1305/lib/chacha20poly1305.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var chacha_1=__webpack_require__("./node_modules/@stablelib/chacha/lib/chacha.js"),poly1305_1=__webpack_require__("./node_modules/@stablelib/poly1305/lib/poly1305.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js"),binary_1=__webpack_require__("./node_modules/@stablelib/binary/lib/binary.js"),constant_time_1=__webpack_require__("./node_modules/@stablelib/constant-time/lib/constant-time.js");exports.Cv=32,exports.WH=12,exports.pg=16;var ZEROS=new Uint8Array(16),ChaCha20Poly1305=function(){function ChaCha20Poly1305(key){if(this.nonceLength=exports.WH,this.tagLength=exports.pg,key.length!==exports.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(key)}return ChaCha20Poly1305.prototype.seal=function(nonce,plaintext,associatedData,dst){if(nonce.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var counter=new Uint8Array(16);counter.set(nonce,counter.length-nonce.length);var authKey=new Uint8Array(32);chacha_1.stream(this._key,counter,authKey,4);var result,resultLength=plaintext.length+this.tagLength;if(dst){if(dst.length!==resultLength)throw new Error("ChaCha20Poly1305: incorrect destination length");result=dst}else result=new Uint8Array(resultLength);return chacha_1.streamXOR(this._key,counter,plaintext,result,4),this._authenticate(result.subarray(result.length-this.tagLength,result.length),authKey,result.subarray(0,result.length-this.tagLength),associatedData),wipe_1.wipe(counter),result},ChaCha20Poly1305.prototype.open=function(nonce,sealed,associatedData,dst){if(nonce.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(sealed.length<this.tagLength)return null;var counter=new Uint8Array(16);counter.set(nonce,counter.length-nonce.length);var authKey=new Uint8Array(32);chacha_1.stream(this._key,counter,authKey,4);var calculatedTag=new Uint8Array(this.tagLength);if(this._authenticate(calculatedTag,authKey,sealed.subarray(0,sealed.length-this.tagLength),associatedData),!constant_time_1.equal(calculatedTag,sealed.subarray(sealed.length-this.tagLength,sealed.length)))return null;var result,resultLength=sealed.length-this.tagLength;if(dst){if(dst.length!==resultLength)throw new Error("ChaCha20Poly1305: incorrect destination length");result=dst}else result=new Uint8Array(resultLength);return chacha_1.streamXOR(this._key,counter,sealed.subarray(0,sealed.length-this.tagLength),result,4),wipe_1.wipe(counter),result},ChaCha20Poly1305.prototype.clean=function(){return wipe_1.wipe(this._key),this},ChaCha20Poly1305.prototype._authenticate=function(tagOut,authKey,ciphertext,associatedData){var h=new poly1305_1.Poly1305(authKey);associatedData&&(h.update(associatedData),associatedData.length%16>0&&h.update(ZEROS.subarray(associatedData.length%16))),h.update(ciphertext),ciphertext.length%16>0&&h.update(ZEROS.subarray(ciphertext.length%16));var length=new Uint8Array(8);associatedData&&binary_1.writeUint64LE(associatedData.length,length),h.update(length),binary_1.writeUint64LE(ciphertext.length,length),h.update(length);for(var tag=h.digest(),i=0;i<tag.length;i++)tagOut[i]=tag[i];h.clean(),wipe_1.wipe(tag),wipe_1.wipe(length)},ChaCha20Poly1305}();exports.OK=ChaCha20Poly1305},"./node_modules/@stablelib/constant-time/lib/constant-time.js":(__unused_webpack_module,exports)=>{"use strict";function compare(a,b){if(a.length!==b.length)return 0;for(var result=0,i=0;i<a.length;i++)result|=a[i]^b[i];return 1&result-1>>>8}Object.defineProperty(exports,"__esModule",{value:!0}),exports.select=function select(subject,resultIfOne,resultIfZero){return~(subject-1)&resultIfOne|subject-1&resultIfZero},exports.lessOrEqual=function lessOrEqual(a,b){return(0|a)-(0|b)-1>>>31&1},exports.compare=compare,exports.equal=function equal(a,b){return 0!==a.length&&0!==b.length&&0!==compare(a,b)}},"./node_modules/@stablelib/ed25519/lib/ed25519.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.Xx=exports._w=exports.aP=exports.KS=exports.jQ=void 0;const random_1=__webpack_require__("./node_modules/@stablelib/random/lib/random.js"),sha512_1=__webpack_require__("./node_modules/@stablelib/sha512/lib/sha512.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js");function gf(init){const r=new Float64Array(16);if(init)for(let i=0;i<init.length;i++)r[i]=init[i];return r}exports.jQ=64,exports.KS=64,exports.aP=32;new Uint8Array(32)[0]=9;const gf0=gf(),gf1=gf([1]),D=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D2=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),X=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Y=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function set25519(r,a){for(let i=0;i<16;i++)r[i]=0|a[i]}function car25519(o){let c=1;for(let i=0;i<16;i++){let v=o[i]+c+65535;c=Math.floor(v/65536),o[i]=v-65536*c}o[0]+=c-1+37*(c-1)}function sel25519(p,q,b){const c=~(b-1);for(let i=0;i<16;i++){const t=c&(p[i]^q[i]);p[i]^=t,q[i]^=t}}function pack25519(o,n){const m=gf(),t=gf();for(let i=0;i<16;i++)t[i]=n[i];car25519(t),car25519(t),car25519(t);for(let j=0;j<2;j++){m[0]=t[0]-65517;for(let i=1;i<15;i++)m[i]=t[i]-65535-(m[i-1]>>16&1),m[i-1]&=65535;m[15]=t[15]-32767-(m[14]>>16&1);const b=m[15]>>16&1;m[14]&=65535,sel25519(t,m,1-b)}for(let i=0;i<16;i++)o[2*i]=255&t[i],o[2*i+1]=t[i]>>8}function verify32(x,y){let d=0;for(let i=0;i<32;i++)d|=x[i]^y[i];return(1&d-1>>>8)-1}function neq25519(a,b){const c=new Uint8Array(32),d=new Uint8Array(32);return pack25519(c,a),pack25519(d,b),verify32(c,d)}function par25519(a){const d=new Uint8Array(32);return pack25519(d,a),1&d[0]}function add(o,a,b){for(let i=0;i<16;i++)o[i]=a[i]+b[i]}function sub(o,a,b){for(let i=0;i<16;i++)o[i]=a[i]-b[i]}function mul(o,a,b){let v,c,t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0,t8=0,t9=0,t10=0,t11=0,t12=0,t13=0,t14=0,t15=0,t16=0,t17=0,t18=0,t19=0,t20=0,t21=0,t22=0,t23=0,t24=0,t25=0,t26=0,t27=0,t28=0,t29=0,t30=0,b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];v=a[0],t0+=v*b0,t1+=v*b1,t2+=v*b2,t3+=v*b3,t4+=v*b4,t5+=v*b5,t6+=v*b6,t7+=v*b7,t8+=v*b8,t9+=v*b9,t10+=v*b10,t11+=v*b11,t12+=v*b12,t13+=v*b13,t14+=v*b14,t15+=v*b15,v=a[1],t1+=v*b0,t2+=v*b1,t3+=v*b2,t4+=v*b3,t5+=v*b4,t6+=v*b5,t7+=v*b6,t8+=v*b7,t9+=v*b8,t10+=v*b9,t11+=v*b10,t12+=v*b11,t13+=v*b12,t14+=v*b13,t15+=v*b14,t16+=v*b15,v=a[2],t2+=v*b0,t3+=v*b1,t4+=v*b2,t5+=v*b3,t6+=v*b4,t7+=v*b5,t8+=v*b6,t9+=v*b7,t10+=v*b8,t11+=v*b9,t12+=v*b10,t13+=v*b11,t14+=v*b12,t15+=v*b13,t16+=v*b14,t17+=v*b15,v=a[3],t3+=v*b0,t4+=v*b1,t5+=v*b2,t6+=v*b3,t7+=v*b4,t8+=v*b5,t9+=v*b6,t10+=v*b7,t11+=v*b8,t12+=v*b9,t13+=v*b10,t14+=v*b11,t15+=v*b12,t16+=v*b13,t17+=v*b14,t18+=v*b15,v=a[4],t4+=v*b0,t5+=v*b1,t6+=v*b2,t7+=v*b3,t8+=v*b4,t9+=v*b5,t10+=v*b6,t11+=v*b7,t12+=v*b8,t13+=v*b9,t14+=v*b10,t15+=v*b11,t16+=v*b12,t17+=v*b13,t18+=v*b14,t19+=v*b15,v=a[5],t5+=v*b0,t6+=v*b1,t7+=v*b2,t8+=v*b3,t9+=v*b4,t10+=v*b5,t11+=v*b6,t12+=v*b7,t13+=v*b8,t14+=v*b9,t15+=v*b10,t16+=v*b11,t17+=v*b12,t18+=v*b13,t19+=v*b14,t20+=v*b15,v=a[6],t6+=v*b0,t7+=v*b1,t8+=v*b2,t9+=v*b3,t10+=v*b4,t11+=v*b5,t12+=v*b6,t13+=v*b7,t14+=v*b8,t15+=v*b9,t16+=v*b10,t17+=v*b11,t18+=v*b12,t19+=v*b13,t20+=v*b14,t21+=v*b15,v=a[7],t7+=v*b0,t8+=v*b1,t9+=v*b2,t10+=v*b3,t11+=v*b4,t12+=v*b5,t13+=v*b6,t14+=v*b7,t15+=v*b8,t16+=v*b9,t17+=v*b10,t18+=v*b11,t19+=v*b12,t20+=v*b13,t21+=v*b14,t22+=v*b15,v=a[8],t8+=v*b0,t9+=v*b1,t10+=v*b2,t11+=v*b3,t12+=v*b4,t13+=v*b5,t14+=v*b6,t15+=v*b7,t16+=v*b8,t17+=v*b9,t18+=v*b10,t19+=v*b11,t20+=v*b12,t21+=v*b13,t22+=v*b14,t23+=v*b15,v=a[9],t9+=v*b0,t10+=v*b1,t11+=v*b2,t12+=v*b3,t13+=v*b4,t14+=v*b5,t15+=v*b6,t16+=v*b7,t17+=v*b8,t18+=v*b9,t19+=v*b10,t20+=v*b11,t21+=v*b12,t22+=v*b13,t23+=v*b14,t24+=v*b15,v=a[10],t10+=v*b0,t11+=v*b1,t12+=v*b2,t13+=v*b3,t14+=v*b4,t15+=v*b5,t16+=v*b6,t17+=v*b7,t18+=v*b8,t19+=v*b9,t20+=v*b10,t21+=v*b11,t22+=v*b12,t23+=v*b13,t24+=v*b14,t25+=v*b15,v=a[11],t11+=v*b0,t12+=v*b1,t13+=v*b2,t14+=v*b3,t15+=v*b4,t16+=v*b5,t17+=v*b6,t18+=v*b7,t19+=v*b8,t20+=v*b9,t21+=v*b10,t22+=v*b11,t23+=v*b12,t24+=v*b13,t25+=v*b14,t26+=v*b15,v=a[12],t12+=v*b0,t13+=v*b1,t14+=v*b2,t15+=v*b3,t16+=v*b4,t17+=v*b5,t18+=v*b6,t19+=v*b7,t20+=v*b8,t21+=v*b9,t22+=v*b10,t23+=v*b11,t24+=v*b12,t25+=v*b13,t26+=v*b14,t27+=v*b15,v=a[13],t13+=v*b0,t14+=v*b1,t15+=v*b2,t16+=v*b3,t17+=v*b4,t18+=v*b5,t19+=v*b6,t20+=v*b7,t21+=v*b8,t22+=v*b9,t23+=v*b10,t24+=v*b11,t25+=v*b12,t26+=v*b13,t27+=v*b14,t28+=v*b15,v=a[14],t14+=v*b0,t15+=v*b1,t16+=v*b2,t17+=v*b3,t18+=v*b4,t19+=v*b5,t20+=v*b6,t21+=v*b7,t22+=v*b8,t23+=v*b9,t24+=v*b10,t25+=v*b11,t26+=v*b12,t27+=v*b13,t28+=v*b14,t29+=v*b15,v=a[15],t15+=v*b0,t16+=v*b1,t17+=v*b2,t18+=v*b3,t19+=v*b4,t20+=v*b5,t21+=v*b6,t22+=v*b7,t23+=v*b8,t24+=v*b9,t25+=v*b10,t26+=v*b11,t27+=v*b12,t28+=v*b13,t29+=v*b14,t30+=v*b15,t0+=38*t16,t1+=38*t17,t2+=38*t18,t3+=38*t19,t4+=38*t20,t5+=38*t21,t6+=38*t22,t7+=38*t23,t8+=38*t24,t9+=38*t25,t10+=38*t26,t11+=38*t27,t12+=38*t28,t13+=38*t29,t14+=38*t30,c=1,v=t0+c+65535,c=Math.floor(v/65536),t0=v-65536*c,v=t1+c+65535,c=Math.floor(v/65536),t1=v-65536*c,v=t2+c+65535,c=Math.floor(v/65536),t2=v-65536*c,v=t3+c+65535,c=Math.floor(v/65536),t3=v-65536*c,v=t4+c+65535,c=Math.floor(v/65536),t4=v-65536*c,v=t5+c+65535,c=Math.floor(v/65536),t5=v-65536*c,v=t6+c+65535,c=Math.floor(v/65536),t6=v-65536*c,v=t7+c+65535,c=Math.floor(v/65536),t7=v-65536*c,v=t8+c+65535,c=Math.floor(v/65536),t8=v-65536*c,v=t9+c+65535,c=Math.floor(v/65536),t9=v-65536*c,v=t10+c+65535,c=Math.floor(v/65536),t10=v-65536*c,v=t11+c+65535,c=Math.floor(v/65536),t11=v-65536*c,v=t12+c+65535,c=Math.floor(v/65536),t12=v-65536*c,v=t13+c+65535,c=Math.floor(v/65536),t13=v-65536*c,v=t14+c+65535,c=Math.floor(v/65536),t14=v-65536*c,v=t15+c+65535,c=Math.floor(v/65536),t15=v-65536*c,t0+=c-1+37*(c-1),c=1,v=t0+c+65535,c=Math.floor(v/65536),t0=v-65536*c,v=t1+c+65535,c=Math.floor(v/65536),t1=v-65536*c,v=t2+c+65535,c=Math.floor(v/65536),t2=v-65536*c,v=t3+c+65535,c=Math.floor(v/65536),t3=v-65536*c,v=t4+c+65535,c=Math.floor(v/65536),t4=v-65536*c,v=t5+c+65535,c=Math.floor(v/65536),t5=v-65536*c,v=t6+c+65535,c=Math.floor(v/65536),t6=v-65536*c,v=t7+c+65535,c=Math.floor(v/65536),t7=v-65536*c,v=t8+c+65535,c=Math.floor(v/65536),t8=v-65536*c,v=t9+c+65535,c=Math.floor(v/65536),t9=v-65536*c,v=t10+c+65535,c=Math.floor(v/65536),t10=v-65536*c,v=t11+c+65535,c=Math.floor(v/65536),t11=v-65536*c,v=t12+c+65535,c=Math.floor(v/65536),t12=v-65536*c,v=t13+c+65535,c=Math.floor(v/65536),t13=v-65536*c,v=t14+c+65535,c=Math.floor(v/65536),t14=v-65536*c,v=t15+c+65535,c=Math.floor(v/65536),t15=v-65536*c,t0+=c-1+37*(c-1),o[0]=t0,o[1]=t1,o[2]=t2,o[3]=t3,o[4]=t4,o[5]=t5,o[6]=t6,o[7]=t7,o[8]=t8,o[9]=t9,o[10]=t10,o[11]=t11,o[12]=t12,o[13]=t13,o[14]=t14,o[15]=t15}function square(o,a){mul(o,a,a)}function inv25519(o,i){const c=gf();let a;for(a=0;a<16;a++)c[a]=i[a];for(a=253;a>=0;a--)square(c,c),2!==a&&4!==a&&mul(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}function edadd(p,q){const a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf(),g=gf(),h=gf(),t=gf();sub(a,p[1],p[0]),sub(t,q[1],q[0]),mul(a,a,t),add(b,p[0],p[1]),add(t,q[0],q[1]),mul(b,b,t),mul(c,p[3],q[3]),mul(c,c,D2),mul(d,p[2],q[2]),add(d,d,d),sub(e,b,a),sub(f,d,c),add(g,d,c),add(h,b,a),mul(p[0],e,f),mul(p[1],h,g),mul(p[2],g,f),mul(p[3],e,h)}function cswap(p,q,b){for(let i=0;i<4;i++)sel25519(p[i],q[i],b)}function pack(r,p){const tx=gf(),ty=gf(),zi=gf();inv25519(zi,p[2]),mul(tx,p[0],zi),mul(ty,p[1],zi),pack25519(r,ty),r[31]^=par25519(tx)<<7}function scalarmult(p,q,s){set25519(p[0],gf0),set25519(p[1],gf1),set25519(p[2],gf1),set25519(p[3],gf0);for(let i=255;i>=0;--i){const b=s[i/8|0]>>(7&i)&1;cswap(p,q,b),edadd(q,p),edadd(p,p),cswap(p,q,b)}}function scalarbase(p,s){const q=[gf(),gf(),gf(),gf()];set25519(q[0],X),set25519(q[1],Y),set25519(q[2],gf1),mul(q[3],X,Y),scalarmult(p,q,s)}function generateKeyPairFromSeed(seed){if(seed.length!==exports.aP)throw new Error(`ed25519: seed must be ${exports.aP} bytes`);const d=(0,sha512_1.hash)(seed);d[0]&=248,d[31]&=127,d[31]|=64;const publicKey=new Uint8Array(32),p=[gf(),gf(),gf(),gf()];scalarbase(p,d),pack(publicKey,p);const secretKey=new Uint8Array(64);return secretKey.set(seed),secretKey.set(publicKey,32),{publicKey,secretKey}}exports._w=generateKeyPairFromSeed;const L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(r,x){let carry,i,j,k;for(i=63;i>=32;--i){for(carry=0,j=i-32,k=i-12;j<k;++j)x[j]+=carry-16*x[i]*L[j-(i-32)],carry=Math.floor((x[j]+128)/256),x[j]-=256*carry;x[j]+=carry,x[i]=0}for(carry=0,j=0;j<32;j++)x[j]+=carry-(x[31]>>4)*L[j],carry=x[j]>>8,x[j]&=255;for(j=0;j<32;j++)x[j]-=carry*L[j];for(i=0;i<32;i++)x[i+1]+=x[i]>>8,r[i]=255&x[i]}function reduce(r){const x=new Float64Array(64);for(let i=0;i<64;i++)x[i]=r[i];for(let i=0;i<64;i++)r[i]=0;modL(r,x)}function unpackneg(r,p){const t=gf(),chk=gf(),num=gf(),den=gf(),den2=gf(),den4=gf(),den6=gf();return set25519(r[2],gf1),function unpack25519(o,n){for(let i=0;i<16;i++)o[i]=n[2*i]+(n[2*i+1]<<8);o[15]&=32767}(r[1],p),square(num,r[1]),mul(den,num,D),sub(num,num,r[2]),add(den,r[2],den),square(den2,den),square(den4,den2),mul(den6,den4,den2),mul(t,den6,num),mul(t,t,den),function pow2523(o,i){const c=gf();let a;for(a=0;a<16;a++)c[a]=i[a];for(a=250;a>=0;a--)square(c,c),1!==a&&mul(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}(t,t),mul(t,t,num),mul(t,t,den),mul(t,t,den),mul(r[0],t,den),square(chk,r[0]),mul(chk,chk,den),neq25519(chk,num)&&mul(r[0],r[0],I),square(chk,r[0]),mul(chk,chk,den),neq25519(chk,num)?-1:(par25519(r[0])===p[31]>>7&&sub(r[0],gf0,r[0]),mul(r[3],r[0],r[1]),0)}exports.Xx=function sign(secretKey,message){const x=new Float64Array(64),p=[gf(),gf(),gf(),gf()],d=(0,sha512_1.hash)(secretKey.subarray(0,32));d[0]&=248,d[31]&=127,d[31]|=64;const signature=new Uint8Array(64);signature.set(d.subarray(32),32);const hs=new sha512_1.SHA512;hs.update(signature.subarray(32)),hs.update(message);const r=hs.digest();hs.clean(),reduce(r),scalarbase(p,r),pack(signature,p),hs.reset(),hs.update(signature.subarray(0,32)),hs.update(secretKey.subarray(32)),hs.update(message);const h=hs.digest();reduce(h);for(let i=0;i<32;i++)x[i]=r[i];for(let i=0;i<32;i++)for(let j=0;j<32;j++)x[i+j]+=h[i]*d[j];return modL(signature.subarray(32),x),signature}},"./node_modules/@stablelib/hash/lib/hash.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSerializableHash=function isSerializableHash(h){return void 0!==h.saveState&&void 0!==h.restoreState&&void 0!==h.cleanSavedState}},"./node_modules/@stablelib/hkdf/lib/hkdf.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var hmac_1=__webpack_require__("./node_modules/@stablelib/hmac/lib/hmac.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js"),HKDF=function(){function HKDF(hash,key,salt,info){void 0===salt&&(salt=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=hash,this._info=info;var okm=hmac_1.hmac(this._hash,salt,key);this._hmac=new hmac_1.HMAC(hash,okm),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return HKDF.prototype._fillBuffer=function(){this._counter[0]++;var ctr=this._counter[0];if(0===ctr)throw new Error("hkdf: cannot expand more");this._hmac.reset(),ctr>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},HKDF.prototype.expand=function(length){for(var out=new Uint8Array(length),i=0;i<out.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),out[i]=this._buffer[this._bufpos++];return out},HKDF.prototype.clean=function(){this._hmac.clean(),wipe_1.wipe(this._buffer),wipe_1.wipe(this._counter),this._bufpos=0},HKDF}();exports.t=HKDF},"./node_modules/@stablelib/hmac/lib/hmac.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var hash_1=__webpack_require__("./node_modules/@stablelib/hash/lib/hash.js"),constant_time_1=__webpack_require__("./node_modules/@stablelib/constant-time/lib/constant-time.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js"),HMAC=function(){function HMAC(hash,key){this._finished=!1,this._inner=new hash,this._outer=new hash,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var pad=new Uint8Array(this.blockSize);key.length>this.blockSize?this._inner.update(key).finish(pad).clean():pad.set(key);for(var i=0;i<pad.length;i++)pad[i]^=54;this._inner.update(pad);for(i=0;i<pad.length;i++)pad[i]^=106;this._outer.update(pad),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1.wipe(pad)}return HMAC.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},HMAC.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},HMAC.prototype.update=function(data){return this._inner.update(data),this},HMAC.prototype.finish=function(out){return this._finished?(this._outer.finish(out),this):(this._inner.finish(out),this._outer.update(out.subarray(0,this.digestLength)).finish(out),this._finished=!0,this)},HMAC.prototype.digest=function(){var out=new Uint8Array(this.digestLength);return this.finish(out),out},HMAC.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},HMAC.prototype.restoreState=function(savedState){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(savedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},HMAC.prototype.cleanSavedState=function(savedState){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(savedState)},HMAC}();exports.HMAC=HMAC,exports.hmac=function hmac(hash,key,data){var h=new HMAC(hash,key);h.update(data);var digest=h.digest();return h.clean(),digest},exports.equal=constant_time_1.equal},"./node_modules/@stablelib/int/lib/int.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mul=Math.imul||function imulShim(a,b){var al=65535&a,bl=65535&b;return al*bl+((a>>>16&65535)*bl+al*(b>>>16&65535)<<16>>>0)|0},exports.add=function add(a,b){return a+b|0},exports.sub=function sub(a,b){return a-b|0},exports.rotl=function rotl(x,n){return x<<n|x>>>32-n},exports.rotr=function rotr(x,n){return x<<32-n|x>>>n},exports.isInteger=Number.isInteger||function isIntegerShim(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n},exports.MAX_SAFE_INTEGER=9007199254740991,exports.isSafeInteger=function(n){return exports.isInteger(n)&&n>=-exports.MAX_SAFE_INTEGER&&n<=exports.MAX_SAFE_INTEGER}},"./node_modules/@stablelib/poly1305/lib/poly1305.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var constant_time_1=__webpack_require__("./node_modules/@stablelib/constant-time/lib/constant-time.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js");exports.DIGEST_LENGTH=16;var Poly1305=function(){function Poly1305(key){this.digestLength=exports.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t0=key[0]|key[1]<<8;this._r[0]=8191&t0;var t1=key[2]|key[3]<<8;this._r[1]=8191&(t0>>>13|t1<<3);var t2=key[4]|key[5]<<8;this._r[2]=7939&(t1>>>10|t2<<6);var t3=key[6]|key[7]<<8;this._r[3]=8191&(t2>>>7|t3<<9);var t4=key[8]|key[9]<<8;this._r[4]=255&(t3>>>4|t4<<12),this._r[5]=t4>>>1&8190;var t5=key[10]|key[11]<<8;this._r[6]=8191&(t4>>>14|t5<<2);var t6=key[12]|key[13]<<8;this._r[7]=8065&(t5>>>11|t6<<5);var t7=key[14]|key[15]<<8;this._r[8]=8191&(t6>>>8|t7<<8),this._r[9]=t7>>>5&127,this._pad[0]=key[16]|key[17]<<8,this._pad[1]=key[18]|key[19]<<8,this._pad[2]=key[20]|key[21]<<8,this._pad[3]=key[22]|key[23]<<8,this._pad[4]=key[24]|key[25]<<8,this._pad[5]=key[26]|key[27]<<8,this._pad[6]=key[28]|key[29]<<8,this._pad[7]=key[30]|key[31]<<8}return Poly1305.prototype._blocks=function(m,mpos,bytes){for(var hibit=this._fin?0:2048,h0=this._h[0],h1=this._h[1],h2=this._h[2],h3=this._h[3],h4=this._h[4],h5=this._h[5],h6=this._h[6],h7=this._h[7],h8=this._h[8],h9=this._h[9],r0=this._r[0],r1=this._r[1],r2=this._r[2],r3=this._r[3],r4=this._r[4],r5=this._r[5],r6=this._r[6],r7=this._r[7],r8=this._r[8],r9=this._r[9];bytes>=16;){var t0=m[mpos+0]|m[mpos+1]<<8;h0+=8191&t0;var t1=m[mpos+2]|m[mpos+3]<<8;h1+=8191&(t0>>>13|t1<<3);var t2=m[mpos+4]|m[mpos+5]<<8;h2+=8191&(t1>>>10|t2<<6);var t3=m[mpos+6]|m[mpos+7]<<8;h3+=8191&(t2>>>7|t3<<9);var t4=m[mpos+8]|m[mpos+9]<<8;h4+=8191&(t3>>>4|t4<<12),h5+=t4>>>1&8191;var t5=m[mpos+10]|m[mpos+11]<<8;h6+=8191&(t4>>>14|t5<<2);var t6=m[mpos+12]|m[mpos+13]<<8;h7+=8191&(t5>>>11|t6<<5);var t7=m[mpos+14]|m[mpos+15]<<8,c=0,d0=c;d0+=h0*r0,d0+=h1*(5*r9),d0+=h2*(5*r8),d0+=h3*(5*r7),c=(d0+=h4*(5*r6))>>>13,d0&=8191,d0+=h5*(5*r5),d0+=h6*(5*r4),d0+=h7*(5*r3),d0+=(h8+=8191&(t6>>>8|t7<<8))*(5*r2);var d1=c+=(d0+=(h9+=t7>>>5|hibit)*(5*r1))>>>13;d1+=h0*r1,d1+=h1*r0,d1+=h2*(5*r9),d1+=h3*(5*r8),c=(d1+=h4*(5*r7))>>>13,d1&=8191,d1+=h5*(5*r6),d1+=h6*(5*r5),d1+=h7*(5*r4),d1+=h8*(5*r3),c+=(d1+=h9*(5*r2))>>>13,d1&=8191;var d2=c;d2+=h0*r2,d2+=h1*r1,d2+=h2*r0,d2+=h3*(5*r9),c=(d2+=h4*(5*r8))>>>13,d2&=8191,d2+=h5*(5*r7),d2+=h6*(5*r6),d2+=h7*(5*r5),d2+=h8*(5*r4);var d3=c+=(d2+=h9*(5*r3))>>>13;d3+=h0*r3,d3+=h1*r2,d3+=h2*r1,d3+=h3*r0,c=(d3+=h4*(5*r9))>>>13,d3&=8191,d3+=h5*(5*r8),d3+=h6*(5*r7),d3+=h7*(5*r6),d3+=h8*(5*r5);var d4=c+=(d3+=h9*(5*r4))>>>13;d4+=h0*r4,d4+=h1*r3,d4+=h2*r2,d4+=h3*r1,c=(d4+=h4*r0)>>>13,d4&=8191,d4+=h5*(5*r9),d4+=h6*(5*r8),d4+=h7*(5*r7),d4+=h8*(5*r6);var d5=c+=(d4+=h9*(5*r5))>>>13;d5+=h0*r5,d5+=h1*r4,d5+=h2*r3,d5+=h3*r2,c=(d5+=h4*r1)>>>13,d5&=8191,d5+=h5*r0,d5+=h6*(5*r9),d5+=h7*(5*r8),d5+=h8*(5*r7);var d6=c+=(d5+=h9*(5*r6))>>>13;d6+=h0*r6,d6+=h1*r5,d6+=h2*r4,d6+=h3*r3,c=(d6+=h4*r2)>>>13,d6&=8191,d6+=h5*r1,d6+=h6*r0,d6+=h7*(5*r9),d6+=h8*(5*r8);var d7=c+=(d6+=h9*(5*r7))>>>13;d7+=h0*r7,d7+=h1*r6,d7+=h2*r5,d7+=h3*r4,c=(d7+=h4*r3)>>>13,d7&=8191,d7+=h5*r2,d7+=h6*r1,d7+=h7*r0,d7+=h8*(5*r9);var d8=c+=(d7+=h9*(5*r8))>>>13;d8+=h0*r8,d8+=h1*r7,d8+=h2*r6,d8+=h3*r5,c=(d8+=h4*r4)>>>13,d8&=8191,d8+=h5*r3,d8+=h6*r2,d8+=h7*r1,d8+=h8*r0;var d9=c+=(d8+=h9*(5*r9))>>>13;d9+=h0*r9,d9+=h1*r8,d9+=h2*r7,d9+=h3*r6,c=(d9+=h4*r5)>>>13,d9&=8191,d9+=h5*r4,d9+=h6*r3,d9+=h7*r2,d9+=h8*r1,h0=d0=8191&(c=(c=((c+=(d9+=h9*r0)>>>13)<<2)+c|0)+(d0&=8191)|0),h1=d1+=c>>>=13,h2=d2&=8191,h3=d3&=8191,h4=d4&=8191,h5=d5&=8191,h6=d6&=8191,h7=d7&=8191,h8=d8&=8191,h9=d9&=8191,mpos+=16,bytes-=16}this._h[0]=h0,this._h[1]=h1,this._h[2]=h2,this._h[3]=h3,this._h[4]=h4,this._h[5]=h5,this._h[6]=h6,this._h[7]=h7,this._h[8]=h8,this._h[9]=h9},Poly1305.prototype.finish=function(mac,macpos){void 0===macpos&&(macpos=0);var c,mask,f,i,g=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(c=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=c,c=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*c,c=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=c,c=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=c,g[0]=this._h[0]+5,c=g[0]>>>13,g[0]&=8191,i=1;i<10;i++)g[i]=this._h[i]+c,c=g[i]>>>13,g[i]&=8191;for(g[9]-=8192,mask=(1^c)-1,i=0;i<10;i++)g[i]&=mask;for(mask=~mask,i=0;i<10;i++)this._h[i]=this._h[i]&mask|g[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),f=this._h[0]+this._pad[0],this._h[0]=65535&f,i=1;i<8;i++)f=(this._h[i]+this._pad[i]|0)+(f>>>16)|0,this._h[i]=65535&f;return mac[macpos+0]=this._h[0]>>>0,mac[macpos+1]=this._h[0]>>>8,mac[macpos+2]=this._h[1]>>>0,mac[macpos+3]=this._h[1]>>>8,mac[macpos+4]=this._h[2]>>>0,mac[macpos+5]=this._h[2]>>>8,mac[macpos+6]=this._h[3]>>>0,mac[macpos+7]=this._h[3]>>>8,mac[macpos+8]=this._h[4]>>>0,mac[macpos+9]=this._h[4]>>>8,mac[macpos+10]=this._h[5]>>>0,mac[macpos+11]=this._h[5]>>>8,mac[macpos+12]=this._h[6]>>>0,mac[macpos+13]=this._h[6]>>>8,mac[macpos+14]=this._h[7]>>>0,mac[macpos+15]=this._h[7]>>>8,this._finished=!0,this},Poly1305.prototype.update=function(m){var want,mpos=0,bytes=m.length;if(this._leftover){(want=16-this._leftover)>bytes&&(want=bytes);for(var i=0;i<want;i++)this._buffer[this._leftover+i]=m[mpos+i];if(bytes-=want,mpos+=want,this._leftover+=want,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(bytes>=16&&(want=bytes-bytes%16,this._blocks(m,mpos,want),mpos+=want,bytes-=want),bytes){for(i=0;i<bytes;i++)this._buffer[this._leftover+i]=m[mpos+i];this._leftover+=bytes}return this},Poly1305.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var mac=new Uint8Array(16);return this.finish(mac),mac},Poly1305.prototype.clean=function(){return wipe_1.wipe(this._buffer),wipe_1.wipe(this._r),wipe_1.wipe(this._h),wipe_1.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},Poly1305}();exports.Poly1305=Poly1305,exports.oneTimeAuth=function oneTimeAuth(key,data){var h=new Poly1305(key);h.update(data);var digest=h.digest();return h.clean(),digest},exports.equal=function equal(a,b){return a.length===exports.DIGEST_LENGTH&&b.length===exports.DIGEST_LENGTH&&constant_time_1.equal(a,b)}},"./node_modules/@stablelib/random/lib/random.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomStringForEntropy=exports.randomString=exports.randomUint32=exports.randomBytes=exports.defaultRandomSource=void 0;const system_1=__webpack_require__("./node_modules/@stablelib/random/lib/source/system.js"),binary_1=__webpack_require__("./node_modules/@stablelib/binary/lib/binary.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js");function randomBytes(length,prng=exports.defaultRandomSource){return prng.randomBytes(length)}exports.defaultRandomSource=new system_1.SystemRandomSource,exports.randomBytes=randomBytes,exports.randomUint32=function randomUint32(prng=exports.defaultRandomSource){const buf=randomBytes(4,prng),result=(0,binary_1.readUint32LE)(buf);return(0,wipe_1.wipe)(buf),result};const ALPHANUMERIC="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function randomString(length,charset=ALPHANUMERIC,prng=exports.defaultRandomSource){if(charset.length<2)throw new Error("randomString charset is too short");if(charset.length>256)throw new Error("randomString charset is too long");let out="";const charsLen=charset.length,maxByte=256-256%charsLen;for(;length>0;){const buf=randomBytes(Math.ceil(256*length/maxByte),prng);for(let i=0;i<buf.length&&length>0;i++){const randomByte=buf[i];randomByte<maxByte&&(out+=charset.charAt(randomByte%charsLen),length--)}(0,wipe_1.wipe)(buf)}return out}exports.randomString=randomString,exports.randomStringForEntropy=function randomStringForEntropy(bits,charset=ALPHANUMERIC,prng=exports.defaultRandomSource){return randomString(Math.ceil(bits/(Math.log(charset.length)/Math.LN2)),charset,prng)}},"./node_modules/@stablelib/random/lib/source/browser.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BrowserRandomSource=void 0;exports.BrowserRandomSource=class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const browserCrypto="undefined"!=typeof self?self.crypto||self.msCrypto:null;browserCrypto&&void 0!==browserCrypto.getRandomValues&&(this._crypto=browserCrypto,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(length){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const out=new Uint8Array(length);for(let i=0;i<out.length;i+=65536)this._crypto.getRandomValues(out.subarray(i,i+Math.min(out.length-i,65536)));return out}}},"./node_modules/@stablelib/random/lib/source/node.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeRandomSource=void 0;const wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js");exports.NodeRandomSource=class NodeRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const nodeCrypto=__webpack_require__("?25ed");nodeCrypto&&nodeCrypto.randomBytes&&(this._crypto=nodeCrypto,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(length){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let buffer=this._crypto.randomBytes(length);if(buffer.length!==length)throw new Error("NodeRandomSource: got fewer bytes than requested");const out=new Uint8Array(length);for(let i=0;i<out.length;i++)out[i]=buffer[i];return(0,wipe_1.wipe)(buffer),out}}},"./node_modules/@stablelib/random/lib/source/system.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SystemRandomSource=void 0;const browser_1=__webpack_require__("./node_modules/@stablelib/random/lib/source/browser.js"),node_1=__webpack_require__("./node_modules/@stablelib/random/lib/source/node.js");exports.SystemRandomSource=class SystemRandomSource{constructor(){return this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new node_1.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(length){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(length)}}},"./node_modules/@stablelib/sha256/lib/sha256.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var binary_1=__webpack_require__("./node_modules/@stablelib/binary/lib/binary.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js");exports.k=32,exports.cn=64;var SHA256=function(){function SHA256(){this.digestLength=exports.k,this.blockSize=exports.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return SHA256.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},SHA256.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},SHA256.prototype.clean=function(){wipe_1.wipe(this._buffer),wipe_1.wipe(this._temp),this.reset()},SHA256.prototype.update=function(data,dataLength){if(void 0===dataLength&&(dataLength=data.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var dataPos=0;if(this._bytesHashed+=dataLength,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&dataLength>0;)this._buffer[this._bufferLength++]=data[dataPos++],dataLength--;this._bufferLength===this.blockSize&&(hashBlocks(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(dataLength>=this.blockSize&&(dataPos=hashBlocks(this._temp,this._state,data,dataPos,dataLength),dataLength%=this.blockSize);dataLength>0;)this._buffer[this._bufferLength++]=data[dataPos++],dataLength--;return this},SHA256.prototype.finish=function(out){if(!this._finished){var bytesHashed=this._bytesHashed,left=this._bufferLength,bitLenHi=bytesHashed/536870912|0,bitLenLo=bytesHashed<<3,padLength=bytesHashed%64<56?64:128;this._buffer[left]=128;for(var i=left+1;i<padLength-8;i++)this._buffer[i]=0;binary_1.writeUint32BE(bitLenHi,this._buffer,padLength-8),binary_1.writeUint32BE(bitLenLo,this._buffer,padLength-4),hashBlocks(this._temp,this._state,this._buffer,0,padLength),this._finished=!0}for(i=0;i<this.digestLength/4;i++)binary_1.writeUint32BE(this._state[i],out,4*i);return this},SHA256.prototype.digest=function(){var out=new Uint8Array(this.digestLength);return this.finish(out),out},SHA256.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},SHA256.prototype.restoreState=function(savedState){return this._state.set(savedState.state),this._bufferLength=savedState.bufferLength,savedState.buffer&&this._buffer.set(savedState.buffer),this._bytesHashed=savedState.bytesHashed,this._finished=!1,this},SHA256.prototype.cleanSavedState=function(savedState){wipe_1.wipe(savedState.state),savedState.buffer&&wipe_1.wipe(savedState.buffer),savedState.bufferLength=0,savedState.bytesHashed=0},SHA256}();exports.mE=SHA256;var K=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function hashBlocks(w,v,p,pos,len){for(;len>=64;){for(var a=v[0],b=v[1],c=v[2],d=v[3],e=v[4],f=v[5],g=v[6],h=v[7],i=0;i<16;i++){var j=pos+4*i;w[i]=binary_1.readUint32BE(p,j)}for(i=16;i<64;i++){var u=w[i-2],t1=(u>>>17|u<<15)^(u>>>19|u<<13)^u>>>10,t2=((u=w[i-15])>>>7|u<<25)^(u>>>18|u<<14)^u>>>3;w[i]=(t1+w[i-7]|0)+(t2+w[i-16]|0)}for(i=0;i<64;i++){t1=(((e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7))+(e&f^~e&g)|0)+(h+(K[i]+w[i]|0)|0)|0,t2=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&b^a&c^b&c)|0;h=g,g=f,f=e,e=d+t1|0,d=c,c=b,b=a,a=t1+t2|0}v[0]+=a,v[1]+=b,v[2]+=c,v[3]+=d,v[4]+=e,v[5]+=f,v[6]+=g,v[7]+=h,pos+=64,len-=64}return pos}exports.vp=function hash(data){var h=new SHA256;h.update(data);var digest=h.digest();return h.clean(),digest}},"./node_modules/@stablelib/sha512/lib/sha512.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var binary_1=__webpack_require__("./node_modules/@stablelib/binary/lib/binary.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js");exports.DIGEST_LENGTH=64,exports.BLOCK_SIZE=128;var SHA512=function(){function SHA512(){this.digestLength=exports.DIGEST_LENGTH,this.blockSize=exports.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return SHA512.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},SHA512.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},SHA512.prototype.clean=function(){wipe_1.wipe(this._buffer),wipe_1.wipe(this._tempHi),wipe_1.wipe(this._tempLo),this.reset()},SHA512.prototype.update=function(data,dataLength){if(void 0===dataLength&&(dataLength=data.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var dataPos=0;if(this._bytesHashed+=dataLength,this._bufferLength>0){for(;this._bufferLength<exports.BLOCK_SIZE&&dataLength>0;)this._buffer[this._bufferLength++]=data[dataPos++],dataLength--;this._bufferLength===this.blockSize&&(hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(dataLength>=this.blockSize&&(dataPos=hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,data,dataPos,dataLength),dataLength%=this.blockSize);dataLength>0;)this._buffer[this._bufferLength++]=data[dataPos++],dataLength--;return this},SHA512.prototype.finish=function(out){if(!this._finished){var bytesHashed=this._bytesHashed,left=this._bufferLength,bitLenHi=bytesHashed/536870912|0,bitLenLo=bytesHashed<<3,padLength=bytesHashed%128<112?128:256;this._buffer[left]=128;for(var i=left+1;i<padLength-8;i++)this._buffer[i]=0;binary_1.writeUint32BE(bitLenHi,this._buffer,padLength-8),binary_1.writeUint32BE(bitLenLo,this._buffer,padLength-4),hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,padLength),this._finished=!0}for(i=0;i<this.digestLength/8;i++)binary_1.writeUint32BE(this._stateHi[i],out,8*i),binary_1.writeUint32BE(this._stateLo[i],out,8*i+4);return this},SHA512.prototype.digest=function(){var out=new Uint8Array(this.digestLength);return this.finish(out),out},SHA512.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},SHA512.prototype.restoreState=function(savedState){return this._stateHi.set(savedState.stateHi),this._stateLo.set(savedState.stateLo),this._bufferLength=savedState.bufferLength,savedState.buffer&&this._buffer.set(savedState.buffer),this._bytesHashed=savedState.bytesHashed,this._finished=!1,this},SHA512.prototype.cleanSavedState=function(savedState){wipe_1.wipe(savedState.stateHi),wipe_1.wipe(savedState.stateLo),savedState.buffer&&wipe_1.wipe(savedState.buffer),savedState.bufferLength=0,savedState.bytesHashed=0},SHA512}();exports.SHA512=SHA512;var K=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function hashBlocks(wh,wl,hh,hl,m,pos,len){for(var h,l,th,tl,a,b,c,d,ah0=hh[0],ah1=hh[1],ah2=hh[2],ah3=hh[3],ah4=hh[4],ah5=hh[5],ah6=hh[6],ah7=hh[7],al0=hl[0],al1=hl[1],al2=hl[2],al3=hl[3],al4=hl[4],al5=hl[5],al6=hl[6],al7=hl[7];len>=128;){for(var i=0;i<16;i++){var j=8*i+pos;wh[i]=binary_1.readUint32BE(m,j),wl[i]=binary_1.readUint32BE(m,j+4)}for(i=0;i<80;i++){var bh7,bl7,bh0=ah0,bh1=ah1,bh2=ah2,bh3=ah3,bh4=ah4,bh5=ah5,bh6=ah6,bl0=al0,bl1=al1,bl2=al2,bl3=al3,bl4=al4,bl5=al5,bl6=al6;if(a=65535&(l=al7),b=l>>>16,c=65535&(h=ah7),d=h>>>16,a+=65535&(l=(al4>>>14|ah4<<18)^(al4>>>18|ah4<<14)^(ah4>>>9|al4<<23)),b+=l>>>16,c+=65535&(h=(ah4>>>14|al4<<18)^(ah4>>>18|al4<<14)^(al4>>>9|ah4<<23)),d+=h>>>16,a+=65535&(l=al4&al5^~al4&al6),b+=l>>>16,c+=65535&(h=ah4&ah5^~ah4&ah6),d+=h>>>16,h=K[2*i],a+=65535&(l=K[2*i+1]),b+=l>>>16,c+=65535&h,d+=h>>>16,h=wh[i%16],b+=(l=wl[i%16])>>>16,c+=65535&h,d+=h>>>16,c+=(b+=(a+=65535&l)>>>16)>>>16,a=65535&(l=tl=65535&a|b<<16),b=l>>>16,c=65535&(h=th=65535&c|(d+=c>>>16)<<16),d=h>>>16,a+=65535&(l=(al0>>>28|ah0<<4)^(ah0>>>2|al0<<30)^(ah0>>>7|al0<<25)),b+=l>>>16,c+=65535&(h=(ah0>>>28|al0<<4)^(al0>>>2|ah0<<30)^(al0>>>7|ah0<<25)),d+=h>>>16,b+=(l=al0&al1^al0&al2^al1&al2)>>>16,c+=65535&(h=ah0&ah1^ah0&ah2^ah1&ah2),d+=h>>>16,bh7=65535&(c+=(b+=(a+=65535&l)>>>16)>>>16)|(d+=c>>>16)<<16,bl7=65535&a|b<<16,a=65535&(l=bl3),b=l>>>16,c=65535&(h=bh3),d=h>>>16,b+=(l=tl)>>>16,c+=65535&(h=th),d+=h>>>16,ah1=bh0,ah2=bh1,ah3=bh2,ah4=bh3=65535&(c+=(b+=(a+=65535&l)>>>16)>>>16)|(d+=c>>>16)<<16,ah5=bh4,ah6=bh5,ah7=bh6,ah0=bh7,al1=bl0,al2=bl1,al3=bl2,al4=bl3=65535&a|b<<16,al5=bl4,al6=bl5,al7=bl6,al0=bl7,i%16==15)for(j=0;j<16;j++)h=wh[j],a=65535&(l=wl[j]),b=l>>>16,c=65535&h,d=h>>>16,h=wh[(j+9)%16],a+=65535&(l=wl[(j+9)%16]),b+=l>>>16,c+=65535&h,d+=h>>>16,th=wh[(j+1)%16],a+=65535&(l=((tl=wl[(j+1)%16])>>>1|th<<31)^(tl>>>8|th<<24)^(tl>>>7|th<<25)),b+=l>>>16,c+=65535&(h=(th>>>1|tl<<31)^(th>>>8|tl<<24)^th>>>7),d+=h>>>16,th=wh[(j+14)%16],b+=(l=((tl=wl[(j+14)%16])>>>19|th<<13)^(th>>>29|tl<<3)^(tl>>>6|th<<26))>>>16,c+=65535&(h=(th>>>19|tl<<13)^(tl>>>29|th<<3)^th>>>6),d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,wh[j]=65535&c|d<<16,wl[j]=65535&a|b<<16}a=65535&(l=al0),b=l>>>16,c=65535&(h=ah0),d=h>>>16,h=hh[0],b+=(l=hl[0])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[0]=ah0=65535&c|d<<16,hl[0]=al0=65535&a|b<<16,a=65535&(l=al1),b=l>>>16,c=65535&(h=ah1),d=h>>>16,h=hh[1],b+=(l=hl[1])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[1]=ah1=65535&c|d<<16,hl[1]=al1=65535&a|b<<16,a=65535&(l=al2),b=l>>>16,c=65535&(h=ah2),d=h>>>16,h=hh[2],b+=(l=hl[2])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[2]=ah2=65535&c|d<<16,hl[2]=al2=65535&a|b<<16,a=65535&(l=al3),b=l>>>16,c=65535&(h=ah3),d=h>>>16,h=hh[3],b+=(l=hl[3])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[3]=ah3=65535&c|d<<16,hl[3]=al3=65535&a|b<<16,a=65535&(l=al4),b=l>>>16,c=65535&(h=ah4),d=h>>>16,h=hh[4],b+=(l=hl[4])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[4]=ah4=65535&c|d<<16,hl[4]=al4=65535&a|b<<16,a=65535&(l=al5),b=l>>>16,c=65535&(h=ah5),d=h>>>16,h=hh[5],b+=(l=hl[5])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[5]=ah5=65535&c|d<<16,hl[5]=al5=65535&a|b<<16,a=65535&(l=al6),b=l>>>16,c=65535&(h=ah6),d=h>>>16,h=hh[6],b+=(l=hl[6])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[6]=ah6=65535&c|d<<16,hl[6]=al6=65535&a|b<<16,a=65535&(l=al7),b=l>>>16,c=65535&(h=ah7),d=h>>>16,h=hh[7],b+=(l=hl[7])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[7]=ah7=65535&c|d<<16,hl[7]=al7=65535&a|b<<16,pos+=128,len-=128}return pos}exports.hash=function hash(data){var h=new SHA512;h.update(data);var digest=h.digest();return h.clean(),digest}},"./node_modules/@stablelib/wipe/lib/wipe.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wipe=function wipe(array){for(var i=0;i<array.length;i++)array[i]=0;return array}},"./node_modules/@stablelib/x25519/lib/x25519.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.gi=exports.Au=exports.KS=exports.kz=void 0;const random_1=__webpack_require__("./node_modules/@stablelib/random/lib/random.js"),wipe_1=__webpack_require__("./node_modules/@stablelib/wipe/lib/wipe.js");function gf(init){const r=new Float64Array(16);if(init)for(let i=0;i<init.length;i++)r[i]=init[i];return r}exports.kz=32,exports.KS=32;const _9=new Uint8Array(32);_9[0]=9;const _121665=gf([56129,1]);function car25519(o){let c=1;for(let i=0;i<16;i++){let v=o[i]+c+65535;c=Math.floor(v/65536),o[i]=v-65536*c}o[0]+=c-1+37*(c-1)}function sel25519(p,q,b){const c=~(b-1);for(let i=0;i<16;i++){const t=c&(p[i]^q[i]);p[i]^=t,q[i]^=t}}function add(o,a,b){for(let i=0;i<16;i++)o[i]=a[i]+b[i]}function sub(o,a,b){for(let i=0;i<16;i++)o[i]=a[i]-b[i]}function mul(o,a,b){let v,c,t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0,t8=0,t9=0,t10=0,t11=0,t12=0,t13=0,t14=0,t15=0,t16=0,t17=0,t18=0,t19=0,t20=0,t21=0,t22=0,t23=0,t24=0,t25=0,t26=0,t27=0,t28=0,t29=0,t30=0,b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];v=a[0],t0+=v*b0,t1+=v*b1,t2+=v*b2,t3+=v*b3,t4+=v*b4,t5+=v*b5,t6+=v*b6,t7+=v*b7,t8+=v*b8,t9+=v*b9,t10+=v*b10,t11+=v*b11,t12+=v*b12,t13+=v*b13,t14+=v*b14,t15+=v*b15,v=a[1],t1+=v*b0,t2+=v*b1,t3+=v*b2,t4+=v*b3,t5+=v*b4,t6+=v*b5,t7+=v*b6,t8+=v*b7,t9+=v*b8,t10+=v*b9,t11+=v*b10,t12+=v*b11,t13+=v*b12,t14+=v*b13,t15+=v*b14,t16+=v*b15,v=a[2],t2+=v*b0,t3+=v*b1,t4+=v*b2,t5+=v*b3,t6+=v*b4,t7+=v*b5,t8+=v*b6,t9+=v*b7,t10+=v*b8,t11+=v*b9,t12+=v*b10,t13+=v*b11,t14+=v*b12,t15+=v*b13,t16+=v*b14,t17+=v*b15,v=a[3],t3+=v*b0,t4+=v*b1,t5+=v*b2,t6+=v*b3,t7+=v*b4,t8+=v*b5,t9+=v*b6,t10+=v*b7,t11+=v*b8,t12+=v*b9,t13+=v*b10,t14+=v*b11,t15+=v*b12,t16+=v*b13,t17+=v*b14,t18+=v*b15,v=a[4],t4+=v*b0,t5+=v*b1,t6+=v*b2,t7+=v*b3,t8+=v*b4,t9+=v*b5,t10+=v*b6,t11+=v*b7,t12+=v*b8,t13+=v*b9,t14+=v*b10,t15+=v*b11,t16+=v*b12,t17+=v*b13,t18+=v*b14,t19+=v*b15,v=a[5],t5+=v*b0,t6+=v*b1,t7+=v*b2,t8+=v*b3,t9+=v*b4,t10+=v*b5,t11+=v*b6,t12+=v*b7,t13+=v*b8,t14+=v*b9,t15+=v*b10,t16+=v*b11,t17+=v*b12,t18+=v*b13,t19+=v*b14,t20+=v*b15,v=a[6],t6+=v*b0,t7+=v*b1,t8+=v*b2,t9+=v*b3,t10+=v*b4,t11+=v*b5,t12+=v*b6,t13+=v*b7,t14+=v*b8,t15+=v*b9,t16+=v*b10,t17+=v*b11,t18+=v*b12,t19+=v*b13,t20+=v*b14,t21+=v*b15,v=a[7],t7+=v*b0,t8+=v*b1,t9+=v*b2,t10+=v*b3,t11+=v*b4,t12+=v*b5,t13+=v*b6,t14+=v*b7,t15+=v*b8,t16+=v*b9,t17+=v*b10,t18+=v*b11,t19+=v*b12,t20+=v*b13,t21+=v*b14,t22+=v*b15,v=a[8],t8+=v*b0,t9+=v*b1,t10+=v*b2,t11+=v*b3,t12+=v*b4,t13+=v*b5,t14+=v*b6,t15+=v*b7,t16+=v*b8,t17+=v*b9,t18+=v*b10,t19+=v*b11,t20+=v*b12,t21+=v*b13,t22+=v*b14,t23+=v*b15,v=a[9],t9+=v*b0,t10+=v*b1,t11+=v*b2,t12+=v*b3,t13+=v*b4,t14+=v*b5,t15+=v*b6,t16+=v*b7,t17+=v*b8,t18+=v*b9,t19+=v*b10,t20+=v*b11,t21+=v*b12,t22+=v*b13,t23+=v*b14,t24+=v*b15,v=a[10],t10+=v*b0,t11+=v*b1,t12+=v*b2,t13+=v*b3,t14+=v*b4,t15+=v*b5,t16+=v*b6,t17+=v*b7,t18+=v*b8,t19+=v*b9,t20+=v*b10,t21+=v*b11,t22+=v*b12,t23+=v*b13,t24+=v*b14,t25+=v*b15,v=a[11],t11+=v*b0,t12+=v*b1,t13+=v*b2,t14+=v*b3,t15+=v*b4,t16+=v*b5,t17+=v*b6,t18+=v*b7,t19+=v*b8,t20+=v*b9,t21+=v*b10,t22+=v*b11,t23+=v*b12,t24+=v*b13,t25+=v*b14,t26+=v*b15,v=a[12],t12+=v*b0,t13+=v*b1,t14+=v*b2,t15+=v*b3,t16+=v*b4,t17+=v*b5,t18+=v*b6,t19+=v*b7,t20+=v*b8,t21+=v*b9,t22+=v*b10,t23+=v*b11,t24+=v*b12,t25+=v*b13,t26+=v*b14,t27+=v*b15,v=a[13],t13+=v*b0,t14+=v*b1,t15+=v*b2,t16+=v*b3,t17+=v*b4,t18+=v*b5,t19+=v*b6,t20+=v*b7,t21+=v*b8,t22+=v*b9,t23+=v*b10,t24+=v*b11,t25+=v*b12,t26+=v*b13,t27+=v*b14,t28+=v*b15,v=a[14],t14+=v*b0,t15+=v*b1,t16+=v*b2,t17+=v*b3,t18+=v*b4,t19+=v*b5,t20+=v*b6,t21+=v*b7,t22+=v*b8,t23+=v*b9,t24+=v*b10,t25+=v*b11,t26+=v*b12,t27+=v*b13,t28+=v*b14,t29+=v*b15,v=a[15],t15+=v*b0,t16+=v*b1,t17+=v*b2,t18+=v*b3,t19+=v*b4,t20+=v*b5,t21+=v*b6,t22+=v*b7,t23+=v*b8,t24+=v*b9,t25+=v*b10,t26+=v*b11,t27+=v*b12,t28+=v*b13,t29+=v*b14,t30+=v*b15,t0+=38*t16,t1+=38*t17,t2+=38*t18,t3+=38*t19,t4+=38*t20,t5+=38*t21,t6+=38*t22,t7+=38*t23,t8+=38*t24,t9+=38*t25,t10+=38*t26,t11+=38*t27,t12+=38*t28,t13+=38*t29,t14+=38*t30,c=1,v=t0+c+65535,c=Math.floor(v/65536),t0=v-65536*c,v=t1+c+65535,c=Math.floor(v/65536),t1=v-65536*c,v=t2+c+65535,c=Math.floor(v/65536),t2=v-65536*c,v=t3+c+65535,c=Math.floor(v/65536),t3=v-65536*c,v=t4+c+65535,c=Math.floor(v/65536),t4=v-65536*c,v=t5+c+65535,c=Math.floor(v/65536),t5=v-65536*c,v=t6+c+65535,c=Math.floor(v/65536),t6=v-65536*c,v=t7+c+65535,c=Math.floor(v/65536),t7=v-65536*c,v=t8+c+65535,c=Math.floor(v/65536),t8=v-65536*c,v=t9+c+65535,c=Math.floor(v/65536),t9=v-65536*c,v=t10+c+65535,c=Math.floor(v/65536),t10=v-65536*c,v=t11+c+65535,c=Math.floor(v/65536),t11=v-65536*c,v=t12+c+65535,c=Math.floor(v/65536),t12=v-65536*c,v=t13+c+65535,c=Math.floor(v/65536),t13=v-65536*c,v=t14+c+65535,c=Math.floor(v/65536),t14=v-65536*c,v=t15+c+65535,c=Math.floor(v/65536),t15=v-65536*c,t0+=c-1+37*(c-1),c=1,v=t0+c+65535,c=Math.floor(v/65536),t0=v-65536*c,v=t1+c+65535,c=Math.floor(v/65536),t1=v-65536*c,v=t2+c+65535,c=Math.floor(v/65536),t2=v-65536*c,v=t3+c+65535,c=Math.floor(v/65536),t3=v-65536*c,v=t4+c+65535,c=Math.floor(v/65536),t4=v-65536*c,v=t5+c+65535,c=Math.floor(v/65536),t5=v-65536*c,v=t6+c+65535,c=Math.floor(v/65536),t6=v-65536*c,v=t7+c+65535,c=Math.floor(v/65536),t7=v-65536*c,v=t8+c+65535,c=Math.floor(v/65536),t8=v-65536*c,v=t9+c+65535,c=Math.floor(v/65536),t9=v-65536*c,v=t10+c+65535,c=Math.floor(v/65536),t10=v-65536*c,v=t11+c+65535,c=Math.floor(v/65536),t11=v-65536*c,v=t12+c+65535,c=Math.floor(v/65536),t12=v-65536*c,v=t13+c+65535,c=Math.floor(v/65536),t13=v-65536*c,v=t14+c+65535,c=Math.floor(v/65536),t14=v-65536*c,v=t15+c+65535,c=Math.floor(v/65536),t15=v-65536*c,t0+=c-1+37*(c-1),o[0]=t0,o[1]=t1,o[2]=t2,o[3]=t3,o[4]=t4,o[5]=t5,o[6]=t6,o[7]=t7,o[8]=t8,o[9]=t9,o[10]=t10,o[11]=t11,o[12]=t12,o[13]=t13,o[14]=t14,o[15]=t15}function square(o,a){mul(o,a,a)}function scalarMult(n,p){const z=new Uint8Array(32),x=new Float64Array(80),a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf();for(let i=0;i<31;i++)z[i]=n[i];z[31]=127&n[31]|64,z[0]&=248,function unpack25519(o,n){for(let i=0;i<16;i++)o[i]=n[2*i]+(n[2*i+1]<<8);o[15]&=32767}(x,p);for(let i=0;i<16;i++)b[i]=x[i];a[0]=d[0]=1;for(let i=254;i>=0;--i){const r=z[i>>>3]>>>(7&i)&1;sel25519(a,b,r),sel25519(c,d,r),add(e,a,c),sub(a,a,c),add(c,b,d),sub(b,b,d),square(d,e),square(f,a),mul(a,c,a),mul(c,b,e),add(e,a,c),sub(a,a,c),square(b,a),sub(c,d,f),mul(a,c,_121665),add(a,a,d),mul(c,c,a),mul(a,d,f),mul(d,b,x),square(b,e),sel25519(a,b,r),sel25519(c,d,r)}for(let i=0;i<16;i++)x[i+16]=a[i],x[i+32]=c[i],x[i+48]=b[i],x[i+64]=d[i];const x32=x.subarray(32),x16=x.subarray(16);!function inv25519(o,inp){const c=gf();for(let i=0;i<16;i++)c[i]=inp[i];for(let i=253;i>=0;i--)square(c,c),2!==i&&4!==i&&mul(c,c,inp);for(let i=0;i<16;i++)o[i]=c[i]}(x32,x32),mul(x16,x16,x32);const q=new Uint8Array(32);return function pack25519(o,n){const m=gf(),t=gf();for(let i=0;i<16;i++)t[i]=n[i];car25519(t),car25519(t),car25519(t);for(let j=0;j<2;j++){m[0]=t[0]-65517;for(let i=1;i<15;i++)m[i]=t[i]-65535-(m[i-1]>>16&1),m[i-1]&=65535;m[15]=t[15]-32767-(m[14]>>16&1);const b=m[15]>>16&1;m[14]&=65535,sel25519(t,m,1-b)}for(let i=0;i<16;i++)o[2*i]=255&t[i],o[2*i+1]=t[i]>>8}(q,x16),q}function scalarMultBase(n){return scalarMult(n,_9)}function generateKeyPairFromSeed(seed){if(seed.length!==exports.KS)throw new Error(`x25519: seed must be ${exports.KS} bytes`);const secretKey=new Uint8Array(seed);return{publicKey:scalarMultBase(secretKey),secretKey}}exports.Au=function generateKeyPair(prng){const seed=(0,random_1.randomBytes)(32,prng),result=generateKeyPairFromSeed(seed);return(0,wipe_1.wipe)(seed),result},exports.gi=function sharedKey(mySecretKey,theirPublicKey,rejectZero=!1){if(mySecretKey.length!==exports.kz)throw new Error("X25519: incorrect secret key length");if(theirPublicKey.length!==exports.kz)throw new Error("X25519: incorrect public key length");const result=scalarMult(mySecretKey,theirPublicKey);if(rejectZero){let zeros=0;for(let i=0;i<result.length;i++)zeros|=result[i];if(0===zeros)throw new Error("X25519: invalid shared key")}return result}},"./node_modules/@walletconnect/environment/dist/cjs/crypto.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function getBrowerCrypto(){return(null===__webpack_require__.g||void 0===__webpack_require__.g?void 0:__webpack_require__.g.crypto)||(null===__webpack_require__.g||void 0===__webpack_require__.g?void 0:__webpack_require__.g.msCrypto)||{}}function getSubtleCrypto(){const browserCrypto=getBrowerCrypto();return browserCrypto.subtle||browserCrypto.webkitSubtle}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBrowserCryptoAvailable=exports.getSubtleCrypto=exports.getBrowerCrypto=void 0,exports.getBrowerCrypto=getBrowerCrypto,exports.getSubtleCrypto=getSubtleCrypto,exports.isBrowserCryptoAvailable=function isBrowserCryptoAvailable(){return!!getBrowerCrypto()&&!!getSubtleCrypto()}},"./node_modules/@walletconnect/environment/dist/cjs/env.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");function isReactNative(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function isNode(){return void 0!==process&&void 0!==process.versions&&void 0!==process.versions.node}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBrowser=exports.isNode=exports.isReactNative=void 0,exports.isReactNative=isReactNative,exports.isNode=isNode,exports.isBrowser=function isBrowser(){return!isReactNative()&&!isNode()}},"./node_modules/@walletconnect/environment/dist/cjs/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__("./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js");tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/environment/dist/cjs/crypto.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/environment/dist/cjs/env.js"),exports)},"./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator,__asyncGenerator:()=>__asyncGenerator,__asyncValues:()=>__asyncValues,__await:()=>__await,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>__createBinding,__decorate:()=>__decorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__read:()=>__read,__rest:()=>__rest,__spread:()=>__spread,__spreadArrays:()=>__spreadArrays,__values:()=>__values});var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __createBinding(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}function __exportStar(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{!function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}(g[n](v))}catch(e){settle(q[0][3],e)}}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function settle(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},"./node_modules/@walletconnect/ethereum-provider/dist/index.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>dist_index_es_v});var identity_namespaceObject={};__webpack_require__.r(identity_namespaceObject),__webpack_require__.d(identity_namespaceObject,{identity:()=>identity});var base2_namespaceObject={};__webpack_require__.r(base2_namespaceObject),__webpack_require__.d(base2_namespaceObject,{base2:()=>base2});var base8_namespaceObject={};__webpack_require__.r(base8_namespaceObject),__webpack_require__.d(base8_namespaceObject,{base8:()=>base8});var base10_namespaceObject={};__webpack_require__.r(base10_namespaceObject),__webpack_require__.d(base10_namespaceObject,{base10:()=>base10});var base16_namespaceObject={};__webpack_require__.r(base16_namespaceObject),__webpack_require__.d(base16_namespaceObject,{base16:()=>base16,base16upper:()=>base16upper});var base32_namespaceObject={};__webpack_require__.r(base32_namespaceObject),__webpack_require__.d(base32_namespaceObject,{base32:()=>base32,base32hex:()=>base32hex,base32hexpad:()=>base32hexpad,base32hexpadupper:()=>base32hexpadupper,base32hexupper:()=>base32hexupper,base32pad:()=>base32pad,base32padupper:()=>base32padupper,base32upper:()=>base32upper,base32z:()=>base32z});var base36_namespaceObject={};__webpack_require__.r(base36_namespaceObject),__webpack_require__.d(base36_namespaceObject,{base36:()=>base36,base36upper:()=>base36upper});var base58_namespaceObject={};__webpack_require__.r(base58_namespaceObject),__webpack_require__.d(base58_namespaceObject,{base58btc:()=>base58btc,base58flickr:()=>base58flickr});var base64_namespaceObject={};__webpack_require__.r(base64_namespaceObject),__webpack_require__.d(base64_namespaceObject,{base64:()=>base64,base64pad:()=>base64pad,base64url:()=>base64url,base64urlpad:()=>base64urlpad});var base256emoji_namespaceObject={};__webpack_require__.r(base256emoji_namespaceObject),__webpack_require__.d(base256emoji_namespaceObject,{base256emoji:()=>base256emoji});var sha2_browser_namespaceObject={};__webpack_require__.r(sha2_browser_namespaceObject),__webpack_require__.d(sha2_browser_namespaceObject,{sha256:()=>sha2_browser_sha256,sha512:()=>sha512});var hashes_identity_namespaceObject={};__webpack_require__.r(hashes_identity_namespaceObject),__webpack_require__.d(hashes_identity_namespaceObject,{identity:()=>identity_identity});var raw_namespaceObject={};__webpack_require__.r(raw_namespaceObject),__webpack_require__.d(raw_namespaceObject,{code:()=>raw_code,decode:()=>raw_decode,encode:()=>raw_encode,name:()=>raw_name});var json_namespaceObject={};__webpack_require__.r(json_namespaceObject),__webpack_require__.d(json_namespaceObject,{code:()=>json_code,decode:()=>json_decode,encode:()=>json_encode,name:()=>json_name});var events=__webpack_require__("./node_modules/events/events.js"),events_default=__webpack_require__.n(events),chacha20poly1305=__webpack_require__("./node_modules/@stablelib/chacha20poly1305/lib/chacha20poly1305.js"),hkdf=__webpack_require__("./node_modules/@stablelib/hkdf/lib/hkdf.js"),random=__webpack_require__("./node_modules/@stablelib/random/lib/random.js"),sha256=__webpack_require__("./node_modules/@stablelib/sha256/lib/sha256.js"),x25519=__webpack_require__("./node_modules/@stablelib/x25519/lib/x25519.js");function as_uint8array_asUint8Array(buf){return null!=globalThis.Buffer?new Uint8Array(buf.buffer,buf.byteOffset,buf.byteLength):buf}function allocUnsafe(size=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?as_uint8array_asUint8Array(globalThis.Buffer.allocUnsafe(size)):new Uint8Array(size)}function concat(arrays,length){length||(length=arrays.reduce(((acc,curr)=>acc+curr.length),0));const output=allocUnsafe(length);let offset=0;for(const arr of arrays)output.set(arr,offset),offset+=arr.length;return as_uint8array_asUint8Array(output)}var src=function base(ALPHABET,name){if(ALPHABET.length>=255)throw new TypeError("Alphabet too long");for(var BASE_MAP=new Uint8Array(256),j=0;j<BASE_MAP.length;j++)BASE_MAP[j]=255;for(var i=0;i<ALPHABET.length;i++){var x=ALPHABET.charAt(i),xc=x.charCodeAt(0);if(255!==BASE_MAP[xc])throw new TypeError(x+" is ambiguous");BASE_MAP[xc]=i}var BASE=ALPHABET.length,LEADER=ALPHABET.charAt(0),FACTOR=Math.log(BASE)/Math.log(256),iFACTOR=Math.log(256)/Math.log(BASE);function decodeUnsafe(source){if("string"!=typeof source)throw new TypeError("Expected String");if(0===source.length)return new Uint8Array;var psz=0;if(" "!==source[psz]){for(var zeroes=0,length=0;source[psz]===LEADER;)zeroes++,psz++;for(var size=(source.length-psz)*FACTOR+1>>>0,b256=new Uint8Array(size);source[psz];){var carry=BASE_MAP[source.charCodeAt(psz)];if(255===carry)return;for(var i=0,it3=size-1;(0!==carry||i<length)&&-1!==it3;it3--,i++)carry+=BASE*b256[it3]>>>0,b256[it3]=carry%256>>>0,carry=carry/256>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,psz++}if(" "!==source[psz]){for(var it4=size-length;it4!==size&&0===b256[it4];)it4++;for(var vch=new Uint8Array(zeroes+(size-it4)),j=zeroes;it4!==size;)vch[j++]=b256[it4++];return vch}}}return{encode:function encode(source){if(source instanceof Uint8Array||(ArrayBuffer.isView(source)?source=new Uint8Array(source.buffer,source.byteOffset,source.byteLength):Array.isArray(source)&&(source=Uint8Array.from(source))),!(source instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===source.length)return"";for(var zeroes=0,length=0,pbegin=0,pend=source.length;pbegin!==pend&&0===source[pbegin];)pbegin++,zeroes++;for(var size=(pend-pbegin)*iFACTOR+1>>>0,b58=new Uint8Array(size);pbegin!==pend;){for(var carry=source[pbegin],i=0,it1=size-1;(0!==carry||i<length)&&-1!==it1;it1--,i++)carry+=256*b58[it1]>>>0,b58[it1]=carry%BASE>>>0,carry=carry/BASE>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,pbegin++}for(var it2=size-length;it2!==size&&0===b58[it2];)it2++;for(var str=LEADER.repeat(zeroes);it2<size;++it2)str+=ALPHABET.charAt(b58[it2]);return str},decodeUnsafe,decode:function decode(string){var buffer=decodeUnsafe(string);if(buffer)return buffer;throw new Error(`Non-${name} character`)}}};const base_x=src,coerce=(new Uint8Array(0),o=>{if(o instanceof Uint8Array&&"Uint8Array"===o.constructor.name)return o;if(o instanceof ArrayBuffer)return new Uint8Array(o);if(ArrayBuffer.isView(o))return new Uint8Array(o.buffer,o.byteOffset,o.byteLength);throw new Error("Unknown type, must be binary type")});class Encoder{constructor(name,prefix,baseEncode){this.name=name,this.prefix=prefix,this.baseEncode=baseEncode}encode(bytes){if(bytes instanceof Uint8Array)return`${this.prefix}${this.baseEncode(bytes)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(name,prefix,baseDecode){if(this.name=name,this.prefix=prefix,void 0===prefix.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=prefix.codePointAt(0),this.baseDecode=baseDecode}decode(text){if("string"==typeof text){if(text.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(text.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(decoder){return or(this,decoder)}}class ComposedDecoder{constructor(decoders){this.decoders=decoders}or(decoder){return or(this,decoder)}decode(input){const prefix=input[0],decoder=this.decoders[prefix];if(decoder)return decoder.decode(input);throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(left,right)=>new ComposedDecoder({...left.decoders||{[left.prefix]:left},...right.decoders||{[right.prefix]:right}});class Codec{constructor(name,prefix,baseEncode,baseDecode){this.name=name,this.prefix=prefix,this.baseEncode=baseEncode,this.baseDecode=baseDecode,this.encoder=new Encoder(name,prefix,baseEncode),this.decoder=new Decoder(name,prefix,baseDecode)}encode(input){return this.encoder.encode(input)}decode(input){return this.decoder.decode(input)}}const from=({name,prefix,encode,decode})=>new Codec(name,prefix,encode,decode),baseX=({prefix,name,alphabet})=>{const{encode,decode}=base_x(alphabet,name);return from({prefix,name,encode,decode:text=>coerce(decode(text))})},rfc4648=({name,prefix,bitsPerChar,alphabet})=>from({prefix,name,encode:input=>((data,alphabet,bitsPerChar)=>{const pad="="===alphabet[alphabet.length-1],mask=(1<<bitsPerChar)-1;let out="",bits=0,buffer=0;for(let i=0;i<data.length;++i)for(buffer=buffer<<8|data[i],bits+=8;bits>bitsPerChar;)bits-=bitsPerChar,out+=alphabet[mask&buffer>>bits];if(bits&&(out+=alphabet[mask&buffer<<bitsPerChar-bits]),pad)for(;out.length*bitsPerChar&7;)out+="=";return out})(input,alphabet,bitsPerChar),decode:input=>((string,alphabet,bitsPerChar,name)=>{const codes={};for(let i=0;i<alphabet.length;++i)codes[alphabet[i]]=i;let end=string.length;for(;"="===string[end-1];)--end;const out=new Uint8Array(end*bitsPerChar/8|0);let bits=0,buffer=0,written=0;for(let i=0;i<end;++i){const value=codes[string[i]];if(void 0===value)throw new SyntaxError(`Non-${name} character`);buffer=buffer<<bitsPerChar|value,bits+=bitsPerChar,bits>=8&&(bits-=8,out[written++]=255&buffer>>bits)}if(bits>=bitsPerChar||255&buffer<<8-bits)throw new SyntaxError("Unexpected end of data");return out})(input,alphabet,bitsPerChar,name)}),identity=from({prefix:"\0",name:"identity",encode:buf=>(b=>(new TextDecoder).decode(b))(buf),decode:str=>(str=>(new TextEncoder).encode(str))(str)}),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce(((p,c,i)=>(p[i]=c,p)),[]),alphabetCharsToBytes=alphabet.reduce(((p,c,i)=>(p[c.codePointAt(0)]=i,p)),[]);const base256emoji=from({prefix:"🚀",name:"base256emoji",encode:function base256emoji_encode(data){return data.reduce(((p,c)=>p+=alphabetBytesToChars[c]),"")},decode:function base256emoji_decode(str){const byts=[];for(const char of str){const byt=alphabetCharsToBytes[char.codePointAt(0)];if(void 0===byt)throw new Error(`Non-base256emoji character: ${char}`);byts.push(byt)}return new Uint8Array(byts)}});var encode_1=function varint_encode(num,out,offset){out=out||[];var oldOffset=offset=offset||0;for(;num>=INT;)out[offset++]=255&num|MSB,num/=128;for(;num&MSBALL;)out[offset++]=255&num|MSB,num>>>=7;return out[offset]=0|num,varint_encode.bytes=offset-oldOffset+1,out},MSB=128,MSBALL=-128,INT=Math.pow(2,31);var varint_decode=function read(buf,offset){var b,res=0,shift=0,counter=offset=offset||0,l=buf.length;do{if(counter>=l)throw read.bytes=0,new RangeError("Could not decode varint");b=buf[counter++],res+=shift<28?(b&REST$1)<<shift:(b&REST$1)*Math.pow(2,shift),shift+=7}while(b>=MSB$1);return read.bytes=counter-offset,res},MSB$1=128,REST$1=127;var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63);const vendor_varint={encode:encode_1,decode:varint_decode,encodingLength:function(value){return value<N1?1:value<N2?2:value<N3?3:value<N4?4:value<N5?5:value<N6?6:value<N7?7:value<N8?8:value<N9?9:10}},encodeTo=(int,target,offset=0)=>(vendor_varint.encode(int,target,offset),target),encodingLength=int=>vendor_varint.encodingLength(int),create=(code,digest)=>{const size=digest.byteLength,sizeOffset=encodingLength(code),digestOffset=sizeOffset+encodingLength(size),bytes=new Uint8Array(digestOffset+size);return encodeTo(code,bytes,0),encodeTo(size,bytes,sizeOffset),bytes.set(digest,digestOffset),new Digest(code,size,digest,bytes)};class Digest{constructor(code,size,digest,bytes){this.code=code,this.size=size,this.digest=digest,this.bytes=bytes}}const hasher_from=({name,code,encode})=>new Hasher(name,code,encode);class Hasher{constructor(name,code,encode){this.name=name,this.code=code,this.encode=encode}digest(input){if(input instanceof Uint8Array){const result=this.encode(input);return result instanceof Uint8Array?create(this.code,result):result.then((digest=>create(this.code,digest)))}throw Error("Unknown type, must be binary type")}}const sha=name=>async data=>new Uint8Array(await crypto.subtle.digest(name,data)),sha2_browser_sha256=hasher_from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=hasher_from({name:"sha2-512",code:19,encode:sha("SHA-512")}),identity_encode=coerce,identity_identity={code:0,name:"identity",encode:identity_encode,digest:input=>create(0,identity_encode(input))},raw_name="raw",raw_code=85,raw_encode=node=>coerce(node),raw_decode=data=>coerce(data),textEncoder=new TextEncoder,textDecoder=new TextDecoder,json_name="json",json_code=512,json_encode=node=>textEncoder.encode(JSON.stringify(node)),json_decode=data=>JSON.parse(textDecoder.decode(data));__webpack_require__("./node_modules/console-browserify/index.js");Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const bases={...identity_namespaceObject,...base2_namespaceObject,...base8_namespaceObject,...base10_namespaceObject,...base16_namespaceObject,...base32_namespaceObject,...base36_namespaceObject,...base58_namespaceObject,...base64_namespaceObject,...base256emoji_namespaceObject};function createCodec(name,prefix,encode,decode){return{name,prefix,encoder:{name,prefix,encode},decoder:{decode}}}const string=createCodec("utf8","u",(buf=>"u"+new TextDecoder("utf8").decode(buf)),(str=>(new TextEncoder).encode(str.substring(1)))),ascii=createCodec("ascii","a",(buf=>{let string="a";for(let i=0;i<buf.length;i++)string+=String.fromCharCode(buf[i]);return string}),(str=>{const buf=allocUnsafe((str=str.substring(1)).length);for(let i=0;i<str.length;i++)buf[i]=str.charCodeAt(i);return buf})),util_bases={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function from_string_fromString(string,encoding="utf8"){const base=util_bases[encoding];if(!base)throw new Error(`Unsupported encoding "${encoding}"`);return"utf8"!==encoding&&"utf-8"!==encoding||null==globalThis.Buffer||null==globalThis.Buffer.from?base.decoder.decode(`${base.prefix}${string}`):as_uint8array_asUint8Array(globalThis.Buffer.from(string,"utf-8"))}function to_string_toString(array,encoding="utf8"){const base=util_bases[encoding];if(!base)throw new Error(`Unsupported encoding "${encoding}"`);return"utf8"!==encoding&&"utf-8"!==encoding||null==globalThis.Buffer||null==globalThis.Buffer.from?base.encoder.encode(array).substring(1):globalThis.Buffer.from(array.buffer,array.byteOffset,array.byteLength).toString("utf8")}var process=__webpack_require__("./node_modules/process/browser.js"),__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},BrowserInfo=function BrowserInfo(name,version,os){this.name=name,this.version=version,this.os=os,this.type="browser"},NodeInfo=function NodeInfo(version){this.version=version,this.type="node",this.name="node",this.os=process.platform},SearchBotDeviceInfo=function SearchBotDeviceInfo(name,version,os,bot){this.name=name,this.version=version,this.os=os,this.bot=bot,this.type="bot-device"},BotInfo=function BotInfo(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ReactNativeInfo=function ReactNativeInfo(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(userAgent){return userAgent?parseUserAgent(userAgent):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new ReactNativeInfo:"undefined"!=typeof navigator?parseUserAgent(navigator.userAgent):function getNodeVersion(){return void 0!==process&&process.version?new NodeInfo(process.version.slice(1)):null}()}function matchUserAgent(ua){return""!==ua&&userAgentRules.reduce((function(matched,_a){var browser=_a[0],regex=_a[1];if(matched)return matched;var uaMatch=regex.exec(ua);return!!uaMatch&&[browser,uaMatch]}),!1)}function parseUserAgent(ua){var matchedRule=matchUserAgent(ua);if(!matchedRule)return null;var name=matchedRule[0],match=matchedRule[1];if("searchbot"===name)return new BotInfo;var versionParts=match[1]&&match[1].split(".").join("_").split("_").slice(0,3);versionParts?versionParts.length<REQUIRED_VERSION_PARTS&&(versionParts=__spreadArray(__spreadArray([],versionParts,!0),function createVersionParts(count){for(var output=[],ii=0;ii<count;ii++)output.push("0");return output}(REQUIRED_VERSION_PARTS-versionParts.length),!0)):versionParts=[];var version=versionParts.join("."),os=function detectOS(ua){for(var ii=0,count=operatingSystemRules.length;ii<count;ii++){var _a=operatingSystemRules[ii],os=_a[0];if(_a[1].exec(ua))return os}return null}(ua),searchBotMatch=SEARCHBOT_OS_REGEX.exec(ua);return searchBotMatch&&searchBotMatch[1]?new SearchBotDeviceInfo(name,version,os,searchBotMatch[1]):new BrowserInfo(name,version,os)}var cjs=__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/index.js"),dist_cjs=__webpack_require__("./node_modules/@walletconnect/window-getters/dist/cjs/index.js"),window_metadata_dist_cjs=__webpack_require__("./node_modules/@walletconnect/window-metadata/dist/cjs/index.js"),query_string=__webpack_require__("./node_modules/query-string/index.js");__webpack_require__("./node_modules/@walletconnect/relay-api/dist/esm/types.js");const RELAY_JSONRPC={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var index_es_process=__webpack_require__("./node_modules/process/browser.js"),index_es_console=__webpack_require__("./node_modules/console-browserify/index.js");const K=":";function ve(e){const[n,t]=e.split(K);return{namespace:n,reference:t}}function L(e,n){return e.includes(":")?[e]:n.chains||[]}const J="base10",p="base16",F="base64pad",H="utf8",Q=0,_=1,Dn=0,Pe=1,Z=12,index_es_X=32;function Vn(){return to_string_toString((0,random.randomBytes)(index_es_X),p)}function Ln(e){return to_string_toString((0,sha256.vp)(from_string_fromString(e,H)),p)}function $(e){return Number(to_string_toString(e,J))}function xn(e){const n=function Re(e){return from_string_fromString(`${e}`,J)}(typeof e.type<"u"?e.type:Q);if($(n)===_&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof e.senderPublicKey<"u"?from_string_fromString(e.senderPublicKey,p):void 0,r=typeof e.iv<"u"?from_string_fromString(e.iv,p):(0,random.randomBytes)(Z);return function Te(e){if($(e.type)===_){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return to_string_toString(concat([e.type,e.senderPublicKey,e.iv,e.sealed]),F)}return to_string_toString(concat([e.type,e.iv,e.sealed]),F)}({type:n,sealed:new chacha20poly1305.OK(from_string_fromString(e.symKey,p)).seal(r,from_string_fromString(e.message,H)),iv:r,senderPublicKey:t})}function ee(e){const n=from_string_fromString(e,F),t=n.slice(Dn,Pe),r=Pe;if($(t)===_){const d=r+index_es_X,l=d+Z,c=n.slice(r,d),u=n.slice(d,l);return{type:t,sealed:n.slice(l),iv:u,senderPublicKey:c}}const o=r+Z,s=n.slice(r,o);return{type:t,sealed:n.slice(o),iv:s}}function Ae(e){const n=e?.type||Q;if(n===_){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:n,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function qn(e){return e.type===_&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var Bn=Object.defineProperty,Ue=Object.getOwnPropertySymbols,Gn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,_e=(e,n,t)=>n in e?Bn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Ce=(e,n)=>{for(var t in n||(n={}))Gn.call(n,t)&&_e(e,t,n[t]);if(Ue)for(var t of Ue(n))Wn.call(n,t)&&_e(e,t,n[t]);return e};const je="ReactNative",m={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},De="js";function te(){return typeof index_es_process<"u"&&typeof index_es_process.versions<"u"&&typeof index_es_process.versions.node<"u"}function C(){return!(0,dist_cjs.getDocument)()&&!!(0,dist_cjs.getNavigator)()&&navigator.product===je}function D(){return!te()&&!!(0,dist_cjs.getNavigator)()&&!!(0,dist_cjs.getDocument)()}function T(){return C()?m.reactNative:te()?m.node:D()?m.browser:m.unknown}function Ke(e,n,t){const r=function Ve(){if(T()===m.reactNative&&typeof __webpack_require__.g<"u"&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Platform)<"u"){const{OS:t,Version:r}=__webpack_require__.g.Platform;return[t,r].join("-")}const e=detect();if(null===e)return"unknown";const n=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[n,e.name,e.version].join("-"):[n,e.version].join("-")}(),o=function Me(){var e;const n=T();return n===m.browser?[n,(null==(e=(0,dist_cjs.getLocation)())?void 0:e.host)||"unknown"].join(":"):n}();return[[e,n].join("-"),[De,t].join("-"),r,o].join("/")}function Xn({protocol:e,version:n,relayUrl:t,sdkVersion:r,auth:o,projectId:s,useOnCloseEvent:i,bundleId:d}){const l=t.split("?"),u={auth:o,ua:Ke(e,n,r),projectId:s,useOnCloseEvent:i||void 0,origin:d||void 0},a=function ke(e,n){let t=query_string.parse(e);return t=Ce(Ce({},t),n),query_string.stringify(t)}(l[1]||"",u);return l[0]+"?"+a}function O(e,n){return e.filter((t=>n.includes(t))).length===e.length}function rt(e){return Object.fromEntries(e.entries())}function ot(e){return new Map(Object.entries(e))}function at(e=cjs.FIVE_MINUTES,n){const t=(0,cjs.toMiliseconds)(e||cjs.FIVE_MINUTES);let r,o,s;return{resolve:i=>{s&&r&&(clearTimeout(s),r(i))},reject:i=>{s&&o&&(clearTimeout(s),o(i))},done:()=>new Promise(((i,d)=>{s=setTimeout((()=>{d(new Error(n))}),t),r=i,o=d}))}}function ut(e,n,t){return new Promise((async(r,o)=>{const s=setTimeout((()=>o(new Error(t))),n);try{r(await e)}catch(i){o(i)}clearTimeout(s)}))}function re(e,n){if("string"==typeof n&&n.startsWith(`${e}:`))return n;if("topic"===e.toLowerCase()){if("string"!=typeof n)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${n}`}if("id"===e.toLowerCase()){if("number"!=typeof n)throw new Error('Value must be "number" for expirer target type: id');return`id:${n}`}throw new Error(`Unknown expirer target type: ${e}`)}function ft(e){const[n,t]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===n&&"string"==typeof t)r.topic=t;else{if("id"!==n||!Number.isInteger(Number(t)))throw new Error(`Invalid target, expected id:number or topic:string, got ${n}:${t}`);r.id=Number(t)}return r}function pt(e,n){return(0,cjs.fromMiliseconds)((n||Date.now())+(0,cjs.toMiliseconds)(e))}function mt(e){return Date.now()>=(0,cjs.toMiliseconds)(e)}function yt(e,n){return`${e}${n?`:${n}`:""}`}function S(e=[],n=[]){return[...new Set([...e,...n])]}function vt(e){return e?.relay||{protocol:"irn"}}function Et(e){const n=RELAY_JSONRPC[e];if(typeof n>"u")throw new Error(`Relay Protocol not supported: ${e}`);return n}var bt=Object.defineProperty,qe=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,Be=(e,n,t)=>n in e?bt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;function Ge(e,n="-"){const t={},r="relay"+n;return Object.keys(e).forEach((o=>{if(o.startsWith(r)){const s=o.replace(r,""),i=e[o];t[s]=i}})),t}function wt(e){const n=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),t=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,n),o=e.substring(n+1,t).split("@"),s=typeof t<"u"?e.substring(t):"",i=query_string.parse(s);return{protocol:r,topic:We(o[0]),version:parseInt(o[1],10),symKey:i.symKey,relay:Ge(i)}}function We(e){return e.startsWith("//")?e.substring(2):e}function It(e){return`${e.protocol}:${e.topic}@${e.version}?`+query_string.stringify(((e,n)=>{for(var t in n||(n={}))Nt.call(n,t)&&Be(e,t,n[t]);if(qe)for(var t of qe(n))Ot.call(n,t)&&Be(e,t,n[t]);return e})({symKey:e.symKey},function ze(e,n="-"){const r={};return Object.keys(e).forEach((o=>{const s="relay"+n+o;e[o]&&(r[s]=e[o])})),r}(e.relay)))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function A(e){const n=[];return e.forEach((t=>{const[r,o]=t.split(":");n.push(`${r}:${o}`)})),n}function oe(e){return e.includes(":")}function en(e){return oe(e)?e.split(":")[0]:e}const nn={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tn={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function N(e,n){const{message:t,code:r}=tn[e];return{message:n?`${t} ${n}`:t,code:r}}function index_es_U(e,n){const{message:t,code:r}=nn[e];return{message:n?`${t} ${n}`:t,code:r}}function k(e,n){return!!Array.isArray(e)&&(!(typeof n<"u"&&e.length)||e.every(n))}function B(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function w(e){return typeof e>"u"}function h(e,n){return!(!n||!w(e))||"string"==typeof e&&!!e.trim().length}function G(e,n){return!(!n||!w(e))||"number"==typeof e&&!isNaN(e)}function V(e){return!(!h(e,!1)||!e.includes(":"))&&2===e.split(":").length}function ie(e){let n=!0;return k(e)?e.length&&(n=e.every((t=>h(t,!1)))):n=!1,n}function sn(e,n,t){let r=null;return Object.entries(e).forEach((([o,s])=>{if(r)return;const i=function on(e,n,t){let r=null;return k(n)&&n.length?n.forEach((o=>{r||V(o)||(r=index_es_U("UNSUPPORTED_CHAINS",`${t}, chain ${o} should be a string and conform to "namespace:chainId" format`))})):V(e)||(r=index_es_U("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(o,L(o,s),`${n} ${t}`);i&&(r=i)})),r}function cn(e,n){let t=null;return k(e)?e.forEach((r=>{t||function rn(e){if(h(e,!1)&&e.includes(":")){const n=e.split(":");if(3===n.length){const t=n[0]+":"+n[1];return!!n[2]&&V(t)}}return!1}(r)||(t=index_es_U("UNSUPPORTED_ACCOUNTS",`${n}, account ${r} should be a string and conform to "namespace:chainId:address" format`))})):t=index_es_U("UNSUPPORTED_ACCOUNTS",`${n}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function ce(e,n){let t=null;return Object.values(e).forEach((r=>{if(t)return;const o=function un(e,n){let t=null;return ie(e?.methods)?ie(e?.events)||(t=index_es_U("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):t=index_es_U("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),t}(r,`${n}, namespace`);o&&(t=o)})),t}function ln(e,n){let t=null;if(e&&B(e)){const r=ce(e,n);r&&(t=r);const o=function an(e,n){let t=null;return Object.values(e).forEach((r=>{if(t)return;const o=cn(r?.accounts,`${n} namespace`);o&&(t=o)})),t}(e,n);o&&(t=o)}else t=N("MISSING_OR_INVALID",`${n}, namespaces should be an object with data`);return t}function dn(e){return h(e.protocol,!0)}function Ht(e){return typeof e<"u"&&null!==typeof e}function zt(e,n){return!(!V(n)||!function Qe(e){const n=[];return Object.values(e).forEach((t=>{n.push(...A(t.accounts))})),n}(e).includes(n))}function Yt(e,n,t){return!!h(t,!1)&&function Ze(e,n){const t=[];return Object.values(e).forEach((r=>{A(r.accounts).includes(n)&&t.push(...r.methods)})),t}(e,n).includes(t)}function Jt(e,n,t){return!!h(t,!1)&&function index_es_Xe(e,n){const t=[];return Object.values(e).forEach((r=>{A(r.accounts).includes(n)&&t.push(...r.events)})),t}(e,n).includes(t)}function fn(e,n,t){let r=null;const o=function Qt(e){const n={};return Object.keys(e).forEach((t=>{var r;t.includes(":")?n[t]=e[t]:null==(r=e[t].chains)||r.forEach((o=>{n[o]={methods:e[t].methods,events:e[t].events}}))})),n}(e),s=function Zt(e){const n={};return Object.keys(e).forEach((t=>{if(t.includes(":"))n[t]=e[t];else{const r=A(e[t].accounts);r?.forEach((o=>{n[o]={accounts:e[t].accounts.filter((s=>s.includes(`${o}:`))),methods:e[t].methods,events:e[t].events}}))}})),n}(n),i=Object.keys(o),d=Object.keys(s),l=pn(Object.keys(e)),c=pn(Object.keys(n)),u=l.filter((a=>!c.includes(a)));return u.length&&(r=N("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(n).toString()}`)),O(i,d)||(r=N("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.\n      Required: ${i.toString()}\n      Approved: ${d.toString()}`)),Object.keys(n).forEach((a=>{if(!a.includes(":")||r)return;const b=A(n[a].accounts);b.includes(a)||(r=N("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${a}\n        Required: ${a}\n        Approved: ${b.toString()}`))})),i.forEach((a=>{r||(O(o[a].methods,s[a].methods)?O(o[a].events,s[a].events)||(r=N("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${a}`)):r=N("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${a}`))})),r}function pn(e){return[...new Set(e.map((n=>n.includes(":")?n.split(":")[0]:n)))]}function er(){const e=T();return new Promise((n=>{switch(e){case m.browser:n(function mn(){return D()&&navigator?.onLine}());break;case m.reactNative:n(async function yn(){if(C()&&typeof __webpack_require__.g<"u"&&null!=__webpack_require__.g&&__webpack_require__.g.NetInfo){const e=await(null==__webpack_require__.g?void 0:__webpack_require__.g.NetInfo.fetch());return e?.isConnected}return!0}());break;case m.node:default:n(!0)}}))}function nr(e){switch(T()){case m.browser:!function gn(e){!C()&&D()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case m.reactNative:!function vn(e){C()&&typeof __webpack_require__.g<"u"&&null!=__webpack_require__.g&&__webpack_require__.g.NetInfo&&__webpack_require__.g?.NetInfo.addEventListener((n=>e(n?.isConnected)))}(e);case m.node:}}const ae={};class tr{static get(n){return ae[n]}static set(n,t){ae[n]=t}static delete(n){delete ae[n]}}var dist_console=__webpack_require__("./node_modules/console-browserify/index.js");const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(key,value){if(!("__proto__"===key||"constructor"===key&&value&&"object"==typeof value&&"prototype"in value))return value;(function warnKeyDropped(key){dist_console.warn(`[destr] Dropping "${key}" key to prevent prototype pollution.`)})(key)}function destr(value,options={}){if("string"!=typeof value)return value;const _value=value.trim();if('"'===value[0]&&'"'===value.at(-1)&&!value.includes("\\"))return _value.slice(1,-1);if(_value.length<=9){const _lval=_value.toLowerCase();if("true"===_lval)return!0;if("false"===_lval)return!1;if("undefined"===_lval)return;if("null"===_lval)return null;if("nan"===_lval)return Number.NaN;if("infinity"===_lval)return Number.POSITIVE_INFINITY;if("-infinity"===_lval)return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(value)){if(options.strict)throw new SyntaxError("[destr] Invalid JSON");return value}try{if(suspectProtoRx.test(value)||suspectConstructorRx.test(value)){if(options.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(value,jsonParseTransform)}return JSON.parse(value)}catch(error){if(options.strict)throw error;return value}}var Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;function asyncCall(function_,...arguments_){try{return function wrapToPromise(value){return value&&"function"==typeof value.then?value:Promise.resolve(value)}(function_(...arguments_))}catch(error){return Promise.reject(error)}}function stringify(value){if(function isPrimitive(value){const type=typeof value;return null===value||"object"!==type&&"function"!==type}(value))return String(value);if(function isPureObject(value){const proto=Object.getPrototypeOf(value);return!proto||proto.isPrototypeOf(Object)}(value)||Array.isArray(value))return JSON.stringify(value);if("function"==typeof value.toJSON)return stringify(value.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function checkBufferSupport(){if(void 0===typeof Buffer)throw new TypeError("[unstorage] Buffer is not supported!")}const BASE64_PREFIX="base64:";function normalizeKey(key){return key?key.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function joinKeys(...keys){return normalizeKey(keys.join(":"))}function unstorage_8581f561_normalizeBaseKey(base){return(base=normalizeKey(base))?base+":":""}var unstorage_dist_console=__webpack_require__("./node_modules/console-browserify/index.js");const memory=()=>{const data=new Map;return{name:"memory",options:{},hasItem:key=>data.has(key),getItem:key=>data.get(key)??null,getItemRaw:key=>data.get(key)??null,setItem(key,value){data.set(key,value)},setItemRaw(key,value){data.set(key,value)},removeItem(key){data.delete(key)},getKeys:()=>Array.from(data.keys()),clear(){data.clear()},dispose(){data.clear()}}};function createStorage(options={}){const context={mounts:{"":options.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},getMount=key=>{for(const base of context.mountpoints)if(key.startsWith(base))return{base,relativeKey:key.slice(base.length),driver:context.mounts[base]};return{base:"",relativeKey:key,driver:context.mounts[""]}},getMounts=(base,includeParent)=>context.mountpoints.filter((mountpoint=>mountpoint.startsWith(base)||includeParent&&base.startsWith(mountpoint))).map((mountpoint=>({relativeBase:base.length>mountpoint.length?base.slice(mountpoint.length):void 0,mountpoint,driver:context.mounts[mountpoint]}))),onChange=(event,key)=>{if(context.watching){key=normalizeKey(key);for(const listener of context.watchListeners)listener(event,key)}},stopWatch=async()=>{if(context.watching){for(const mountpoint in context.unwatch)await context.unwatch[mountpoint]();context.unwatch={},context.watching=!1}},runBatch=(items,commonOptions,cb)=>{const batches=new Map,getBatch=mount=>{let batch=batches.get(mount.base);return batch||(batch={driver:mount.driver,base:mount.base,items:[]},batches.set(mount.base,batch)),batch};for(const item of items){const isStringItem="string"==typeof item,key=normalizeKey(isStringItem?item:item.key),value=isStringItem?void 0:item.value,options2=isStringItem||!item.options?commonOptions:{...commonOptions,...item.options},mount=getMount(key);getBatch(mount).items.push({key,value,relativeKey:mount.relativeKey,options:options2})}return Promise.all([...batches.values()].map((batch=>cb(batch)))).then((r=>r.flat()))},storage={hasItem(key,opts={}){key=normalizeKey(key);const{relativeKey,driver}=getMount(key);return asyncCall(driver.hasItem,relativeKey,opts)},getItem(key,opts={}){key=normalizeKey(key);const{relativeKey,driver}=getMount(key);return asyncCall(driver.getItem,relativeKey,opts).then((value=>destr(value)))},getItems:(items,commonOptions)=>runBatch(items,commonOptions,(batch=>batch.driver.getItems?asyncCall(batch.driver.getItems,batch.items.map((item=>({key:item.relativeKey,options:item.options}))),commonOptions).then((r=>r.map((item=>({key:joinKeys(batch.base,item.key),value:destr(item.value)}))))):Promise.all(batch.items.map((item=>asyncCall(batch.driver.getItem,item.relativeKey,item.options).then((value=>({key:item.key,value:destr(value)})))))))),getItemRaw(key,opts={}){key=normalizeKey(key);const{relativeKey,driver}=getMount(key);return driver.getItemRaw?asyncCall(driver.getItemRaw,relativeKey,opts):asyncCall(driver.getItem,relativeKey,opts).then((value=>function deserializeRaw(value){return"string"!=typeof value?value:value.startsWith(BASE64_PREFIX)?(checkBufferSupport(),Buffer.from(value.slice(BASE64_PREFIX.length),"base64")):value}(value)))},async setItem(key,value,opts={}){if(void 0===value)return storage.removeItem(key);key=normalizeKey(key);const{relativeKey,driver}=getMount(key);driver.setItem&&(await asyncCall(driver.setItem,relativeKey,stringify(value),opts),driver.watch||onChange("update",key))},async setItems(items,commonOptions){await runBatch(items,commonOptions,(async batch=>{batch.driver.setItems&&await asyncCall(batch.driver.setItems,batch.items.map((item=>({key:item.relativeKey,value:stringify(item.value),options:item.options}))),commonOptions),batch.driver.setItem&&await Promise.all(batch.items.map((item=>asyncCall(batch.driver.setItem,item.relativeKey,stringify(item.value),item.options))))}))},async setItemRaw(key,value,opts={}){if(void 0===value)return storage.removeItem(key,opts);key=normalizeKey(key);const{relativeKey,driver}=getMount(key);if(driver.setItemRaw)await asyncCall(driver.setItemRaw,relativeKey,value,opts);else{if(!driver.setItem)return;await asyncCall(driver.setItem,relativeKey,function serializeRaw(value){if("string"==typeof value)return value;checkBufferSupport();const base64=Buffer.from(value).toString("base64");return BASE64_PREFIX+base64}(value),opts)}driver.watch||onChange("update",key)},async removeItem(key,opts={}){"boolean"==typeof opts&&(opts={removeMeta:opts}),key=normalizeKey(key);const{relativeKey,driver}=getMount(key);driver.removeItem&&(await asyncCall(driver.removeItem,relativeKey,opts),(opts.removeMeta||opts.removeMata)&&await asyncCall(driver.removeItem,relativeKey+"$",opts),driver.watch||onChange("remove",key))},async getMeta(key,opts={}){"boolean"==typeof opts&&(opts={nativeOnly:opts}),key=normalizeKey(key);const{relativeKey,driver}=getMount(key),meta=Object.create(null);if(driver.getMeta&&Object.assign(meta,await asyncCall(driver.getMeta,relativeKey,opts)),!opts.nativeOnly){const value=await asyncCall(driver.getItem,relativeKey+"$",opts).then((value_=>destr(value_)));value&&"object"==typeof value&&("string"==typeof value.atime&&(value.atime=new Date(value.atime)),"string"==typeof value.mtime&&(value.mtime=new Date(value.mtime)),Object.assign(meta,value))}return meta},setMeta(key,value,opts={}){return this.setItem(key+"$",value,opts)},removeMeta(key,opts={}){return this.removeItem(key+"$",opts)},async getKeys(base,opts={}){base=unstorage_8581f561_normalizeBaseKey(base);const mounts=getMounts(base,!0);let maskedMounts=[];const allKeys=[];for(const mount of mounts){const keys=(await asyncCall(mount.driver.getKeys,mount.relativeBase,opts)).map((key=>mount.mountpoint+normalizeKey(key))).filter((key=>!maskedMounts.some((p=>key.startsWith(p)))));allKeys.push(...keys),maskedMounts=[mount.mountpoint,...maskedMounts.filter((p=>!p.startsWith(mount.mountpoint)))]}return base?allKeys.filter((key=>key.startsWith(base)&&!key.endsWith("$"))):allKeys.filter((key=>!key.endsWith("$")))},async clear(base,opts={}){base=unstorage_8581f561_normalizeBaseKey(base),await Promise.all(getMounts(base,!1).map((async m=>{if(m.driver.clear)return asyncCall(m.driver.clear,m.relativeBase,opts);if(m.driver.removeItem){const keys=await m.driver.getKeys(m.relativeBase||"",opts);return Promise.all(keys.map((key=>m.driver.removeItem(key,opts))))}})))},async dispose(){await Promise.all(Object.values(context.mounts).map((driver=>dispose(driver))))},watch:async callback=>(await(async()=>{if(!context.watching){context.watching=!0;for(const mountpoint in context.mounts)context.unwatch[mountpoint]=await watch(context.mounts[mountpoint],onChange,mountpoint)}})(),context.watchListeners.push(callback),async()=>{context.watchListeners=context.watchListeners.filter((listener=>listener!==callback)),0===context.watchListeners.length&&await stopWatch()}),async unwatch(){context.watchListeners=[],await stopWatch()},mount(base,driver){if((base=unstorage_8581f561_normalizeBaseKey(base))&&context.mounts[base])throw new Error(`already mounted at ${base}`);return base&&(context.mountpoints.push(base),context.mountpoints.sort(((a,b)=>b.length-a.length))),context.mounts[base]=driver,context.watching&&Promise.resolve(watch(driver,onChange,base)).then((unwatcher=>{context.unwatch[base]=unwatcher})).catch(unstorage_dist_console.error),storage},async unmount(base,_dispose=!0){(base=unstorage_8581f561_normalizeBaseKey(base))&&context.mounts[base]&&(context.watching&&base in context.unwatch&&(context.unwatch[base](),delete context.unwatch[base]),_dispose&&await dispose(context.mounts[base]),context.mountpoints=context.mountpoints.filter((key=>key!==base)),delete context.mounts[base])},getMount(key=""){key=normalizeKey(key)+":";const m=getMount(key);return{driver:m.driver,base:m.base}},getMounts(base="",opts={}){base=normalizeKey(base);return getMounts(base,opts.parents).map((m=>({driver:m.driver,base:m.mountpoint})))}};return storage}function watch(driver,onChange,base){return driver.watch?driver.watch(((event,key)=>onChange(event,base+key))):()=>{}}async function dispose(driver){"function"==typeof driver.dispose&&await asyncCall(driver.dispose)}function promisifyRequest(request){return new Promise(((resolve,reject)=>{request.oncomplete=request.onsuccess=()=>resolve(request.result),request.onabort=request.onerror=()=>reject(request.error)}))}function createStore(dbName,storeName){const request=indexedDB.open(dbName);request.onupgradeneeded=()=>request.result.createObjectStore(storeName);const dbp=promisifyRequest(request);return(txMode,callback)=>dbp.then((db=>callback(db.transaction(storeName,txMode).objectStore(storeName))))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(key,customStore=defaultGetStore()){return customStore("readonly",(store=>promisifyRequest(store.get(key))))}function eachCursor(store,callback){return store.openCursor().onsuccess=function(){this.result&&(callback(this.result),this.result.continue())},promisifyRequest(store.transaction)}const JSONStringify=data=>JSON.stringify(data,((_,value)=>"bigint"==typeof value?value.toString()+"n":value)),JSONParse=json=>{const serializedData=json.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(serializedData,((_,value)=>"string"==typeof value&&value.match(/^\d+n$/)?BigInt(value.substring(0,value.length-1)):value))};function esm_safeJsonParse(value){if("string"!=typeof value)throw new Error("Cannot safe json parse value of type "+typeof value);try{return JSONParse(value)}catch(_a){return value}}function safeJsonStringify(value){return"string"==typeof value?value:JSONStringify(value)||""}var index_es_z=(i={})=>{const t=i.base&&i.base.length>0?`${i.base}:`:"",e=s=>t+s;let n;return i.dbName&&i.storeName&&(n=createStore(i.dbName,i.storeName)),{name:"idb-keyval",options:i,hasItem:async s=>!(typeof await get(e(s),n)>"u"),getItem:async s=>await get(e(s),n)??null,setItem:(s,a)=>function set(key,value,customStore=defaultGetStore()){return customStore("readwrite",(store=>(store.put(value,key),promisifyRequest(store.transaction))))}(e(s),a,n),removeItem:s=>function del(key,customStore=defaultGetStore()){return customStore("readwrite",(store=>(store.delete(key),promisifyRequest(store.transaction))))}(e(s),n),getKeys:()=>function keys(customStore=defaultGetStore()){return customStore("readonly",(store=>{if(store.getAllKeys)return promisifyRequest(store.getAllKeys());const items=[];return eachCursor(store,(cursor=>items.push(cursor.key))).then((()=>items))}))}(n),clear:()=>function clear(customStore=defaultGetStore()){return customStore("readwrite",(store=>(store.clear(),promisifyRequest(store.transaction))))}(n)}};class index_es_{constructor(){this.indexedDb=createStorage({driver:index_es_z({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((t=>[t.key,t.value]))}async getItem(t){const e=await this.indexedDb.getItem(t);if(null!==e)return e}async setItem(t,e){await this.indexedDb.setItem(t,safeJsonStringify(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __webpack_require__.g<"u"?__webpack_require__.g:typeof self<"u"?self:{},index_es_c={exports:{}};function index_es_k(i){var t;return[i[0],esm_safeJsonParse(null!=(t=i[1])?t:"")]}!function(){let i;function t(){}i=t,i.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},i.prototype.setItem=function(e,n){this[e]=String(n)},i.prototype.removeItem=function(e){delete this[e]},i.prototype.clear=function(){const e=this;Object.keys(e).forEach((function(n){e[n]=void 0,delete e[n]}))},i.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},i.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof l<"u"&&l.localStorage?index_es_c.exports=l.localStorage:typeof window<"u"&&window.localStorage?index_es_c.exports=window.localStorage:index_es_c.exports=new t}();class index_es_K{constructor(){this.localStorage=index_es_c.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(index_es_k)}async getItem(t){const e=this.localStorage.getItem(t);if(null!==e)return esm_safeJsonParse(e)}async setItem(t,e){this.localStorage.setItem(t,safeJsonStringify(e))}async removeItem(t){this.localStorage.removeItem(t)}}const j=async(i,t)=>{t.length&&t.forEach((async e=>{await i.removeItem(e)}))};class index_es_h{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const t=new index_es_K;this.storage=t;try{(async(i,t,e)=>{const n="wc_storage_version",s=await t.getItem(n);if(s&&s>=1)return void e(t);const a=await i.getKeys();if(!a.length)return void e(t);const m=[];for(;a.length;){const r=a.shift();if(!r)continue;const o=r.toLowerCase();if(o.includes("wc@")||o.includes("walletconnect")||o.includes("wc_")||o.includes("wallet_connect")){const f=await i.getItem(r);await t.setItem(r,f),m.push(r)}}await t.setItem(n,1),e(t),j(i,m)})(t,new index_es_,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise((t=>{const e=setInterval((()=>{this.initialized&&(clearInterval(e),t())}),20)}))}}var heartbeat_dist_cjs=__webpack_require__("./node_modules/@walletconnect/heartbeat/dist/cjs/index.js"),logger_dist_cjs=__webpack_require__("./node_modules/@walletconnect/logger/dist/cjs/index.js"),esm_events=__webpack_require__("./node_modules/@walletconnect/events/dist/esm/events.js");class n extends esm_events.q{constructor(s){super(),this.opts=s,this.protocol="wc",this.version=2}}class dist_index_es_h extends esm_events.q{constructor(s,t){super(),this.core=s,this.logger=t,this.records=new Map}}class a{constructor(s,t){this.logger=s,this.core=t}}class u extends esm_events.q{constructor(s,t){super(),this.relayer=s,this.logger=t}}class g extends esm_events.q{constructor(s){super()}}class index_es_p{constructor(s,t,o,M){this.core=s,this.logger=t,this.name=o}}class d extends esm_events.q{constructor(s,t){super(),this.relayer=s,this.logger=t}}class index_es_E extends esm_events.q{constructor(s,t){super(),this.core=s,this.logger=t}}class index_es_y{constructor(s,t){this.projectId=s,this.logger=t}}class v{constructor(s,t){this.projectId=s,this.logger=t}}class b{constructor(s){this.opts=s,this.protocol="wc",this.version=2}}class index_es_w{constructor(s){this.client=s}}var lib_ed25519=__webpack_require__("./node_modules/@stablelib/ed25519/lib/ed25519.js");const constants_JWT_DELIMITER=".",constants_JWT_ENCODING="base64url",constants_JSON_ENCODING="utf8",constants_DATA_ENCODING="utf8",constants_DID_DELIMITER=":",constants_DID_PREFIX="did",constants_DID_METHOD="key",constants_MULTICODEC_ED25519_ENCODING="base58btc",constants_MULTICODEC_ED25519_BASE="z",constants_MULTICODEC_ED25519_HEADER="K36";function encodeJSON(val){return to_string_toString(from_string_fromString(safeJsonStringify(val),constants_JSON_ENCODING),constants_JWT_ENCODING)}function encodeIss(publicKey){const header=from_string_fromString(constants_MULTICODEC_ED25519_HEADER,constants_MULTICODEC_ED25519_ENCODING),multicodec=constants_MULTICODEC_ED25519_BASE+to_string_toString(concat([header,publicKey]),constants_MULTICODEC_ED25519_ENCODING);return[constants_DID_PREFIX,constants_DID_METHOD,multicodec].join(constants_DID_DELIMITER)}function generateKeyPair(seed=(0,random.randomBytes)(32)){return lib_ed25519._w(seed)}async function signJWT(sub,aud,ttl,keyPair,iat=(0,cjs.fromMiliseconds)(Date.now())){const header={alg:"EdDSA",typ:"JWT"},payload={iss:encodeIss(keyPair.publicKey),sub,aud,iat,exp:iat+ttl},data=function encodeData(params){return from_string_fromString([encodeJSON(params.header),encodeJSON(params.payload)].join(constants_JWT_DELIMITER),constants_DATA_ENCODING)}({header,payload});return function encodeJWT(params){return[encodeJSON(params.header),encodeJSON(params.payload),(bytes=params.signature,to_string_toString(bytes,constants_JWT_ENCODING))].join(constants_JWT_DELIMITER);var bytes}({header,payload,signature:lib_ed25519.Xx(keyPair.secretKey,data)})}__webpack_require__("./node_modules/@walletconnect/relay-auth/dist/esm/types.js");const INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],constants_STANDARD_ERROR_MAP={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},constants_DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(code){return RESERVED_ERROR_CODES.includes(code)}function getError(type){return Object.keys(constants_STANDARD_ERROR_MAP).includes(type)?constants_STANDARD_ERROR_MAP[type]:constants_STANDARD_ERROR_MAP[constants_DEFAULT_ERROR]}function getErrorByCode(code){const match=Object.values(constants_STANDARD_ERROR_MAP).find((e=>e.code===code));return match||constants_STANDARD_ERROR_MAP[constants_DEFAULT_ERROR]}function parseConnectionError(e,url,type){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${type} RPC url at ${url}`):e}var environment_dist_cjs=__webpack_require__("./node_modules/@walletconnect/environment/dist/cjs/index.js");function payloadId(entropy=3){return Date.now()*Math.pow(10,entropy)+Math.floor(Math.random()*Math.pow(10,entropy))}function getBigIntRpcId(entropy=6){return BigInt(payloadId(entropy))}function formatJsonRpcRequest(method,params,id){return{id:id||payloadId(),jsonrpc:"2.0",method,params}}function formatJsonRpcResult(id,result){return{id,jsonrpc:"2.0",result}}function formatJsonRpcError(id,error,data){return{id,jsonrpc:"2.0",error:formatErrorMessage(error,data)}}function formatErrorMessage(error,data){return void 0===error?getError(INTERNAL_ERROR):("string"==typeof error&&(error=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:error})),void 0!==data&&(error.data=data),isReservedErrorCode(error.code)&&(error=getErrorByCode(error.code)),error)}class misc_IEvents{}class IBaseJsonRpcProvider extends misc_IEvents{constructor(){super()}}class IJsonRpcProvider extends IBaseJsonRpcProvider{constructor(connection){super()}}function matchRegexProtocol(url,regex){const protocol=function getUrlProtocol(url){const matches=url.match(new RegExp(/^\w+:/,"gi"));if(matches&&matches.length)return matches[0]}(url);return void 0!==protocol&&new RegExp(regex).test(protocol)}function isHttpUrl(url){return matchRegexProtocol(url,"^https?:")}function isWsUrl(url){return matchRegexProtocol(url,"^wss?:")}function isJsonRpcPayload(payload){return"object"==typeof payload&&"id"in payload&&"jsonrpc"in payload&&"2.0"===payload.jsonrpc}function isJsonRpcRequest(payload){return isJsonRpcPayload(payload)&&"method"in payload}function isJsonRpcResponse(payload){return isJsonRpcPayload(payload)&&(isJsonRpcResult(payload)||isJsonRpcError(payload))}function isJsonRpcResult(payload){return"result"in payload}function isJsonRpcError(payload){return"error"in payload}class JsonRpcProvider extends IJsonRpcProvider{constructor(connection){super(connection),this.events=new events.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(connection),this.connection.connected&&this.registerEventListeners()}async connect(connection=this.connection){await this.open(connection)}async disconnect(){await this.close()}on(event,listener){this.events.on(event,listener)}once(event,listener){this.events.once(event,listener)}off(event,listener){this.events.off(event,listener)}removeListener(event,listener){this.events.removeListener(event,listener)}async request(request,context){return this.requestStrict(formatJsonRpcRequest(request.method,request.params||[],request.id||getBigIntRpcId().toString()),context)}async requestStrict(request,context){return new Promise((async(resolve,reject)=>{if(!this.connection.connected)try{await this.open()}catch(e){reject(e)}this.events.on(`${request.id}`,(response=>{isJsonRpcError(response)?reject(response.error):resolve(response.result)}));try{await this.connection.send(request,context)}catch(e){reject(e)}}))}setConnection(connection=this.connection){return connection}onPayload(payload){this.events.emit("payload",payload),isJsonRpcResponse(payload)?this.events.emit(`${payload.id}`,payload):this.events.emit("message",{type:payload.method,data:payload.params})}onClose(event){event&&3e3===event.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${event.code} ${event.reason?`(${event.reason})`:""}`)),this.events.emit("disconnect")}async open(connection=this.connection){this.connection===connection&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof connection&&(await this.connection.open(connection),connection=this.connection),this.connection=this.setConnection(connection),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(payload=>this.onPayload(payload))),this.connection.on("close",(event=>this.onClose(event))),this.connection.on("error",(error=>this.events.emit("error",error))),this.connection.on("register_error",(error=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const index_es_a=c=>c.split("?")[0],dist_index_es_S=typeof WebSocket<"u"?WebSocket:typeof __webpack_require__.g<"u"&&typeof __webpack_require__.g.WebSocket<"u"?__webpack_require__.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:__webpack_require__("./node_modules/ws/browser.js");class f{constructor(e){if(this.url=e,this.events=new events.EventEmitter,this.registering=!1,!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((n,o)=>{this.events.once("register_error",(s=>{this.resetMaxListeners(),o(s)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return o(new Error("WebSocket connection is missing or invalid"));n(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,n)=>{const o=new URLSearchParams(e).get("origin"),s=(0,environment_dist_cjs.isReactNative)()?{headers:{origin:o}}:{rejectUnauthorized:(url=e,!new RegExp("wss?://localhost(:d{2,5})?").test(url))},i=new dist_index_es_S(e,[],s);var url;typeof WebSocket<"u"||typeof __webpack_require__.g<"u"&&typeof __webpack_require__.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?i.onerror=r=>{const l=r;n(this.emitError(l.error))}:i.on("error",(r=>{n(this.emitError(r))})),i.onopen=()=>{this.onOpen(i),t(i)}}))}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?esm_safeJsonParse(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),s=formatJsonRpcError(e,n.message||n.toString());this.events.emit("payload",s)}parseError(e,t=this.url){return parseConnectionError(e,index_es_a(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${index_es_a(this.url)}`));return this.events.emit("register_error",t),t}}var lodash_isequal=__webpack_require__("./node_modules/lodash.isequal/index.js"),lodash_isequal_default=__webpack_require__.n(lodash_isequal),browser=__webpack_require__("./node_modules/isomorphic-unfetch/browser.js"),browser_default=__webpack_require__.n(browser),dist_index_es_process=__webpack_require__("./node_modules/process/browser.js");var Ji=function Hi(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(255!==t[o])throw new TypeError(n+" is ambiguous");t[o]=s}var a=r.length,h=r.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function y(u){if("string"!=typeof u)throw new TypeError("Expected String");if(0===u.length)return new Uint8Array;var m=0;if(" "!==u[m]){for(var z=0,I=0;u[m]===h;)z++,m++;for(var _=(u.length-m)*l+1>>>0,S=new Uint8Array(_);u[m];){var f=t[u.charCodeAt(m)];if(255===f)return;for(var T=0,A=_-1;(0!==f||T<I)&&-1!==A;A--,T++)f+=a*S[A]>>>0,S[A]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");I=T,m++}if(" "!==u[m]){for(var C=_-I;C!==_&&0===S[C];)C++;for(var x=new Uint8Array(z+(_-C)),q=z;C!==_;)x[q++]=S[C++];return x}}}return{encode:function p(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===u.length)return"";for(var m=0,z=0,I=0,_=u.length;I!==_&&0===u[I];)I++,m++;for(var S=(_-I)*d+1>>>0,f=new Uint8Array(S);I!==_;){for(var T=u[I],A=0,C=S-1;(0!==T||A<z)&&-1!==C;C--,A++)T+=256*f[C]>>>0,f[C]=T%a>>>0,T=T/a>>>0;if(0!==T)throw new Error("Non-zero carry");z=A,I++}for(var x=S-z;x!==S&&0===f[x];)x++;for(var q=h.repeat(m);x<S;++x)q+=r.charAt(f[x]);return q},decodeUnsafe:y,decode:function M(u){var m=y(u);if(m)return m;throw new Error(`Non-${e} character`)}}},Xi=Ji;const index_es_Ne=r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};class Zi{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class es{constructor(e,t,i){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return index_es_Ue(this,e)}}class ts{constructor(e){this.decoders=e}or(e){return index_es_Ue(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const index_es_Ue=(r,e)=>new ts({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class is{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new Zi(e,t,i),this.decoder=new es(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const W=({name:r,prefix:e,encode:t,decode:i})=>new is(r,e,t,i),index_es_B=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=Xi(t,e);return W({prefix:r,name:e,encode:i,decode:n=>index_es_Ne(s(n))})},index_es_g=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>W({prefix:e,name:r,encode:s=>((r,e,t)=>{const i="="===e[e.length-1],s=(1<<t)-1;let n="",o=0,a=0;for(let h=0;h<r.length;++h)for(a=a<<8|r[h],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+="=";return n})(s,i,t),decode:s=>((r,e,t,i)=>{const s={};for(let d=0;d<e.length;++d)s[e[d]]=d;let n=r.length;for(;"="===r[n-1];)--n;const o=new Uint8Array(n*t/8|0);let a=0,h=0,l=0;for(let d=0;d<n;++d){const p=s[r[d]];if(void 0===p)throw new SyntaxError(`Non-${i} character`);h=h<<t|p,a+=t,a>=8&&(a-=8,o[l++]=255&h>>a)}if(a>=t||255&h<<8-a)throw new SyntaxError("Unexpected end of data");return o})(s,i,t,r)}),ns=W({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)});var os=Object.freeze({__proto__:null,identity:ns});const as=index_es_g({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var hs=Object.freeze({__proto__:null,base2:as});const cs=index_es_g({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var us=Object.freeze({__proto__:null,base8:cs});const ls=index_es_B({prefix:"9",name:"base10",alphabet:"0123456789"});var ds=Object.freeze({__proto__:null,base10:ls});const gs=index_es_g({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ps=index_es_g({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ds=Object.freeze({__proto__:null,base16:gs,base16upper:ps});const ys=index_es_g({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ms=index_es_g({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bs=index_es_g({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fs=index_es_g({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Es=index_es_g({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ws=index_es_g({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vs=index_es_g({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Is=index_es_g({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cs=index_es_g({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rs=Object.freeze({__proto__:null,base32:ys,base32upper:ms,base32pad:bs,base32padupper:fs,base32hex:Es,base32hexupper:ws,base32hexpad:vs,base32hexpadupper:Is,base32z:Cs});const _s=index_es_B({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ss=index_es_B({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ts=Object.freeze({__proto__:null,base36:_s,base36upper:Ss});const Ps=index_es_B({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xs=index_es_B({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Os=Object.freeze({__proto__:null,base58btc:Ps,base58flickr:xs});const As=index_es_g({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zs=index_es_g({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ns=index_es_g({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Us=index_es_g({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ls=Object.freeze({__proto__:null,base64:As,base64pad:zs,base64url:Ns,base64urlpad:Us});const index_es_Le=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Fs=index_es_Le.reduce(((r,e,t)=>(r[t]=e,r)),[]),$s=index_es_Le.reduce(((r,e,t)=>(r[e.codePointAt(0)]=t,r)),[]);const Ks=W({prefix:"🚀",name:"base256emoji",encode:function Ms(r){return r.reduce(((e,t)=>e+=Fs[t]),"")},decode:function ks(r){const e=[];for(const t of r){const i=$s[t.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}});var Bs=Object.freeze({__proto__:null,base256emoji:Ks}),Vs=function index_es_$e(r,e,t){e=e||[];for(var i=t=t||0;r>=Gs;)e[t++]=255&r|index_es_Fe,r/=128;for(;r&qs;)e[t++]=255&r|index_es_Fe,r>>>=7;return e[t]=0|r,index_es_$e.bytes=t-i+1,e},index_es_Fe=128,qs=-128,Gs=Math.pow(2,31);var Ys=function he(r,i){var o,t=0,s=0,n=i=i||0,a=r.length;do{if(n>=a)throw he.bytes=0,new RangeError("Could not decode varint");o=r[n++],t+=s<28?(o&index_es_Me)<<s:(o&index_es_Me)*Math.pow(2,s),s+=7}while(o>=Hs);return he.bytes=n-i,t},Hs=128,index_es_Me=127;var Js=Math.pow(2,7),Xs=Math.pow(2,14),Ws=Math.pow(2,21),Qs=Math.pow(2,28),Zs=Math.pow(2,35),index_es_er=Math.pow(2,42),index_es_tr=Math.pow(2,49),ir=Math.pow(2,56),sr=Math.pow(2,63),index_es_ke={encode:Vs,decode:Ys,encodingLength:function(r){return r<Js?1:r<Xs?2:r<Ws?3:r<Qs?4:r<Zs?5:r<index_es_er?6:r<index_es_tr?7:r<ir?8:r<sr?9:10}};const index_es_Ke=(r,e,t=0)=>(index_es_ke.encode(r,e,t),e),index_es_Be=r=>index_es_ke.encodingLength(r),index_es_ce=(r,e)=>{const t=e.byteLength,i=index_es_Be(r),s=i+index_es_Be(t),n=new Uint8Array(s+t);return index_es_Ke(r,n,0),index_es_Ke(t,n,i),n.set(e,s),new index_es_or(r,t,e,n)};class index_es_or{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s}}const index_es_Ve=({name:r,code:e,encode:t})=>new ar(r,e,t);class ar{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?index_es_ce(this.code,t):t.then((i=>index_es_ce(this.code,i)))}throw Error("Unknown type, must be binary type")}}const index_es_je=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),hr=index_es_Ve({name:"sha2-256",code:18,encode:index_es_je("SHA-256")}),cr=index_es_Ve({name:"sha2-512",code:19,encode:index_es_je("SHA-512")});Object.freeze({__proto__:null,sha256:hr,sha512:cr});const index_es_Ge=index_es_Ne,gr={code:0,name:"identity",encode:index_es_Ge,digest:r=>index_es_ce(0,index_es_Ge(r))};Object.freeze({__proto__:null,identity:gr});new TextEncoder,new TextDecoder;const index_es_Ye={...os,...hs,...us,...ds,...Ds,...Rs,...Ts,...Os,...Ls,...Bs};function index_es_He(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function index_es_Je(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const dist_index_es_Xe=index_es_Je("utf8","u",(r=>"u"+new TextDecoder("utf8").decode(r)),(r=>(new TextEncoder).encode(r.substring(1)))),ue=index_es_Je("ascii","a",(r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}),(r=>{const e=function Dr(r=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?index_es_He(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e})),yr={utf8:dist_index_es_Xe,"utf-8":dist_index_es_Xe,hex:index_es_Ye.base16,latin1:ue,ascii:ue,binary:ue,...index_es_Ye};const index_es_Qe_logger="error",index_es_Ze={database:":memory:"},de="client_ed25519_seed",index_es_tt=cjs.ONE_DAY,index_es_ot=cjs.SIX_HOURS,pe="wss://relay.walletconnect.org",dist_index_es_D_message="relayer_message",dist_index_es_D_message_ack="relayer_message_ack",dist_index_es_D_connect="relayer_connect",dist_index_es_D_disconnect="relayer_disconnect",dist_index_es_D_error="relayer_error",dist_index_es_D_connection_stalled="relayer_connection_stalled",dist_index_es_D_publish="relayer_publish",P_payload="payload",P_connect="connect",P_disconnect="disconnect",P_error="error",index_es_dt=cjs.ONE_SECOND,core_dist_index_es_w_created="subscription_created",core_dist_index_es_w_deleted="subscription_deleted",core_dist_index_es_w_sync="subscription_sync",core_dist_index_es_w_resubscribed="subscription_resubscribed",index_es_ft=1e3*cjs.FIVE_SECONDS,index_es_F={wc_pairingDelete:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:0}}},index_es_V_create="pairing_create",index_es_V_expire="pairing_expire",index_es_V_delete="pairing_delete",index_es_V_ping="pairing_ping",R_created="history_created",R_updated="history_updated",R_deleted="history_deleted",R_sync="history_sync",index_es_v_created="expirer_created",index_es_v_deleted="expirer_deleted",index_es_v_expired="expirer_expired",index_es_v_sync="expirer_sync",index_es_$="https://verify.walletconnect.com",index_es_ee="https://verify.walletconnect.org",index_es_t=[index_es_$,index_es_ee];class index_es_Pt{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix="wc@2:core:",this.init=async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()},this.get=i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>"u"){const{message:n}=N("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(n)}return s},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name)}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,rt(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ot(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=N("NOT_INITIALIZED",this.name);throw new Error(e)}}}class index_es_xt{constructor(e,t,i){this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();return encodeIss(generateKeyPair(await this.getClientSeed()).publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=function kn(){const e=x25519.Au();return{privateKey:to_string_toString(e.secretKey,p),publicKey:to_string_toString(e.publicKey,p)}}();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const o=generateKeyPair(await this.getClientSeed()),a=Vn(),h=index_es_tt;return await signJWT(a,s,h,o)},this.generateSharedKey=(s,n,o)=>{this.isInitialized();const h=function Mn(e,n){const t=x25519.gi(from_string_fromString(e,p),from_string_fromString(n,p),!0);return to_string_toString(new hkdf.t(sha256.mE,t).expand(index_es_X),p)}(this.getPrivateKey(s),n);return this.setSymKey(h,o)},this.setSymKey=async(s,n)=>{this.isInitialized();const o=n||function Kn(e){return to_string_toString((0,sha256.vp)(from_string_fromString(e,p)),p)}(s);return await this.keychain.set(o,s),o},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,n,o)=>{this.isInitialized();const a=Ae(o),h=safeJsonStringify(n);if(qn(a)){const y=a.senderPublicKey,M=a.receiverPublicKey;s=await this.generateSharedKey(y,M)}const l=this.getSymKey(s),{type:d,senderPublicKey:p}=a;return xn({type:d,symKey:l,message:h,senderPublicKey:p})},this.decode=async(s,n,o)=>{this.isInitialized();const a=function Hn(e,n){const t=ee(e);return Ae({type:$(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?to_string_toString(t.senderPublicKey,p):void 0,receiverPublicKey:n?.receiverPublicKey})}(n,o);if(qn(a)){const h=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(h,l)}try{const l=function Fn(e){const n=new chacha20poly1305.OK(from_string_fromString(e.symKey,p)),{sealed:t,iv:r}=ee(e.encoded),o=n.open(r,t);if(null===o)throw new Error("Failed to decrypt");return to_string_toString(o,H)}({symKey:this.getSymKey(s),encoded:n});return esm_safeJsonParse(l)}catch(h){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(h)}},this.getPayloadType=s=>$(ee(s).type),this.getPayloadSenderPublicKey=s=>{const n=ee(s);return n.senderPublicKey?to_string_toString(n.senderPublicKey,p):void 0},this.core=e,this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name),this.keychain=i||new index_es_Pt(this.core,this.logger)}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(de)}catch{e=Vn(),await this.keychain.set(de,e)}return function mr(r,e="utf8"){const t=yr[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${r}`):index_es_He(globalThis.Buffer.from(r,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=N("NOT_INITIALIZED",this.name);throw new Error(e)}}}class index_es_Ot extends a{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix="wc@2:core:",this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,s)=>{this.isInitialized();const n=Ln(s);let o=this.messages.get(i);return typeof o>"u"&&(o={}),typeof o[n]<"u"||(o[n]=s,this.messages.set(i,o),await this.persist()),n},this.get=i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>"u"&&(s={}),s},this.has=(i,s)=>{this.isInitialized();return typeof this.get(i)[Ln(s)]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=(0,logger_dist_cjs.generateChildLogger)(e,this.name),this.core=t}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,rt(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ot(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=N("NOT_INITIALIZED",this.name);throw new Error(e)}}}class vr extends u{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new events.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,cjs.toMiliseconds)(cjs.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(i,s,n)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:s,opts:n}});try{const a=n?.ttl||index_es_ot,h=vt(n),l=n?.prompt||!1,d=n?.tag||0,p=n?.id||getBigIntRpcId().toString(),y={topic:i,message:s,opts:{ttl:a,relay:h,prompt:l,tag:d,id:p}},M=setTimeout((()=>this.queue.set(p,y)),this.publishTimeout);try{await await ut(this.rpcPublish(i,s,a,h,l,d,p),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(p),this.relayer.events.emit(dist_index_es_D_publish,y)}catch(u){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,null!=(o=n?.internal)&&o.throwOnFailedPublish)throw this.removeRequestFromQueue(p),u;return}finally{clearTimeout(M)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:s,opts:n}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(i,s)=>{this.events.on(i,s)},this.once=(i,s)=>{this.events.once(i,s)},this.off=(i,s)=>{this.events.off(i,s)},this.removeListener=(i,s)=>{this.events.removeListener(i,s)},this.relayer=e,this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}rpcPublish(e,t,i,s,n,o,a){var h,l,d,p;const y={method:Et(s.protocol).publish,params:{topic:e,message:t,ttl:i,prompt:n,tag:o},id:a};return w(null==(h=y.params)?void 0:h.prompt)&&(null==(l=y.params)||delete l.prompt),w(null==(d=y.params)?void 0:d.tag)&&(null==(p=y.params)||delete p.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:y}),this.relayer.request(y)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach((async e=>{const{topic:t,message:i,opts:s}=e;await this.publish(t,i,s)}))}registerEventListeners(){this.relayer.core.heartbeat.on(heartbeat_dist_cjs.HEARTBEAT_EVENTS.pulse,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(dist_index_es_D_connection_stalled);this.checkQueue()})),this.relayer.on(dist_index_es_D_message_ack,(e=>{this.removeRequestFromQueue(e.id.toString())}))}}class Ir{constructor(){this.map=new Map,this.set=(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter((n=>n!==t));s.length?this.map.set(e,s):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Cr=Object.defineProperty,Rr=Object.defineProperties,_r=Object.getOwnPropertyDescriptors,index_es_At=Object.getOwnPropertySymbols,Sr=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable,index_es_zt=(r,e,t)=>e in r?Cr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_j=(r,e)=>{for(var t in e||(e={}))Sr.call(e,t)&&index_es_zt(r,t,e[t]);if(index_es_At)for(var t of index_es_At(e))Tr.call(e,t)&&index_es_zt(r,t,e[t]);return r},index_es_De=(r,e)=>Rr(r,_r(e));class index_es_Nt extends d{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new Ir,this.events=new events.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix="wc@2:core:",this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(i,s)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}});try{const n=vt(s),o={topic:i,relay:n};this.pending.set(i,o);const a=await this.rpcSubscribe(i,n);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}}),a}catch(n){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(n),n}},this.unsubscribe=async(i,s)=>{await this.restartToComplete(),this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)},this.isSubscribed=async i=>!!this.topics.includes(i)||await new Promise(((s,n)=>{const o=new cjs.Watch;o.start(this.pendingSubscriptionWatchLabel);const a=setInterval((()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=index_es_ft&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),n(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1)),this.on=(i,s)=>{this.events.on(i,s)},this.once=(i,s)=>{this.events.once(i,s)},this.off=(i,s)=>{this.events.off(i,s)},this.removeListener=(i,s)=>{this.events.removeListener(i,s)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map((async s=>await this.unsubscribeById(e,s,t))))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{const s=vt(i);await this.rpcUnsubscribe(e,t,s);const n=index_es_U("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,t){const i={method:Et(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await ut(this.relayer.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(dist_index_es_D_connection_stalled)}return Ln(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const i={method:Et(e[0].relay.protocol).batchSubscribe,params:{topics:e.map((s=>s.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await ut(this.relayer.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(dist_index_es_D_connection_stalled)}}rpcUnsubscribe(e,t,i){const s={method:Et(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,index_es_De(index_es_j({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach((t=>{this.setSubscription(t.id,index_es_j({},t)),this.pending.delete(t.topic)}))}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,index_es_j({},t)),this.topicMap.set(t.topic,e),this.events.emit(core_dist_index_es_w_created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=N("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(core_dist_index_es_w_deleted,index_es_De(index_es_j({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(core_dist_index_es_w_sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(core_dist_index_es_w_resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);k(t)&&this.onBatchSubscribe(t.map(((i,s)=>index_es_De(index_es_j({},e[s]),{id:i}))))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach((t=>{e.push(t)})),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(heartbeat_dist_cjs.HEARTBEAT_EVENTS.pulse,(async()=>{await this.checkPending()})),this.relayer.on(dist_index_es_D_connect,(async()=>{await this.onConnect()})),this.relayer.on(dist_index_es_D_disconnect,(()=>{this.onDisconnect()})),this.events.on(core_dist_index_es_w_created,(async e=>{const t=core_dist_index_es_w_created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})),this.events.on(core_dist_index_es_w_deleted,(async e=>{const t=core_dist_index_es_w_deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=N("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise((e=>{const t=setInterval((()=>{this.restartInProgress||(clearInterval(t),e())}),this.pollingInterval)}))}}var Pr=Object.defineProperty,index_es_Ut=Object.getOwnPropertySymbols,xr=Object.prototype.hasOwnProperty,Or=Object.prototype.propertyIsEnumerable,index_es_Lt=(r,e,t)=>e in r?Pr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class index_es_Ft extends g{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new events.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(i){throw this.logger.debug("Failed to Publish Request"),this.logger.error(i),i}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(dist_index_es_D_connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(dist_index_es_D_error,t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(P_payload,this.onPayloadHandler),this.provider.on(P_connect,this.onConnectHandler),this.provider.on(P_disconnect,this.onDisconnectHandler),this.provider.on(P_error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?(0,logger_dist_cjs.generateChildLogger)(e.logger,this.name):(0,logger_dist_cjs.pino)((0,logger_dist_cjs.getDefaultLoggerOptions)({level:e.logger||"error"})),this.messages=new index_es_Ot(this.logger,e.core),this.subscriber=new index_es_Nt(this,this.logger),this.publisher=new vr(this,this.logger),this.relayUrl=e?.relayUrl||"wss://relay.walletconnect.com",this.projectId=e.projectId,this.bundleId=function Jn(){var e;try{return C()&&typeof __webpack_require__.g<"u"&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Application)<"u"?null==(e=__webpack_require__.g.Application)?void 0:e.applicationId:void 0}catch{return}}(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${pe}...`),await this.restartTransport(pe)}this.initialized=!0,setTimeout((async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)}),1e4)}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var i;this.isInitialized();let n,s=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";if(s)return s;const o=a=>{a.topic===e&&(this.subscriber.off(core_dist_index_es_w_created,o),n())};return await Promise.all([new Promise((a=>{n=a,this.subscriber.on(core_dist_index_es_w_created,o)})),new Promise((async a=>{s=await this.subscriber.subscribe(e,t),a()}))]),s}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await ut(this.provider.disconnect(),1e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise((t=>{if(!this.initialized)return t();this.subscriber.once(core_dist_index_es_w_resubscribed,(()=>{t()}))})),new Promise((async(t,i)=>{try{await ut(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(s){return void i(s)}t()}))])}catch(t){this.logger.error(t);const i=t;if(!this.isConnectionStalled(i.message))throw t;this.provider.events.emit(P_disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await er())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some((t=>e.includes(t)))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new JsonRpcProvider(new f(Xn({sdkVersion:"2.11.0",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:i}=e;await this.messages.set(t,i)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||0===i.length)return this.logger.debug(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const s=this.messages.has(t,i);return s&&this.logger.debug(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),isJsonRpcRequest(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:i,message:s,publishedAt:n}=t.data,o={topic:i,message:s,publishedAt:n};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(((r,e)=>{for(var t in e||(e={}))xr.call(e,t)&&index_es_Lt(r,t,e[t]);if(index_es_Ut)for(var t of index_es_Ut(e))Or.call(e,t)&&index_es_Lt(r,t,e[t]);return r})({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else isJsonRpcResponse(e)&&this.events.emit(dist_index_es_D_message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(dist_index_es_D_message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=formatJsonRpcResult(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(P_payload,this.onPayloadHandler),this.provider.off(P_connect,this.onConnectHandler),this.provider.off(P_disconnect,this.onDisconnectHandler),this.provider.off(P_error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(dist_index_es_D_connection_stalled,(()=>{this.restartTransport().catch((t=>this.logger.error(t)))}));let e=await er();nr((async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch((i=>this.logger.error(i))):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch((i=>this.logger.error(i)))))}))}onProviderDisconnect(){this.events.emit(dist_index_es_D_disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout((async()=>{await this.restartTransport().catch((e=>this.logger.error(e)))}),(0,cjs.toMiliseconds)(index_es_dt)))}isInitialized(){if(!this.initialized){const{message:e}=N("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise((e=>{const t=setInterval((()=>{this.connected&&(clearInterval(t),e())}),this.connectionStatusPollingInterval)}));await this.restartTransport()}}}var zr=Object.defineProperty,index_es_$t=Object.getOwnPropertySymbols,Nr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,index_es_Mt=(r,e,t)=>e in r?zr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_kt=(r,e)=>{for(var t in e||(e={}))Nr.call(e,t)&&index_es_Mt(r,t,e[t]);if(index_es_$t)for(var t of index_es_$t(e))Ur.call(e,t)&&index_es_Mt(r,t,e[t]);return r};class index_es_Kt extends index_es_p{constructor(e,t,i,s="wc@2:core:",n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix="wc@2:core:",this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((o=>{this.getKey&&null!==o&&!w(o)?this.map.set(this.getKey(o),o):function Vt(e){var n;return null==(n=e?.proposer)?void 0:n.publicKey}(o)?this.map.set(o.id,o):function Mt(e){return e?.topic}(o)&&this.map.set(o.topic,o)})),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter((a=>Object.keys(o).every((h=>lodash_isequal_default()(a[h],o[h]))))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const h=index_es_kt(index_es_kt({},this.getData(o)),a);this.map.set(o,h),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=n}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:i}=N("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=N("NOT_INITIALIZED",this.name);throw new Error(e)}}}class index_es_Bt{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(events_default()),this.initialized=!1,this.storagePrefix="wc@2:core:",this.ignoredPayloadTypes=[_],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async()=>{this.isInitialized();const i=Vn(),s=await this.core.crypto.setSymKey(i),n=pt(cjs.FIVE_MINUTES),o={protocol:"irn"},a={topic:s,expiry:n,relay:o,active:!1},h=It({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:o});return await this.pairings.set(s,a),await this.core.relayer.subscribe(s),this.core.expirer.set(s,n),{topic:s,uri:h}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);const{topic:s,symKey:n,relay:o}=wt(i.uri);let a;if(this.pairings.keys.includes(s)&&(a=this.pairings.get(s),a.active))throw new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);const h=pt(cjs.FIVE_MINUTES),l={topic:s,relay:o,expiry:h,active:!1};return await this.pairings.set(s,l),this.core.expirer.set(s,h),i.activatePairing&&await this.activate({topic:s}),this.events.emit(index_es_V_create,l),this.core.crypto.keychain.has(s)||(await this.core.crypto.setSymKey(n,s),await this.core.relayer.subscribe(s,{relay:o})),l},this.activate=async({topic:i})=>{this.isInitialized();const s=pt(cjs.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:s}),this.core.expirer.set(i,s)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:h}=at();this.events.once(yt("pairing_ping",n),(({error:l})=>{l?h(l):a()})),await o()}},this.updateExpiry=async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})},this.updateMetadata=async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",index_es_U("USER_DISCONNECTED")),await this.deletePairing(s))},this.sendRequest=async(i,s,n)=>{const o=formatJsonRpcRequest(s,n),a=await this.core.crypto.encode(i,o),h=index_es_F[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,h),o.id},this.sendResult=async(i,s,n)=>{const o=formatJsonRpcResult(i,n),a=await this.core.crypto.encode(s,o),h=await this.core.history.get(s,i),l=index_es_F[h.request.method].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)},this.sendError=async(i,s,n)=>{const o=formatJsonRpcError(i,n),a=await this.core.crypto.encode(s,o),h=await this.core.history.get(s,i),l=index_es_F[h.request.method]?index_es_F[h.request.method].res:index_es_F.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)},this.deletePairing=async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,index_es_U("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{const i=this.pairings.getAll().filter((s=>mt(s.expiry)));await Promise.all(i.map((s=>this.deletePairing(s.topic))))},this.onRelayEventRequest=i=>{const{topic:s,payload:n}=i;switch(n.method){case"wc_pairingPing":return this.onPairingPingRequest(s,n);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,n);default:return this.onUnknownRpcMethodRequest(s,n)}},this.onRelayEventResponse=async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;return"wc_pairingPing"===o?this.onPairingPingResponse(s,n):this.onUnknownRpcMethodResponse(o)},this.onPairingPingRequest=async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(index_es_V_ping,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}},this.onPairingPingResponse=(i,s)=>{const{id:n}=s;setTimeout((()=>{isJsonRpcResult(s)?this.events.emit(yt("pairing_ping",n),{}):isJsonRpcError(s)&&this.events.emit(yt("pairing_ping",n),{error:s.error})}),500)},this.onPairingDeleteRequest=async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(index_es_V_delete,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=index_es_U("WC_METHOD_UNSUPPORTED",o);await this.sendError(n,i,a),this.logger.error(a)}catch(a){await this.sendError(n,i,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(index_es_U("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{var s;if(!Ht(i)){const{message:o}=N("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(o)}if(!function kt(e){if(h(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}(i.uri)){const{message:o}=N("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(o)}const n=wt(i.uri);if(null==(s=n?.relay)||!s.protocol){const{message:o}=N("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(o)}if(null==n||!n.symKey){const{message:o}=N("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(o)}},this.isValidPing=async i=>{if(!Ht(i)){const{message:n}=N("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)},this.isValidDisconnect=async i=>{if(!Ht(i)){const{message:n}=N("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async i=>{if(!h(i,!1)){const{message:s}=N("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=N("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if(mt(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=N("EXPIRED",`pairing topic: ${i}`);throw new Error(s)}},this.core=e,this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name),this.pairings=new index_es_Kt(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=N("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(dist_index_es_D_message,(async e=>{const{topic:t,message:i}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;const s=await this.core.crypto.decode(t,i);try{isJsonRpcRequest(s)?(this.core.history.set(t,s),this.onRelayEventRequest({topic:t,payload:s})):isJsonRpcResponse(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:t,payload:s}),this.core.history.delete(t,s.id))}catch(n){this.logger.error(n)}}))}registerExpirerEvents(){this.core.expirer.on(index_es_v_expired,(async e=>{const{topic:t}=ft(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(index_es_V_expire,{topic:t}))}))}}class index_es_Vt extends dist_index_es_h{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new events.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix="wc@2:core:",this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((i=>this.records.set(i.id,i))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,s,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:pt(cjs.THIRTY_DAYS)};this.records.set(o.id,o),this.events.emit(R_created,o)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>"u"&&(s.response=isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.events.emit(R_updated,s))},this.get=async(i,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:s}),await this.getRecord(s)),this.delete=(i,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach((n=>{if(n.topic===i){if(typeof s<"u"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(R_deleted,n)}}))},this.exists=async(i,s)=>(this.isInitialized(),!!this.records.has(s)&&(await this.getRecord(s)).topic===i),this.on=(i,s)=>{this.events.on(i,s)},this.once=(i,s)=>{this.events.once(i,s)},this.off=(i,s)=>{this.events.off(i,s)},this.removeListener=(i,s)=>{this.events.removeListener(i,s)},this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name)}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach((t=>{if(typeof t.response<"u")return;const i={topic:t.topic,request:formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)})),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=N("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(R_sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(R_created,(e=>{const t=R_created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})),this.events.on(R_updated,(e=>{const t=R_updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})),this.events.on(R_deleted,(e=>{const t=R_deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})),this.core.heartbeat.on(heartbeat_dist_cjs.HEARTBEAT_EVENTS.pulse,(()=>{this.cleanup()}))}cleanup(){try{this.records.forEach((e=>{(0,cjs.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))}))}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=N("NOT_INITIALIZED",this.name);throw new Error(e)}}}class index_es_jt extends index_es_E{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new events.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix="wc@2:core:",this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((i=>this.expirations.set(i.target,i))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(index_es_v_created,{target:n,expiration:o})},this.get=i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)},this.del=i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(index_es_v_deleted,{target:s,expiration:n})}},this.on=(i,s)=>{this.events.on(i,s)},this.once=(i,s)=>{this.events.once(i,s)},this.off=(i,s)=>{this.events.off(i,s)},this.removeListener=(i,s)=>{this.events.removeListener(i,s)},this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name)}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function lt(e){return re("topic",e)}(e);if("number"==typeof e)return function dt(e){return re("id",e)}(e);const{message:t}=N("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(index_es_v_sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=N("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;(0,cjs.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(index_es_v_expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((e,t)=>this.checkExpiry(t,e)))}registerEventListeners(){this.core.heartbeat.on(heartbeat_dist_cjs.HEARTBEAT_EVENTS.pulse,(()=>this.checkExpirations())),this.events.on(index_es_v_created,(e=>{const t=index_es_v_created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(index_es_v_expired,(e=>{const t=index_es_v_expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(index_es_v_deleted,(e=>{const t=index_es_v_deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=N("NOT_INITIALIZED",this.name);throw new Error(e)}}}class index_es_qt extends index_es_y{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name="verify-api",this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async i=>{if(this.verifyDisabled||C()||!D())return;const s=this.getVerifyUrl(i?.verifyUrl);this.verifyUrl!==s&&this.removeIframe(),this.verifyUrl=s;try{await this.createIframe()}catch(n){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(n)}if(!this.initialized){this.removeIframe(),this.verifyUrl=index_es_ee;try{await this.createIframe()}catch(n){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(n),this.verifyDisabled=!0}}},this.register=async i=>{this.initialized?this.sendPost(i.attestationId):(this.addToQueue(i.attestationId),await this.init())},this.resolve=async i=>{if(this.isDevEnv)return"";const s=this.getVerifyUrl(i?.verifyUrl);let n;try{n=await this.fetchAttestation(i.attestationId,s)}catch(o){this.logger.info(`failed to resolve attestation: ${i.attestationId} from url: ${s}`),this.logger.info(o),n=await this.fetchAttestation(i.attestationId,index_es_ee)}return n},this.fetchAttestation=async(i,s)=>{this.logger.info(`resolving attestation: ${i} from url: ${s}`);const n=this.startAbortTimer(2*cjs.ONE_SECOND),o=await fetch(`${s}/attestation/${i}`,{signal:this.abortController.signal});return clearTimeout(n),200===o.status?await o.json():void 0},this.addToQueue=i=>{this.queue.push(i)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach((i=>this.sendPost(i))),this.queue=[])},this.sendPost=i=>{var s;try{if(!this.iframe)return;null==(s=this.iframe.contentWindow)||s.postMessage(i,"*"),this.logger.info(`postMessage sent: ${i} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let i;const s=n=>{"verify_ready"===n.data&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",s),i())};await Promise.race([new Promise((n=>{if(document.getElementById("verify-api"))return n();window.addEventListener("message",s);const o=document.createElement("iframe");o.id="verify-api",o.src=`${this.verifyUrl}/${this.projectId}`,o.style.display="none",document.body.append(o),this.iframe=o,i=n})),new Promise(((n,o)=>setTimeout((()=>{window.removeEventListener("message",s),o("verify iframe load timeout")}),(0,cjs.toMiliseconds)(cjs.FIVE_SECONDS))))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=i=>{let s=i||index_es_$;return index_es_t.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${index_es_$}`),s=index_es_$),s},this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name),this.verifyUrl=index_es_$,this.abortController=new AbortController,this.isDevEnv=te()&&dist_index_es_process.env.IS_VITEST}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,cjs.toMiliseconds)(e))}}class index_es_Gt extends v{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=i,h=`https://echo.walletconnect.com/${this.projectId}/clients`;await browser_default()(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})},this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.context)}}var Lr=Object.defineProperty,index_es_Yt=Object.getOwnPropertySymbols,Fr=Object.prototype.hasOwnProperty,$r=Object.prototype.propertyIsEnumerable,index_es_Ht=(r,e,t)=>e in r?Lr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,index_es_Jt=(r,e)=>{for(var t in e||(e={}))Fr.call(e,t)&&index_es_Ht(r,t,e[t]);if(index_es_Yt)for(var t of index_es_Yt(e))$r.call(e,t)&&index_es_Ht(r,t,e[t]);return r};class index_es_te extends n{constructor(e){super(e),this.protocol="wc",this.version=2,this.name="core",this.events=new events.EventEmitter,this.initialized=!1,this.on=(i,s)=>this.events.on(i,s),this.once=(i,s)=>this.events.once(i,s),this.off=(i,s)=>this.events.off(i,s),this.removeListener=(i,s)=>this.events.removeListener(i,s),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||"wss://relay.walletconnect.com",this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,logger_dist_cjs.pino)((0,logger_dist_cjs.getDefaultLoggerOptions)({level:e?.logger||index_es_Qe_logger}));this.logger=(0,logger_dist_cjs.generateChildLogger)(t,this.name),this.heartbeat=new heartbeat_dist_cjs.HeartBeat,this.crypto=new index_es_xt(this,this.logger,e?.keychain),this.history=new index_es_Vt(this,this.logger),this.expirer=new index_es_jt(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new index_es_h(index_es_Jt(index_es_Jt({},index_es_Ze),e?.storageOptions)),this.relayer=new index_es_Ft({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new index_es_Bt(this,this.logger),this.verify=new index_es_qt(this.projectId||"",this.logger),this.echoClient=new index_es_Gt(this.projectId||"",this.logger)}static async init(e){const t=new index_es_te(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",i),t}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const Mr=index_es_te,M_name="client",M_logger="error",index_es_A=cjs.SEVEN_DAYS,dist_index_es_V={wc_sessionPropose:{req:{ttl:cjs.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:cjs.THIRTY_SECONDS,prompt:!1,tag:1115}}},dist_index_es_U={min:cjs.FIVE_MINUTES,max:cjs.SEVEN_DAYS},index_es_I_idle="IDLE",index_es_I_active="ACTIVE",index_es_pe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var index_es_as=Object.defineProperty,index_es_cs=Object.defineProperties,index_es_ls=Object.getOwnPropertyDescriptors,index_es_he=Object.getOwnPropertySymbols,index_es_ps=Object.prototype.hasOwnProperty,index_es_hs=Object.prototype.propertyIsEnumerable,index_es_de=(m,r,e)=>r in m?index_es_as(m,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[r]=e,dist_index_es_g=(m,r)=>{for(var e in r||(r={}))index_es_ps.call(r,e)&&index_es_de(m,e,r[e]);if(index_es_he)for(var e of index_es_he(r))index_es_hs.call(r,e)&&index_es_de(m,e,r[e]);return m},dist_index_es_b=(m,r)=>index_es_cs(m,index_es_ls(r));class index_es_ds extends index_es_w{constructor(r){super(r),this.name="engine",this.events=new(events_default()),this.initialized=!1,this.ignoredPayloadTypes=[_],this.requestQueue={state:index_es_I_idle,queue:[]},this.sessionRequestQueue={state:index_es_I_idle,queue:[]},this.requestQueueDelay=cjs.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(dist_index_es_V)}),this.initialized=!0,setTimeout((()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,cjs.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{await this.isInitialized();const s=dist_index_es_b(dist_index_es_g({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(s);const{pairingTopic:t,requiredNamespaces:i,optionalNamespaces:n,sessionProperties:o,relays:a}=s;let p,c=t,d=!1;if(c&&(d=this.client.core.pairing.pairings.get(c).active),!c||!d){const{topic:v,uri:S}=await this.client.core.pairing.create();c=v,p=S}const h=await this.client.core.crypto.generateKeyPair(),R=dist_index_es_g({requiredNamespaces:i,optionalNamespaces:n,relays:a??[{protocol:"irn"}],proposer:{publicKey:h,metadata:this.client.metadata}},o&&{sessionProperties:o}),{reject:w,resolve:T,done:K}=at(cjs.FIVE_MINUTES,"Proposal expired");if(this.events.once(yt("session_connect"),(async({error:v,session:S})=>{if(v)w(v);else if(S){S.self.publicKey=h;const B=dist_index_es_b(dist_index_es_g({},S),{requiredNamespaces:S.requiredNamespaces,optionalNamespaces:S.optionalNamespaces});await this.client.session.set(S.topic,B),await this.setExpiry(S.topic,S.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:S.peer.metadata}),T(B)}})),!c){const{message:v}=N("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(v)}const L=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:R}),ge=pt(cjs.FIVE_MINUTES);return await this.setProposal(L,dist_index_es_g({id:L,expiry:ge},R)),{uri:p,approval:K}},this.pair=async e=>(await this.isInitialized(),await this.client.core.pairing.pair(e)),this.approve=async e=>{await this.isInitialized(),await this.isValidApprove(e);const{id:s,relayProtocol:t,namespaces:i,sessionProperties:n}=e,o=this.client.proposal.get(s);let{pairingTopic:a,proposer:c,requiredNamespaces:p,optionalNamespaces:d}=o;a=a||"",B(p)||(p=function jt(e,n){const t=ln(e,n);if(t)throw new Error(t.message);const r={};for(const[o,s]of Object.entries(e))r[o]={methods:s.methods,events:s.events,chains:s.accounts.map((i=>`${i.split(":")[0]}:${i.split(":")[1]}`))};return r}(i,"approve()"));const h=await this.client.core.crypto.generateKeyPair(),R=c.publicKey,w=await this.client.core.crypto.generateSharedKey(h,R);a&&s&&(await this.client.core.pairing.updateMetadata({topic:a,metadata:c.metadata}),await this.sendResult({id:s,topic:a,result:{relay:{protocol:t??"irn"},responderPublicKey:h}}),await this.client.proposal.delete(s,index_es_U("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:a}));const T=dist_index_es_g({relay:{protocol:t??"irn"},namespaces:i,requiredNamespaces:p,optionalNamespaces:d,pairingTopic:a,controller:{publicKey:h,metadata:this.client.metadata},expiry:pt(index_es_A)},n&&{sessionProperties:n});await this.client.core.relayer.subscribe(w),await this.sendRequest({topic:w,method:"wc_sessionSettle",params:T,throwOnFailedPublish:!0});const K=dist_index_es_b(dist_index_es_g({},T),{topic:w,pairingTopic:a,acknowledged:!1,self:T.controller,peer:{publicKey:c.publicKey,metadata:c.metadata},controller:h});return await this.client.session.set(w,K),await this.setExpiry(w,pt(index_es_A)),{topic:w,acknowledged:()=>new Promise((L=>setTimeout((()=>L(this.client.session.get(w))),500)))}},this.reject=async e=>{await this.isInitialized(),await this.isValidReject(e);const{id:s,reason:t}=e,{pairingTopic:i}=this.client.proposal.get(s);i&&(await this.sendError(s,i,t),await this.client.proposal.delete(s,index_es_U("USER_DISCONNECTED")))},this.update=async e=>{await this.isInitialized(),await this.isValidUpdate(e);const{topic:s,namespaces:t}=e,i=await this.sendRequest({topic:s,method:"wc_sessionUpdate",params:{namespaces:t}}),{done:n,resolve:o,reject:a}=at();return this.events.once(yt("session_update",i),(({error:c})=>{c?a(c):o()})),await this.client.session.update(s,{namespaces:t}),{acknowledged:n}},this.extend=async e=>{await this.isInitialized(),await this.isValidExtend(e);const{topic:s}=e,t=await this.sendRequest({topic:s,method:"wc_sessionExtend",params:{}}),{done:i,resolve:n,reject:o}=at();return this.events.once(yt("session_extend",t),(({error:a})=>{a?o(a):n()})),await this.setExpiry(s,pt(index_es_A)),{acknowledged:i}},this.request=async e=>{await this.isInitialized(),await this.isValidRequest(e);const{chainId:s,request:t,topic:i,expiry:n}=e,o=payloadId(),{done:a,resolve:c,reject:p}=at(n,"Request expired. Please try again.");return this.events.once(yt("session_request",o),(({error:d,result:h})=>{d?p(d):c(h)})),await Promise.all([new Promise((async d=>{await this.sendRequest({clientRpcId:o,topic:i,method:"wc_sessionRequest",params:{request:t,chainId:s},expiry:n,throwOnFailedPublish:!0}).catch((h=>p(h))),this.client.events.emit("session_request_sent",{topic:i,request:t,chainId:s,id:o}),d()})),new Promise((async d=>{const h=await async function gt(e,n){try{return await e.getItem(n)||(D()?localStorage.getItem(n):void 0)}catch(t){index_es_console.error(t)}}(this.client.core.storage,"WALLETCONNECT_DEEPLINK_CHOICE");(async function ht({id:e,topic:n,wcDeepLink:t}){try{if(!t)return;const r="string"==typeof t?JSON.parse(t):t;let o=r?.href;if("string"!=typeof o)return;o.endsWith("/")&&(o=o.slice(0,-1));const s=`${o}/wc?requestId=${e}&sessionTopic=${n}`,i=T();i===m.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):i===m.reactNative&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Linking)<"u"&&await __webpack_require__.g.Linking.openURL(s)}catch(r){index_es_console.error(r)}})({id:o,topic:i,wcDeepLink:h}),d()})),a()]).then((d=>d[2]))},this.respond=async e=>{await this.isInitialized(),await this.isValidRespond(e);const{topic:s,response:t}=e,{id:i}=t;isJsonRpcResult(t)?await this.sendResult({id:i,topic:s,result:t.result,throwOnFailedPublish:!0}):isJsonRpcError(t)&&await this.sendError(i,s,t.error),this.cleanupAfterResponse(e)},this.ping=async e=>{await this.isInitialized(),await this.isValidPing(e);const{topic:s}=e;if(this.client.session.keys.includes(s)){const t=await this.sendRequest({topic:s,method:"wc_sessionPing",params:{}}),{done:i,resolve:n,reject:o}=at();this.events.once(yt("session_ping",t),(({error:a})=>{a?o(a):n()})),await i()}else this.client.core.pairing.pairings.keys.includes(s)&&await this.client.core.pairing.ping({topic:s})},this.emit=async e=>{await this.isInitialized(),await this.isValidEmit(e);const{topic:s,event:t,chainId:i}=e;await this.sendRequest({topic:s,method:"wc_sessionEvent",params:{event:t,chainId:i}})},this.disconnect=async e=>{await this.isInitialized(),await this.isValidDisconnect(e);const{topic:s}=e;this.client.session.keys.includes(s)?(await this.sendRequest({topic:s,method:"wc_sessionDelete",params:index_es_U("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(s)):await this.client.core.pairing.disconnect({topic:s})},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter((s=>function Dt(e,n){const{requiredNamespaces:t}=n,r=Object.keys(e.namespaces),o=Object.keys(t);let s=!0;return!!O(o,r)&&(r.forEach((i=>{const{accounts:d,methods:l,events:c}=e.namespaces[i],u=A(d),a=t[i];O(L(i,a),u)&&O(a.methods,l)&&O(a.events,c)||(s=!1)})),s)}(s,e)))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{const s=this.client.core.pairing.pairings.get(e.pairingTopic),t=this.client.core.pairing.pairings.getAll().filter((i=>{var n,o;return(null==(n=i.peerMetadata)?void 0:n.url)&&(null==(o=i.peerMetadata)?void 0:o.url)===e.peer.metadata.url&&i.topic&&i.topic!==s.topic}));if(0===t.length)return;this.client.logger.info(`Cleaning up ${t.length} duplicate pairing(s)`),await Promise.all(t.map((i=>this.client.core.pairing.disconnect({topic:i.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(s){this.client.logger.error(s)}},this.deleteSession=async(e,s)=>{const{self:t}=this.client.session.get(e);await this.client.core.relayer.unsubscribe(e),this.client.session.delete(e,index_es_U("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(t.publicKey)&&await this.client.core.crypto.deleteKeyPair(t.publicKey),this.client.core.crypto.keychain.has(e)&&await this.client.core.crypto.deleteSymKey(e),s||this.client.core.expirer.del(e),this.client.core.storage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE").catch((i=>this.client.logger.warn(i))),this.getPendingSessionRequests().forEach((i=>{i.topic===e&&this.deletePendingSessionRequest(i.id,index_es_U("USER_DISCONNECTED"))}))},this.deleteProposal=async(e,s)=>{await Promise.all([this.client.proposal.delete(e,index_es_U("USER_DISCONNECTED")),s?Promise.resolve():this.client.core.expirer.del(e)])},this.deletePendingSessionRequest=async(e,s,t=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,s),t?Promise.resolve():this.client.core.expirer.del(e)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter((i=>i.id!==e)),t&&(this.sessionRequestQueue.state=index_es_I_idle)},this.setExpiry=async(e,s)=>{this.client.session.keys.includes(e)&&await this.client.session.update(e,{expiry:s}),this.client.core.expirer.set(e,s)},this.setProposal=async(e,s)=>{await this.client.proposal.set(e,s),this.client.core.expirer.set(e,s.expiry)},this.setPendingSessionRequest=async e=>{const s=dist_index_es_V.wc_sessionRequest.req.ttl,{id:t,topic:i,params:n,verifyContext:o}=e;await this.client.pendingRequest.set(t,{id:t,topic:i,params:n,verifyContext:o}),s&&this.client.core.expirer.set(t,pt(s))},this.sendRequest=async e=>{const{topic:s,method:t,params:i,expiry:n,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:c}=e,p=formatJsonRpcRequest(t,i,a);if(D()&&index_es_pe.includes(t)){const R=Ln(JSON.stringify(p));this.client.core.verify.register({attestationId:R})}const d=await this.client.core.crypto.encode(s,p),h=dist_index_es_V[t].req;return n&&(h.ttl=n),o&&(h.id=o),this.client.core.history.set(s,p),c?(h.internal=dist_index_es_b(dist_index_es_g({},h.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,d,h)):this.client.core.relayer.publish(s,d,h).catch((R=>this.client.logger.error(R))),p.id},this.sendResult=async e=>{const{id:s,topic:t,result:i,throwOnFailedPublish:n}=e,o=formatJsonRpcResult(s,i),a=await this.client.core.crypto.encode(t,o),c=await this.client.core.history.get(t,s),p=dist_index_es_V[c.request.method].res;n?(p.internal=dist_index_es_b(dist_index_es_g({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,a,p)):this.client.core.relayer.publish(t,a,p).catch((d=>this.client.logger.error(d))),await this.client.core.history.resolve(o)},this.sendError=async(e,s,t)=>{const i=formatJsonRpcError(e,t),n=await this.client.core.crypto.encode(s,i),o=await this.client.core.history.get(s,e),a=dist_index_es_V[o.request.method].res;this.client.core.relayer.publish(s,n,a),await this.client.core.history.resolve(i)},this.cleanup=async()=>{const e=[],s=[];this.client.session.getAll().forEach((t=>{mt(t.expiry)&&e.push(t.topic)})),this.client.proposal.getAll().forEach((t=>{mt(t.expiry)&&s.push(t.id)})),await Promise.all([...e.map((t=>this.deleteSession(t))),...s.map((t=>this.deleteProposal(t)))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==index_es_I_active){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=index_es_I_active;const e=this.requestQueue.queue.shift();if(e)try{this.processRequest(e),await new Promise((s=>setTimeout(s,300)))}catch(s){this.client.logger.warn(s)}}this.requestQueue.state=index_es_I_idle}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=e=>{const{topic:s,payload:t}=e,i=t.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeRequest(s,t);case"wc_sessionSettle":return this.onSessionSettleRequest(s,t);case"wc_sessionUpdate":return this.onSessionUpdateRequest(s,t);case"wc_sessionExtend":return this.onSessionExtendRequest(s,t);case"wc_sessionPing":return this.onSessionPingRequest(s,t);case"wc_sessionDelete":return this.onSessionDeleteRequest(s,t);case"wc_sessionRequest":return this.onSessionRequest(s,t);case"wc_sessionEvent":return this.onSessionEventRequest(s,t);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async e=>{const{topic:s,payload:t}=e,i=(await this.client.core.history.get(s,t.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(s,t);case"wc_sessionSettle":return this.onSessionSettleResponse(s,t);case"wc_sessionUpdate":return this.onSessionUpdateResponse(s,t);case"wc_sessionExtend":return this.onSessionExtendResponse(s,t);case"wc_sessionPing":return this.onSessionPingResponse(s,t);case"wc_sessionRequest":return this.onSessionRequestResponse(s,t);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=e=>{const{topic:s}=e,{message:t}=N("MISSING_OR_INVALID",`Decoded payload on topic ${s} is not identifiable as a JSON-RPC request or a response.`);throw new Error(t)},this.onSessionProposeRequest=async(e,s)=>{const{params:t,id:i}=s;try{this.isValidConnect(dist_index_es_g({},s.params));const n=pt(cjs.FIVE_MINUTES),o=dist_index_es_g({id:i,pairingTopic:e,expiry:n},t);await this.setProposal(i,o);const a=Ln(JSON.stringify(s)),c=await this.getVerifyContext(a,o.proposer.metadata);this.client.events.emit("session_proposal",{id:i,params:o,verifyContext:c})}catch(n){await this.sendError(i,e,n),this.client.logger.error(n)}},this.onSessionProposeResponse=async(e,s)=>{const{id:t}=s;if(isJsonRpcResult(s)){const{result:i}=s;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const n=this.client.proposal.get(t);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:n});const o=n.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:c});const p=await this.client.core.relayer.subscribe(c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:e})}else isJsonRpcError(s)&&(await this.client.proposal.delete(t,index_es_U("USER_DISCONNECTED")),this.events.emit(yt("session_connect"),{error:s.error}))},this.onSessionSettleRequest=async(e,s)=>{const{id:t,params:i}=s;try{this.isValidSessionSettleRequest(i);const{relay:n,controller:o,expiry:a,namespaces:c,requiredNamespaces:p,optionalNamespaces:d,sessionProperties:h,pairingTopic:R}=s.params,w=dist_index_es_g({topic:e,relay:n,expiry:a,namespaces:c,acknowledged:!0,pairingTopic:R,requiredNamespaces:p,optionalNamespaces:d,controller:o.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},h&&{sessionProperties:h});await this.sendResult({id:s.id,topic:e,result:!0}),this.events.emit(yt("session_connect"),{session:w}),this.cleanupDuplicatePairings(w)}catch(n){await this.sendError(t,e,n),this.client.logger.error(n)}},this.onSessionSettleResponse=async(e,s)=>{const{id:t}=s;isJsonRpcResult(s)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(yt("session_approve",t),{})):isJsonRpcError(s)&&(await this.client.session.delete(e,index_es_U("USER_DISCONNECTED")),this.events.emit(yt("session_approve",t),{error:s.error}))},this.onSessionUpdateRequest=async(e,s)=>{const{params:t,id:i}=s;try{const n=`${e}_session_update`,o=tr.get(n);if(o&&this.isRequestOutOfSync(o,i))return void this.client.logger.info(`Discarding out of sync request - ${i}`);this.isValidUpdate(dist_index_es_g({topic:e},t)),await this.client.session.update(e,{namespaces:t.namespaces}),await this.sendResult({id:i,topic:e,result:!0}),this.client.events.emit("session_update",{id:i,topic:e,params:t}),tr.set(n,i)}catch(n){await this.sendError(i,e,n),this.client.logger.error(n)}},this.isRequestOutOfSync=(e,s)=>parseInt(s.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,s)=>{const{id:t}=s;isJsonRpcResult(s)?this.events.emit(yt("session_update",t),{}):isJsonRpcError(s)&&this.events.emit(yt("session_update",t),{error:s.error})},this.onSessionExtendRequest=async(e,s)=>{const{id:t}=s;try{this.isValidExtend({topic:e}),await this.setExpiry(e,pt(index_es_A)),await this.sendResult({id:t,topic:e,result:!0}),this.client.events.emit("session_extend",{id:t,topic:e})}catch(i){await this.sendError(t,e,i),this.client.logger.error(i)}},this.onSessionExtendResponse=(e,s)=>{const{id:t}=s;isJsonRpcResult(s)?this.events.emit(yt("session_extend",t),{}):isJsonRpcError(s)&&this.events.emit(yt("session_extend",t),{error:s.error})},this.onSessionPingRequest=async(e,s)=>{const{id:t}=s;try{this.isValidPing({topic:e}),await this.sendResult({id:t,topic:e,result:!0}),this.client.events.emit("session_ping",{id:t,topic:e})}catch(i){await this.sendError(t,e,i),this.client.logger.error(i)}},this.onSessionPingResponse=(e,s)=>{const{id:t}=s;setTimeout((()=>{isJsonRpcResult(s)?this.events.emit(yt("session_ping",t),{}):isJsonRpcError(s)&&this.events.emit(yt("session_ping",t),{error:s.error})}),500)},this.onSessionDeleteRequest=async(e,s)=>{const{id:t}=s;try{this.isValidDisconnect({topic:e,reason:s.params}),await Promise.all([new Promise((i=>{this.client.core.relayer.once(dist_index_es_D_publish,(async()=>{i(await this.deleteSession(e))}))})),this.sendResult({id:t,topic:e,result:!0})]),this.client.events.emit("session_delete",{id:t,topic:e})}catch(i){this.client.logger.error(i)}},this.onSessionRequest=async(e,s)=>{const{id:t,params:i}=s;try{this.isValidRequest(dist_index_es_g({topic:e},i));const n=Ln(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",i,t))),o=this.client.session.get(e),c={id:t,topic:e,params:i,verifyContext:await this.getVerifyContext(n,o.peer.metadata)};await this.setPendingSessionRequest(c),this.addSessionRequestToSessionRequestQueue(c),this.processSessionRequestQueue()}catch(n){await this.sendError(t,e,n),this.client.logger.error(n)}},this.onSessionRequestResponse=(e,s)=>{const{id:t}=s;isJsonRpcResult(s)?this.events.emit(yt("session_request",t),{result:s.result}):isJsonRpcError(s)&&this.events.emit(yt("session_request",t),{error:s.error})},this.onSessionEventRequest=async(e,s)=>{const{id:t,params:i}=s;try{const n=`${e}_session_event_${i.event.name}`,o=tr.get(n);if(o&&this.isRequestOutOfSync(o,t))return void this.client.logger.info(`Discarding out of sync request - ${t}`);this.isValidEmit(dist_index_es_g({topic:e},i)),this.client.events.emit("session_event",{id:t,topic:e,params:i}),tr.set(n,t)}catch(n){await this.sendError(t,e,n),this.client.logger.error(n)}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=index_es_I_idle,this.processSessionRequestQueue()}),(0,cjs.toMiliseconds)(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===index_es_I_active)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.sessionRequestQueue.state=index_es_I_active,this.client.events.emit("session_request",e)}catch(s){this.client.logger.error(s)}else this.client.logger.info("session request queue is empty.")},this.onPairingCreated=e=>{if(e.active)return;const s=this.client.proposal.getAll().find((t=>t.pairingTopic===e.topic));s&&this.onSessionProposeRequest(e.topic,formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:s.requiredNamespaces,optionalNamespaces:s.optionalNamespaces,relays:s.relays,proposer:s.proposer,sessionProperties:s.sessionProperties},s.id))},this.isValidConnect=async e=>{if(!Ht(e)){const{message:a}=N("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(a)}const{pairingTopic:s,requiredNamespaces:t,optionalNamespaces:i,sessionProperties:n,relays:o}=e;if(w(s)||await this.isValidPairingTopic(s),!function xt(e,n){let t=!1;return n&&!e?t=!0:e&&k(e)&&e.length&&e.forEach((r=>{t=dn(r)})),t}(o,!0)){const{message:a}=N("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(a)}!w(t)&&0!==B(t)&&this.validateNamespaces(t,"requiredNamespaces"),!w(i)&&0!==B(i)&&this.validateNamespaces(i,"optionalNamespaces"),w(n)||this.validateSessionProps(n,"sessionProperties")},this.validateNamespaces=(e,s)=>{const t=function Lt(e,n,t){let r=null;if(e&&B(e)){const o=ce(e,n);o&&(r=o);const s=sn(e,n,t);s&&(r=s)}else r=N("MISSING_OR_INVALID",`${n}, ${t} should be an object with data`);return r}(e,"connect()",s);if(t)throw new Error(t.message)},this.isValidApprove=async e=>{if(!Ht(e))throw new Error(N("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:s,namespaces:t,relayProtocol:i,sessionProperties:n}=e;await this.isValidProposalId(s);const o=this.client.proposal.get(s),a=ln(t,"approve()");if(a)throw new Error(a.message);const c=fn(o.requiredNamespaces,t,"approve()");if(c)throw new Error(c.message);if(!h(i,!0)){const{message:p}=N("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(p)}w(n)||this.validateSessionProps(n,"sessionProperties")},this.isValidReject=async e=>{if(!Ht(e)){const{message:i}=N("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(i)}const{id:s,reason:t}=e;if(await this.isValidProposalId(s),!function qt(e){return!!(e&&"object"==typeof e&&e.code&&G(e.code,!1)&&e.message&&h(e.message,!1))}(t)){const{message:i}=N("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(t)}`);throw new Error(i)}},this.isValidSessionSettleRequest=e=>{if(!Ht(e)){const{message:c}=N("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(c)}const{relay:s,controller:t,namespaces:i,expiry:n}=e;if(!dn(s)){const{message:c}=N("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const o=function Kt(e,n){let t=null;return h(e?.publicKey,!1)||(t=N("MISSING_OR_INVALID",`${n} controller public key should be a string`)),t}(t,"onSessionSettleRequest()");if(o)throw new Error(o.message);const a=ln(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);if(mt(n)){const{message:c}=N("EXPIRED","onSessionSettleRequest()");throw new Error(c)}},this.isValidUpdate=async e=>{if(!Ht(e)){const{message:a}=N("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(a)}const{topic:s,namespaces:t}=e;await this.isValidSessionTopic(s);const i=this.client.session.get(s),n=ln(t,"update()");if(n)throw new Error(n.message);const o=fn(i.requiredNamespaces,t,"update()");if(o)throw new Error(o.message)},this.isValidExtend=async e=>{if(!Ht(e)){const{message:t}=N("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:s}=e;await this.isValidSessionTopic(s)},this.isValidRequest=async e=>{if(!Ht(e)){const{message:a}=N("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(a)}const{topic:s,request:t,chainId:i,expiry:n}=e;await this.isValidSessionTopic(s);const{namespaces:o}=this.client.session.get(s);if(!zt(o,i)){const{message:a}=N("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(a)}if(!function Bt(e){return!(w(e)||!h(e.method,!1))}(t)){const{message:a}=N("MISSING_OR_INVALID",`request() ${JSON.stringify(t)}`);throw new Error(a)}if(!Yt(o,i,t.method)){const{message:a}=N("MISSING_OR_INVALID",`request() method: ${t.method}`);throw new Error(a)}if(n&&!function Xt(e,n){return G(e,!1)&&e<=n.max&&e>=n.min}(n,dist_index_es_U)){const{message:a}=N("MISSING_OR_INVALID",`request() expiry: ${n}. Expiry must be a number (in seconds) between ${dist_index_es_U.min} and ${dist_index_es_U.max}`);throw new Error(a)}},this.isValidRespond=async e=>{var s;if(!Ht(e)){const{message:n}=N("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(n)}const{topic:t,response:i}=e;try{await this.isValidSessionTopic(t)}catch(n){throw null!=(s=e?.response)&&s.id&&this.cleanupAfterResponse(e),n}if(!function Gt(e){return!(w(e)||w(e.result)&&w(e.error)||!G(e.id,!1)||!h(e.jsonrpc,!1))}(i)){const{message:n}=N("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(n)}},this.isValidPing=async e=>{if(!Ht(e)){const{message:t}=N("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:s}=e;await this.isValidSessionOrPairingTopic(s)},this.isValidEmit=async e=>{if(!Ht(e)){const{message:o}=N("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(o)}const{topic:s,event:t,chainId:i}=e;await this.isValidSessionTopic(s);const{namespaces:n}=this.client.session.get(s);if(!zt(n,i)){const{message:o}=N("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(o)}if(!function Wt(e){return!(w(e)||!h(e.name,!1))}(t)){const{message:o}=N("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(t)}`);throw new Error(o)}if(!Jt(n,i,t.name)){const{message:o}=N("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(t)}`);throw new Error(o)}},this.isValidDisconnect=async e=>{if(!Ht(e)){const{message:t}=N("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:s}=e;await this.isValidSessionOrPairingTopic(s)},this.getVerifyContext=async(e,s)=>{const t={verified:{verifyUrl:s.verifyUrl||index_es_$,validation:"UNKNOWN",origin:s.url||""}};try{const i=await this.client.core.verify.resolve({attestationId:e,verifyUrl:s.verifyUrl});i&&(t.verified.origin=i.origin,t.verified.isScam=i.isScam,t.verified.validation=i.origin===new URL(s.url).origin?"VALID":"INVALID")}catch(i){this.client.logger.info(i)}return this.client.logger.info(`Verify context: ${JSON.stringify(t)}`),t},this.validateSessionProps=(e,s)=>{Object.values(e).forEach((t=>{if(!h(t,!1)){const{message:i}=N("MISSING_OR_INVALID",`${s} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw new Error(i)}}))}}async isInitialized(){if(!this.initialized){const{message:r}=N("NOT_INITIALIZED",this.name);throw new Error(r)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(dist_index_es_D_message,(async r=>{const{topic:e,message:s}=r;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(s)))return;const t=await this.client.core.crypto.decode(e,s);try{isJsonRpcRequest(t)?(this.client.core.history.set(e,t),this.onRelayEventRequest({topic:e,payload:t})):isJsonRpcResponse(t)?(await this.client.core.history.resolve(t),await this.onRelayEventResponse({topic:e,payload:t}),this.client.core.history.delete(e,t.id)):this.onRelayEventUnknownPayload({topic:e,payload:t})}catch(i){this.client.logger.error(i)}}))}registerExpirerEvents(){this.client.core.expirer.on(index_es_v_expired,(async r=>{const{topic:e,id:s}=ft(r.target);if(s&&this.client.pendingRequest.keys.includes(s))return await this.deletePendingSessionRequest(s,N("EXPIRED"),!0);e?this.client.session.keys.includes(e)&&(await this.deleteSession(e,!0),this.client.events.emit("session_expire",{topic:e})):s&&(await this.deleteProposal(s,!0),this.client.events.emit("proposal_expire",{id:s}))}))}registerPairingEvents(){this.client.core.pairing.events.on(index_es_V_create,(r=>this.onPairingCreated(r)))}isValidPairingTopic(r){if(!h(r,!1)){const{message:e}=N("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(r)){const{message:e}=N("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(e)}if(mt(this.client.core.pairing.pairings.get(r).expiry)){const{message:e}=N("EXPIRED",`pairing topic: ${r}`);throw new Error(e)}}async isValidSessionTopic(r){if(!h(r,!1)){const{message:e}=N("MISSING_OR_INVALID",`session topic should be a string: ${r}`);throw new Error(e)}if(!this.client.session.keys.includes(r)){const{message:e}=N("NO_MATCHING_KEY",`session topic doesn't exist: ${r}`);throw new Error(e)}if(mt(this.client.session.get(r).expiry)){await this.deleteSession(r);const{message:e}=N("EXPIRED",`session topic: ${r}`);throw new Error(e)}}async isValidSessionOrPairingTopic(r){if(this.client.session.keys.includes(r))await this.isValidSessionTopic(r);else{if(!this.client.core.pairing.pairings.keys.includes(r)){if(h(r,!1)){const{message:e}=N("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${r}`);throw new Error(e)}{const{message:e}=N("MISSING_OR_INVALID",`session or pairing topic should be a string: ${r}`);throw new Error(e)}}this.isValidPairingTopic(r)}}async isValidProposalId(r){if(!function Ft(e){return"number"==typeof e}(r)){const{message:e}=N("MISSING_OR_INVALID",`proposal id should be a number: ${r}`);throw new Error(e)}if(!this.client.proposal.keys.includes(r)){const{message:e}=N("NO_MATCHING_KEY",`proposal id doesn't exist: ${r}`);throw new Error(e)}if(mt(this.client.proposal.get(r).expiry)){await this.deleteProposal(r);const{message:e}=N("EXPIRED",`proposal id: ${r}`);throw new Error(e)}}}class index_es_us extends index_es_Kt{constructor(r,e){super(r,e,"proposal","wc@2:client:"),this.core=r,this.logger=e}}class index_es_ue extends index_es_Kt{constructor(r,e){super(r,e,"session","wc@2:client:"),this.core=r,this.logger=e}}class index_es_gs extends index_es_Kt{constructor(r,e){super(r,e,"request","wc@2:client:",(s=>s.id)),this.core=r,this.logger=e}}class dist_index_es_Q extends b{constructor(r){super(r),this.protocol="wc",this.version=2,this.name=M_name,this.events=new events.EventEmitter,this.on=(s,t)=>this.events.on(s,t),this.once=(s,t)=>this.events.once(s,t),this.off=(s,t)=>this.events.off(s,t),this.removeListener=(s,t)=>this.events.removeListener(s,t),this.removeAllListeners=s=>this.events.removeAllListeners(s),this.connect=async s=>{try{return await this.engine.connect(s)}catch(t){throw this.logger.error(t.message),t}},this.pair=async s=>{try{return await this.engine.pair(s)}catch(t){throw this.logger.error(t.message),t}},this.approve=async s=>{try{return await this.engine.approve(s)}catch(t){throw this.logger.error(t.message),t}},this.reject=async s=>{try{return await this.engine.reject(s)}catch(t){throw this.logger.error(t.message),t}},this.update=async s=>{try{return await this.engine.update(s)}catch(t){throw this.logger.error(t.message),t}},this.extend=async s=>{try{return await this.engine.extend(s)}catch(t){throw this.logger.error(t.message),t}},this.request=async s=>{try{return await this.engine.request(s)}catch(t){throw this.logger.error(t.message),t}},this.respond=async s=>{try{return await this.engine.respond(s)}catch(t){throw this.logger.error(t.message),t}},this.ping=async s=>{try{return await this.engine.ping(s)}catch(t){throw this.logger.error(t.message),t}},this.emit=async s=>{try{return await this.engine.emit(s)}catch(t){throw this.logger.error(t.message),t}},this.disconnect=async s=>{try{return await this.engine.disconnect(s)}catch(t){throw this.logger.error(t.message),t}},this.find=s=>{try{return this.engine.find(s)}catch(t){throw this.logger.error(t.message),t}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(s){throw this.logger.error(s.message),s}},this.name=r?.name||M_name,this.metadata=r?.metadata||function Qn(){return(0,window_metadata_dist_cjs.D)()||{name:"",description:"",url:"",icons:[""]}}();const e=typeof r?.logger<"u"&&"string"!=typeof r?.logger?r.logger:(0,logger_dist_cjs.pino)((0,logger_dist_cjs.getDefaultLoggerOptions)({level:r?.logger||M_logger}));this.core=r?.core||new Mr(r),this.logger=(0,logger_dist_cjs.generateChildLogger)(e,this.name),this.session=new index_es_ue(this.core,this.logger),this.proposal=new index_es_us(this.core,this.logger),this.pendingRequest=new index_es_gs(this.core,this.logger),this.engine=new index_es_ds(this)}static async init(r){const e=new dist_index_es_Q(r);return await e.initialize(),e}get context(){return(0,logger_dist_cjs.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(r){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(r.message),r}}}var browser_ponyfill=__webpack_require__("./node_modules/cross-fetch/dist/browser-ponyfill.js"),browser_ponyfill_default=__webpack_require__.n(browser_ponyfill);const DEFAULT_FETCH_OPTS={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class HttpConnection{constructor(url,disableProviderPing=!1){if(this.url=url,this.disableProviderPing=disableProviderPing,this.events=new events.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(url))throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);this.url=url,this.disableProviderPing=disableProviderPing}get connected(){return this.isAvailable}get connecting(){return this.registering}on(event,listener){this.events.on(event,listener)}once(event,listener){this.events.once(event,listener)}off(event,listener){this.events.off(event,listener)}removeListener(event,listener){this.events.removeListener(event,listener)}async open(url=this.url){await this.register(url)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(payload,context){this.isAvailable||await this.register();try{const body=safeJsonStringify(payload),res=await browser_ponyfill_default()(this.url,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body})),data=await res.json();this.onPayload({data})}catch(e){this.onError(payload.id,e)}}async register(url=this.url){if(!isHttpUrl(url))throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);if(this.registering){const currentMaxListeners=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=currentMaxListeners||this.events.listenerCount("open")>=currentMaxListeners)&&this.events.setMaxListeners(currentMaxListeners+1),new Promise(((resolve,reject)=>{this.events.once("register_error",(error=>{this.resetMaxListeners(),reject(error)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),void 0===this.isAvailable)return reject(new Error("HTTP connection is missing or invalid"));resolve()}))}))}this.url=url,this.registering=!0;try{if(!this.disableProviderPing){const body=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await browser_ponyfill_default()(url,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body}))}this.onOpen()}catch(e){const error=this.parseError(e);throw this.events.emit("register_error",error),this.onClose(),error}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(void 0===e.data)return;const payload="string"==typeof e.data?esm_safeJsonParse(e.data):e.data;this.events.emit("payload",payload)}onError(id,e){const error=this.parseError(e),payload=formatJsonRpcError(id,error.message||error.toString());this.events.emit("payload",payload)}parseError(e,url=this.url){return parseConnectionError(e,url,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const dist_esm=HttpConnection,xa="wc@2:universal_provider:",index_es_Vn_DEFAULT_CHAIN_CHANGED="default_chain_changed";var dist_index_es_ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __webpack_require__.g<"u"?__webpack_require__.g:typeof self<"u"?self:{},Ui={exports:{}};!function(C,u){(function(){var i,$="Expected a function",zt="__lodash_hash_undefined__",It="__lodash_placeholder__",Mn=128,ht=1/0,kn=9007199254740991,Nn=4294967295,qa=[["ary",Mn],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ot="[object Arguments]",me="[object Array]",Yt="[object Boolean]",Zt="[object Date]",we="[object Error]",Pe="[object Function]",Gi="[object GeneratorFunction]",yn="[object Map]",Jt="[object Number]",qn="[object Object]",zi="[object Promise]",Xt="[object RegExp]",Sn="[object Set]",Qt="[object String]",Ae="[object Symbol]",Vt="[object WeakMap]",kt="[object ArrayBuffer]",Rt="[object DataView]",gr="[object Float32Array]",vr="[object Float64Array]",_r="[object Int8Array]",mr="[object Int16Array]",wr="[object Int32Array]",Pr="[object Uint8Array]",Ar="[object Uint8ClampedArray]",Cr="[object Uint16Array]",Ir="[object Uint32Array]",Ja=/\b__p \+= '';/g,Xa=/\b(__p \+=) '' \+/g,Qa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ki=/&(?:amp|lt|gt|quot|#39);/g,Yi=/[&<>"']/g,Va=RegExp(Ki.source),ka=RegExp(Yi.source),ja=/<%-([\s\S]+?)%>/g,no=/<%([\s\S]+?)%>/g,Zi=/<%=([\s\S]+?)%>/g,to=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eo=/^\w*$/,ro=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xr=/[\\^$.*+?()[\]{}|]/g,io=RegExp(xr.source),Er=/^\s+/,so=/\s/,uo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ao=/\{\n\/\* \[wrapped with (.+)\] \*/,oo=/,? & /,fo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,co=/[()=,{}\[\]\/\s]/,ho=/\\(\\)?/g,lo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ji=/\w*$/,po=/^[-+]0x[0-9a-f]+$/i,go=/^0b[01]+$/i,vo=/^\[object .+?Constructor\]$/,_o=/^0o[0-7]+$/i,mo=/^(?:0|[1-9]\d*)$/,wo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ce=/($^)/,Po=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",Xi="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qi="\\u2700-\\u27bf",Vi="a-z\\xdf-\\xf6\\xf8-\\xff",ki="A-Z\\xc0-\\xd6\\xd8-\\xde",ji="\\ufe0e\\ufe0f",ns="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yr="['’]",Oo="["+Ie+"]",ts="["+ns+"]",xe="["+Xi+"]",es="\\d+",Ro="["+Qi+"]",rs="["+Vi+"]",is="[^"+Ie+ns+es+Qi+Vi+ki+"]",Sr="\\ud83c[\\udffb-\\udfff]",ss="[^"+Ie+"]",Or="(?:\\ud83c[\\udde6-\\uddff]){2}",Rr="[\\ud800-\\udbff][\\udc00-\\udfff]",bt="["+ki+"]",as="(?:"+rs+"|"+is+")",To="(?:"+bt+"|"+is+")",os="(?:['’](?:d|ll|m|re|s|t|ve))?",fs="(?:['’](?:D|LL|M|RE|S|T|VE))?",cs="(?:"+xe+"|"+Sr+")"+"?",hs="["+ji+"]?",ls=hs+cs+("(?:\\u200d(?:"+[ss,Or,Rr].join("|")+")"+hs+cs+")*"),No="(?:"+[Ro,Or,Rr].join("|")+")"+ls,$o="(?:"+[ss+xe+"?",xe,Or,Rr,Oo].join("|")+")",Uo=RegExp(yr,"g"),Wo=RegExp(xe,"g"),br=RegExp(Sr+"(?="+Sr+")|"+$o+ls,"g"),Fo=RegExp([bt+"?"+rs+"+"+os+"(?="+[ts,bt,"$"].join("|")+")",To+"+"+fs+"(?="+[ts,bt+as,"$"].join("|")+")",bt+"?"+as+"+"+os,bt+"+"+fs,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",es,No].join("|"),"g"),Mo=RegExp("[\\u200d"+Ie+Xi+ji+"]"),qo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Go=-1,B={};B[gr]=B[vr]=B[_r]=B[mr]=B[wr]=B[Pr]=B[Ar]=B[Cr]=B[Ir]=!0,B[Ot]=B[me]=B[kt]=B[Yt]=B[Rt]=B[Zt]=B[we]=B[Pe]=B[yn]=B[Jt]=B[qn]=B[Xt]=B[Sn]=B[Qt]=B[Vt]=!1;var q={};q[Ot]=q[me]=q[kt]=q[Rt]=q[Yt]=q[Zt]=q[gr]=q[vr]=q[_r]=q[mr]=q[wr]=q[yn]=q[Jt]=q[qn]=q[Xt]=q[Sn]=q[Qt]=q[Ae]=q[Pr]=q[Ar]=q[Cr]=q[Ir]=!0,q[we]=q[Pe]=q[Vt]=!1;var Zo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jo=parseFloat,Xo=parseInt,ps="object"==typeof dist_index_es_ge&&dist_index_es_ge&&dist_index_es_ge.Object===Object&&dist_index_es_ge,Qo="object"==typeof self&&self&&self.Object===Object&&self,k=ps||Qo||Function("return this")(),Tr=u&&!u.nodeType&&u,lt=Tr&&C&&!C.nodeType&&C,ds=lt&&lt.exports===Tr,Lr=ds&&ps.process,_n=function(){try{return lt&&lt.require&&lt.require("util").types||Lr&&Lr.binding&&Lr.binding("util")}catch{}}(),gs=_n&&_n.isArrayBuffer,vs=_n&&_n.isDate,_s=_n&&_n.isMap,ms=_n&&_n.isRegExp,ws=_n&&_n.isSet,Ps=_n&&_n.isTypedArray;function cn(h,g,p){switch(p.length){case 0:return h.call(g);case 1:return h.call(g,p[0]);case 2:return h.call(g,p[0],p[1]);case 3:return h.call(g,p[0],p[1],p[2])}return h.apply(g,p)}function Vo(h,g,p,A){for(var S=-1,U=null==h?0:h.length;++S<U;){var X=h[S];g(A,X,p(X),h)}return A}function mn(h,g){for(var p=-1,A=null==h?0:h.length;++p<A&&!1!==g(h[p],p,h););return h}function ko(h,g){for(var p=null==h?0:h.length;p--&&!1!==g(h[p],p,h););return h}function As(h,g){for(var p=-1,A=null==h?0:h.length;++p<A;)if(!g(h[p],p,h))return!1;return!0}function jn(h,g){for(var p=-1,A=null==h?0:h.length,S=0,U=[];++p<A;){var X=h[p];g(X,p,h)&&(U[S++]=X)}return U}function Ee(h,g){return!!(null==h?0:h.length)&&Tt(h,g,0)>-1}function Dr(h,g,p){for(var A=-1,S=null==h?0:h.length;++A<S;)if(p(g,h[A]))return!0;return!1}function G(h,g){for(var p=-1,A=null==h?0:h.length,S=Array(A);++p<A;)S[p]=g(h[p],p,h);return S}function nt(h,g){for(var p=-1,A=g.length,S=h.length;++p<A;)h[S+p]=g[p];return h}function Hr(h,g,p,A){var S=-1,U=null==h?0:h.length;for(A&&U&&(p=h[++S]);++S<U;)p=g(p,h[S],S,h);return p}function jo(h,g,p,A){var S=null==h?0:h.length;for(A&&S&&(p=h[--S]);S--;)p=g(p,h[S],S,h);return p}function Nr(h,g){for(var p=-1,A=null==h?0:h.length;++p<A;)if(g(h[p],p,h))return!0;return!1}var nf=$r("length");function Cs(h,g,p){var A;return p(h,(function(S,U,X){if(g(S,U,X))return A=U,!1})),A}function ye(h,g,p,A){for(var S=h.length,U=p+(A?1:-1);A?U--:++U<S;)if(g(h[U],U,h))return U;return-1}function Tt(h,g,p){return g==g?function gf(h,g,p){for(var A=p-1,S=h.length;++A<S;)if(h[A]===g)return A;return-1}(h,g,p):ye(h,Is,p)}function rf(h,g,p,A){for(var S=p-1,U=h.length;++S<U;)if(A(h[S],g))return S;return-1}function Is(h){return h!=h}function xs(h,g){var p=null==h?0:h.length;return p?Wr(h,g)/p:NaN}function $r(h){return function(g){return null==g?i:g[h]}}function Ur(h){return function(g){return null==h?i:h[g]}}function Es(h,g,p,A,S){return S(h,(function(U,X,M){p=A?(A=!1,U):g(p,U,X,M)})),p}function Wr(h,g){for(var p,A=-1,S=h.length;++A<S;){var U=g(h[A]);U!==i&&(p=p===i?U:p+U)}return p}function Fr(h,g){for(var p=-1,A=Array(h);++p<h;)A[p]=g(p);return A}function ys(h){return h&&h.slice(0,bs(h)+1).replace(Er,"")}function hn(h){return function(g){return h(g)}}function Mr(h,g){return G(g,(function(p){return h[p]}))}function jt(h,g){return h.has(g)}function Ss(h,g){for(var p=-1,A=h.length;++p<A&&Tt(g,h[p],0)>-1;);return p}function Os(h,g){for(var p=h.length;p--&&Tt(g,h[p],0)>-1;);return p}var of=Ur({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ff=Ur({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cf(h){return"\\"+Zo[h]}function Lt(h){return Mo.test(h)}function qr(h){var g=-1,p=Array(h.size);return h.forEach((function(A,S){p[++g]=[S,A]})),p}function Rs(h,g){return function(p){return h(g(p))}}function tt(h,g){for(var p=-1,A=h.length,S=0,U=[];++p<A;){var X=h[p];(X===g||X===It)&&(h[p]=It,U[S++]=p)}return U}function Se(h){var g=-1,p=Array(h.size);return h.forEach((function(A){p[++g]=A})),p}function Dt(h){return Lt(h)?function mf(h){for(var g=br.lastIndex=0;br.test(h);)++g;return g}(h):nf(h)}function On(h){return Lt(h)?function wf(h){return h.match(br)||[]}(h):function tf(h){return h.split("")}(h)}function bs(h){for(var g=h.length;g--&&so.test(h.charAt(g)););return g}var _f=Ur({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ht=function h(g){var p=(g=null==g?k:Ht.defaults(k.Object(),g,Ht.pick(k,Bo))).Array,A=g.Date,S=g.Error,U=g.Function,X=g.Math,M=g.Object,Br=g.RegExp,Cf=g.String,wn=g.TypeError,Oe=p.prototype,If=U.prototype,Nt=M.prototype,Re=g["__core-js_shared__"],be=If.toString,F=Nt.hasOwnProperty,xf=0,Ts=function(){var n=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Te=Nt.toString,Ef=be.call(M),yf=k._,Sf=Br("^"+be.call(F).replace(xr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=ds?g.Buffer:i,et=g.Symbol,De=g.Uint8Array,Ls=Le?Le.allocUnsafe:i,He=Rs(M.getPrototypeOf,M),Ds=M.create,Hs=Nt.propertyIsEnumerable,Ne=Oe.splice,Ns=et?et.isConcatSpreadable:i,ne=et?et.iterator:i,pt=et?et.toStringTag:i,$e=function(){try{var n=mt(M,"defineProperty");return n({},"",{}),n}catch{}}(),Of=g.clearTimeout!==k.clearTimeout&&g.clearTimeout,Rf=A&&A.now!==k.Date.now&&A.now,bf=g.setTimeout!==k.setTimeout&&g.setTimeout,Ue=X.ceil,We=X.floor,Gr=M.getOwnPropertySymbols,Tf=Le?Le.isBuffer:i,$s=g.isFinite,Lf=Oe.join,Df=Rs(M.keys,M),Q=X.max,nn=X.min,Hf=A.now,Nf=g.parseInt,Us=X.random,$f=Oe.reverse,zr=mt(g,"DataView"),te=mt(g,"Map"),Kr=mt(g,"Promise"),$t=mt(g,"Set"),ee=mt(g,"WeakMap"),re=mt(M,"create"),Fe=ee&&new ee,Ut={},Uf=wt(zr),Wf=wt(te),Ff=wt(Kr),Mf=wt($t),qf=wt(ee),Me=et?et.prototype:i,ie=Me?Me.valueOf:i,Ws=Me?Me.toString:i;function a(n){if(Y(n)&&!R(n)&&!(n instanceof H)){if(n instanceof Pn)return n;if(F.call(n,"__wrapped__"))return Fu(n)}return new Pn(n)}var Wt=function(){function n(){}return function(t){if(!K(t))return{};if(Ds)return Ds(t);n.prototype=t;var e=new n;return n.prototype=i,e}}();function qe(){}function Pn(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function H(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Nn,this.__views__=[]}function dt(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function Bn(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function Gn(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function gt(n){var t=-1,e=null==n?0:n.length;for(this.__data__=new Gn;++t<e;)this.add(n[t])}function Rn(n){var t=this.__data__=new Bn(n);this.size=t.size}function Fs(n,t){var e=R(n),r=!e&&Pt(n),s=!e&&!r&&at(n),o=!e&&!r&&!s&&Bt(n),f=e||r||s||o,c=f?Fr(n.length,Cf):[],l=c.length;for(var v in n)(t||F.call(n,v))&&(!f||!("length"==v||s&&("offset"==v||"parent"==v)||o&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||Zn(v,l)))&&c.push(v);return c}function Ms(n){var t=n.length;return t?n[ei(0,t-1)]:i}function pc(n,t){return tr(un(n),vt(t,0,n.length))}function dc(n){return tr(un(n))}function Yr(n,t,e){(e!==i&&!bn(n[t],e)||e===i&&!(t in n))&&zn(n,t,e)}function se(n,t,e){var r=n[t];(!F.call(n,t)||!bn(r,e)||e===i&&!(t in n))&&zn(n,t,e)}function Be(n,t){for(var e=n.length;e--;)if(bn(n[e][0],t))return e;return-1}function gc(n,t,e,r){return rt(n,(function(s,o,f){t(r,s,e(s),f)})),r}function qs(n,t){return n&&Un(t,V(t),n)}function zn(n,t,e){"__proto__"==t&&$e?$e(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Zr(n,t){for(var e=-1,r=t.length,s=p(r),o=null==n;++e<r;)s[e]=o?i:Si(n,t[e]);return s}function vt(n,t,e){return n==n&&(e!==i&&(n=n<=e?n:e),t!==i&&(n=n>=t?n:t)),n}function An(n,t,e,r,s,o){var f,c=1&t,l=2&t,v=4&t;if(e&&(f=s?e(n,r,s,o):e(n)),f!==i)return f;if(!K(n))return n;var _=R(n);if(_){if(f=function ih(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&F.call(n,"index")&&(e.index=n.index,e.input=n.input),e}(n),!c)return un(n,f)}else{var m=tn(n),w=m==Pe||m==Gi;if(at(n))return hu(n,c);if(m==qn||m==Ot||w&&!s){if(f=l||w?{}:bu(n),!c)return l?function Zc(n,t){return Un(n,Ou(n),t)}(n,function vc(n,t){return n&&Un(t,on(t),n)}(f,n)):function Yc(n,t){return Un(n,vi(n),t)}(n,qs(f,n))}else{if(!q[m])return s?n:{};f=function sh(n,t,e){var r=n.constructor;switch(t){case kt:return fi(n);case Yt:case Zt:return new r(+n);case Rt:return function Bc(n,t){var e=t?fi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}(n,e);case gr:case vr:case _r:case mr:case wr:case Pr:case Ar:case Cr:case Ir:return lu(n,e);case yn:return new r;case Jt:case Qt:return new r(n);case Xt:return function Gc(n){var t=new n.constructor(n.source,Ji.exec(n));return t.lastIndex=n.lastIndex,t}(n);case Sn:return new r;case Ae:return function zc(n){return ie?M(ie.call(n)):{}}(n)}}(n,m,c)}}o||(o=new Rn);var I=o.get(n);if(I)return I;o.set(n,f),sa(n)?n.forEach((function(y){f.add(An(y,t,e,y,n,o))})):ra(n)&&n.forEach((function(y,D){f.set(D,An(y,t,e,D,n,o))}));var T=_?i:(v?l?pi:li:l?on:V)(n);return mn(T||n,(function(y,D){T&&(y=n[D=y]),se(f,D,An(y,t,e,D,n,o))})),f}function Bs(n,t,e){var r=e.length;if(null==n)return!r;for(n=M(n);r--;){var s=e[r],o=t[s],f=n[s];if(f===i&&!(s in n)||!o(f))return!1}return!0}function Gs(n,t,e){if("function"!=typeof n)throw new wn($);return le((function(){n.apply(i,e)}),t)}function ue(n,t,e,r){var s=-1,o=Ee,f=!0,c=n.length,l=[],v=t.length;if(!c)return l;e&&(t=G(t,hn(e))),r?(o=Dr,f=!1):t.length>=200&&(o=jt,f=!1,t=new gt(t));n:for(;++s<c;){var _=n[s],m=null==e?_:e(_);if(_=r||0!==_?_:0,f&&m==m){for(var w=v;w--;)if(t[w]===m)continue n;l.push(_)}else o(t,m,r)||l.push(_)}return l}a.templateSettings={escape:ja,evaluate:no,interpolate:Zi,variable:"",imports:{_:a}},a.prototype=qe.prototype,a.prototype.constructor=a,Pn.prototype=Wt(qe.prototype),Pn.prototype.constructor=Pn,H.prototype=Wt(qe.prototype),H.prototype.constructor=H,dt.prototype.clear=function Kf(){this.__data__=re?re(null):{},this.size=0},dt.prototype.delete=function Yf(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},dt.prototype.get=function Zf(n){var t=this.__data__;if(re){var e=t[n];return e===zt?i:e}return F.call(t,n)?t[n]:i},dt.prototype.has=function Jf(n){var t=this.__data__;return re?t[n]!==i:F.call(t,n)},dt.prototype.set=function Xf(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=re&&t===i?zt:t,this},Bn.prototype.clear=function Qf(){this.__data__=[],this.size=0},Bn.prototype.delete=function Vf(n){var t=this.__data__,e=Be(t,n);return!(e<0)&&(e==t.length-1?t.pop():Ne.call(t,e,1),--this.size,!0)},Bn.prototype.get=function kf(n){var t=this.__data__,e=Be(t,n);return e<0?i:t[e][1]},Bn.prototype.has=function jf(n){return Be(this.__data__,n)>-1},Bn.prototype.set=function nc(n,t){var e=this.__data__,r=Be(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this},Gn.prototype.clear=function tc(){this.size=0,this.__data__={hash:new dt,map:new(te||Bn),string:new dt}},Gn.prototype.delete=function ec(n){var t=nr(this,n).delete(n);return this.size-=t?1:0,t},Gn.prototype.get=function rc(n){return nr(this,n).get(n)},Gn.prototype.has=function ic(n){return nr(this,n).has(n)},Gn.prototype.set=function sc(n,t){var e=nr(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this},gt.prototype.add=gt.prototype.push=function uc(n){return this.__data__.set(n,zt),this},gt.prototype.has=function ac(n){return this.__data__.has(n)},Rn.prototype.clear=function oc(){this.__data__=new Bn,this.size=0},Rn.prototype.delete=function fc(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},Rn.prototype.get=function cc(n){return this.__data__.get(n)},Rn.prototype.has=function hc(n){return this.__data__.has(n)},Rn.prototype.set=function lc(n,t){var e=this.__data__;if(e instanceof Bn){var r=e.__data__;if(!te||r.length<199)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new Gn(r)}return e.set(n,t),this.size=e.size,this};var rt=vu($n),zs=vu(Xr,!0);function mc(n,t){var e=!0;return rt(n,(function(r,s,o){return e=!!t(r,s,o)})),e}function Ge(n,t,e){for(var r=-1,s=n.length;++r<s;){var o=n[r],f=t(o);if(null!=f&&(c===i?f==f&&!pn(f):e(f,c)))var c=f,l=o}return l}function Ks(n,t){var e=[];return rt(n,(function(r,s,o){t(r,s,o)&&e.push(r)})),e}function j(n,t,e,r,s){var o=-1,f=n.length;for(e||(e=ah),s||(s=[]);++o<f;){var c=n[o];t>0&&e(c)?t>1?j(c,t-1,e,r,s):nt(s,c):r||(s[s.length]=c)}return s}var Jr=_u(),Ys=_u(!0);function $n(n,t){return n&&Jr(n,t,V)}function Xr(n,t){return n&&Ys(n,t,V)}function ze(n,t){return jn(t,(function(e){return Jn(n[e])}))}function _t(n,t){for(var e=0,r=(t=st(t,n)).length;null!=n&&e<r;)n=n[Wn(t[e++])];return e&&e==r?n:i}function Zs(n,t,e){var r=t(n);return R(n)?r:nt(r,e(n))}function en(n){return null==n?n===i?"[object Undefined]":"[object Null]":pt&&pt in M(n)?function th(n){var t=F.call(n,pt),e=n[pt];try{n[pt]=i;var r=!0}catch{}var s=Te.call(n);return r&&(t?n[pt]=e:delete n[pt]),s}(n):function dh(n){return Te.call(n)}(n)}function Qr(n,t){return n>t}function Pc(n,t){return null!=n&&F.call(n,t)}function Ac(n,t){return null!=n&&t in M(n)}function Vr(n,t,e){for(var r=e?Dr:Ee,s=n[0].length,o=n.length,f=o,c=p(o),l=1/0,v=[];f--;){var _=n[f];f&&t&&(_=G(_,hn(t))),l=nn(_.length,l),c[f]=!e&&(t||s>=120&&_.length>=120)?new gt(f&&_):i}_=n[0];var m=-1,w=c[0];n:for(;++m<s&&v.length<l;){var I=_[m],E=t?t(I):I;if(I=e||0!==I?I:0,!(w?jt(w,E):r(v,E,e))){for(f=o;--f;){var T=c[f];if(!(T?jt(T,E):r(n[f],E,e)))continue n}w&&w.push(E),v.push(I)}}return v}function ae(n,t,e){var r=null==(n=Hu(n,t=st(t,n)))?n:n[Wn(In(t))];return null==r?i:cn(r,n,e)}function Js(n){return Y(n)&&en(n)==Ot}function oe(n,t,e,r,s){return n===t||(null==n||null==t||!Y(n)&&!Y(t)?n!=n&&t!=t:function yc(n,t,e,r,s,o){var f=R(n),c=R(t),l=f?me:tn(n),v=c?me:tn(t);l=l==Ot?qn:l,v=v==Ot?qn:v;var _=l==qn,m=v==qn,w=l==v;if(w&&at(n)){if(!at(t))return!1;f=!0,_=!1}if(w&&!_)return o||(o=new Rn),f||Bt(n)?Su(n,t,e,r,s,o):function jc(n,t,e,r,s,o,f){switch(e){case Rt:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case kt:return!(n.byteLength!=t.byteLength||!o(new De(n),new De(t)));case Yt:case Zt:case Jt:return bn(+n,+t);case we:return n.name==t.name&&n.message==t.message;case Xt:case Qt:return n==t+"";case yn:var c=qr;case Sn:var l=1&r;if(c||(c=Se),n.size!=t.size&&!l)return!1;var v=f.get(n);if(v)return v==t;r|=2,f.set(n,t);var _=Su(c(n),c(t),r,s,o,f);return f.delete(n),_;case Ae:if(ie)return ie.call(n)==ie.call(t)}return!1}(n,t,l,e,r,s,o);if(!(1&e)){var I=_&&F.call(n,"__wrapped__"),E=m&&F.call(t,"__wrapped__");if(I||E){var T=I?n.value():n,y=E?t.value():t;return o||(o=new Rn),s(T,y,e,r,o)}}return!!w&&(o||(o=new Rn),function nh(n,t,e,r,s,o){var f=1&e,c=li(n),l=c.length,v=li(t),_=v.length;if(l!=_&&!f)return!1;for(var m=l;m--;){var w=c[m];if(!(f?w in t:F.call(t,w)))return!1}var I=o.get(n),E=o.get(t);if(I&&E)return I==t&&E==n;var T=!0;o.set(n,t),o.set(t,n);for(var y=f;++m<l;){var D=n[w=c[m]],N=t[w];if(r)var dn=f?r(N,D,w,t,n,o):r(D,N,w,n,t,o);if(!(dn===i?D===N||s(D,N,e,r,o):dn)){T=!1;break}y||(y="constructor"==w)}if(T&&!y){var sn=n.constructor,gn=t.constructor;sn!=gn&&"constructor"in n&&"constructor"in t&&!("function"==typeof sn&&sn instanceof sn&&"function"==typeof gn&&gn instanceof gn)&&(T=!1)}return o.delete(n),o.delete(t),T}(n,t,e,r,s,o))}(n,t,e,r,oe,s))}function kr(n,t,e,r){var s=e.length,o=s,f=!r;if(null==n)return!o;for(n=M(n);s--;){var c=e[s];if(f&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++s<o;){var l=(c=e[s])[0],v=n[l],_=c[1];if(f&&c[2]){if(v===i&&!(l in n))return!1}else{var m=new Rn;if(r)var w=r(v,_,l,n,t,m);if(!(w===i?oe(_,v,3,r,m):w))return!1}}return!0}function Xs(n){return!(!K(n)||function fh(n){return!!Ts&&Ts in n}(n))&&(Jn(n)?Sf:vo).test(wt(n))}function Qs(n){return"function"==typeof n?n:null==n?fn:"object"==typeof n?R(n)?js(n[0],n[1]):ks(n):ma(n)}function jr(n){if(!he(n))return Df(n);var t=[];for(var e in M(n))F.call(n,e)&&"constructor"!=e&&t.push(e);return t}function Tc(n){if(!K(n))return function ph(n){var t=[];if(null!=n)for(var e in M(n))t.push(e);return t}(n);var t=he(n),e=[];for(var r in n)"constructor"==r&&(t||!F.call(n,r))||e.push(r);return e}function ni(n,t){return n<t}function Vs(n,t){var e=-1,r=an(n)?p(n.length):[];return rt(n,(function(s,o,f){r[++e]=t(s,o,f)})),r}function ks(n){var t=gi(n);return 1==t.length&&t[0][2]?Lu(t[0][0],t[0][1]):function(e){return e===n||kr(e,n,t)}}function js(n,t){return _i(n)&&Tu(t)?Lu(Wn(n),t):function(e){var r=Si(e,n);return r===i&&r===t?Oi(e,n):oe(t,r,3)}}function Ke(n,t,e,r,s){n!==t&&Jr(t,(function(o,f){if(s||(s=new Rn),K(o))!function Lc(n,t,e,r,s,o,f){var c=wi(n,e),l=wi(t,e),v=f.get(l);if(v)return void Yr(n,e,v);var _=o?o(c,l,e+"",n,t,f):i,m=_===i;if(m){var w=R(l),I=!w&&at(l),E=!w&&!I&&Bt(l);_=l,w||I||E?R(c)?_=c:Z(c)?_=un(c):I?(m=!1,_=hu(l,!0)):E?(m=!1,_=lu(l,!0)):_=[]:pe(l)||Pt(l)?(_=c,Pt(c)?_=oa(c):(!K(c)||Jn(c))&&(_=bu(l))):m=!1}m&&(f.set(l,_),s(_,l,r,o,f),f.delete(l)),Yr(n,e,_)}(n,t,f,e,Ke,r,s);else{var c=r?r(wi(n,f),o,f+"",n,t,s):i;c===i&&(c=o),Yr(n,f,c)}}),on)}function nu(n,t){var e=n.length;if(e)return Zn(t+=t<0?e:0,e)?n[t]:i}function tu(n,t,e){t=t.length?G(t,(function(o){return R(o)?function(f){return _t(f,1===o.length?o[0]:o)}:o})):[fn];var r=-1;t=G(t,hn(x()));var s=Vs(n,(function(o,f,c){var l=G(t,(function(v){return v(o)}));return{criteria:l,index:++r,value:o}}));return function sf(h,g){var p=h.length;for(h.sort(g);p--;)h[p]=h[p].value;return h}(s,(function(o,f){return function Kc(n,t,e){for(var r=-1,s=n.criteria,o=t.criteria,f=s.length,c=e.length;++r<f;){var l=pu(s[r],o[r]);if(l)return r>=c?l:l*("desc"==e[r]?-1:1)}return n.index-t.index}(o,f,e)}))}function eu(n,t,e){for(var r=-1,s=t.length,o={};++r<s;){var f=t[r],c=_t(n,f);e(c,f)&&fe(o,st(f,n),c)}return o}function ti(n,t,e,r){var s=r?rf:Tt,o=-1,f=t.length,c=n;for(n===t&&(t=un(t)),e&&(c=G(n,hn(e)));++o<f;)for(var l=0,v=t[o],_=e?e(v):v;(l=s(c,_,l,r))>-1;)c!==n&&Ne.call(c,l,1),Ne.call(n,l,1);return n}function ru(n,t){for(var e=n?t.length:0,r=e-1;e--;){var s=t[e];if(e==r||s!==o){var o=s;Zn(s)?Ne.call(n,s,1):si(n,s)}}return n}function ei(n,t){return n+We(Us()*(t-n+1))}function ri(n,t){var e="";if(!n||t<1||t>kn)return e;do{t%2&&(e+=n),(t=We(t/2))&&(n+=n)}while(t);return e}function L(n,t){return Pi(Du(n,t,fn),n+"")}function $c(n){return Ms(Gt(n))}function Uc(n,t){var e=Gt(n);return tr(e,vt(t,0,e.length))}function fe(n,t,e,r){if(!K(n))return n;for(var s=-1,o=(t=st(t,n)).length,f=o-1,c=n;null!=c&&++s<o;){var l=Wn(t[s]),v=e;if("__proto__"===l||"constructor"===l||"prototype"===l)return n;if(s!=f){var _=c[l];(v=r?r(_,l,c):i)===i&&(v=K(_)?_:Zn(t[s+1])?[]:{})}se(c,l,v),c=c[l]}return n}var iu=Fe?function(n,t){return Fe.set(n,t),n}:fn,Wc=$e?function(n,t){return $e(n,"toString",{configurable:!0,enumerable:!1,value:bi(t),writable:!0})}:fn;function Fc(n){return tr(Gt(n))}function Cn(n,t,e){var r=-1,s=n.length;t<0&&(t=-t>s?0:s+t),(e=e>s?s:e)<0&&(e+=s),s=t>e?0:e-t>>>0,t>>>=0;for(var o=p(s);++r<s;)o[r]=n[r+t];return o}function Mc(n,t){var e;return rt(n,(function(r,s,o){return!(e=t(r,s,o))})),!!e}function Ye(n,t,e){var r=0,s=null==n?r:n.length;if("number"==typeof t&&t==t&&s<=2147483647){for(;r<s;){var o=r+s>>>1,f=n[o];null!==f&&!pn(f)&&(e?f<=t:f<t)?r=o+1:s=o}return s}return ii(n,t,fn,e)}function ii(n,t,e,r){var s=0,o=null==n?0:n.length;if(0===o)return 0;for(var f=(t=e(t))!=t,c=null===t,l=pn(t),v=t===i;s<o;){var _=We((s+o)/2),m=e(n[_]),w=m!==i,I=null===m,E=m==m,T=pn(m);if(f)var y=r||E;else y=v?E&&(r||w):c?E&&w&&(r||!I):l?E&&w&&!I&&(r||!T):!I&&!T&&(r?m<=t:m<t);y?s=_+1:o=_}return nn(o,4294967294)}function su(n,t){for(var e=-1,r=n.length,s=0,o=[];++e<r;){var f=n[e],c=t?t(f):f;if(!e||!bn(c,l)){var l=c;o[s++]=0===f?0:f}}return o}function uu(n){return"number"==typeof n?n:pn(n)?NaN:+n}function ln(n){if("string"==typeof n)return n;if(R(n))return G(n,ln)+"";if(pn(n))return Ws?Ws.call(n):"";var t=n+"";return"0"==t&&1/n==-ht?"-0":t}function it(n,t,e){var r=-1,s=Ee,o=n.length,f=!0,c=[],l=c;if(e)f=!1,s=Dr;else if(o>=200){var v=t?null:Vc(n);if(v)return Se(v);f=!1,s=jt,l=new gt}else l=t?[]:c;n:for(;++r<o;){var _=n[r],m=t?t(_):_;if(_=e||0!==_?_:0,f&&m==m){for(var w=l.length;w--;)if(l[w]===m)continue n;t&&l.push(m),c.push(_)}else s(l,m,e)||(l!==c&&l.push(m),c.push(_))}return c}function si(n,t){return null==(n=Hu(n,t=st(t,n)))||delete n[Wn(In(t))]}function au(n,t,e,r){return fe(n,t,e(_t(n,t)),r)}function Ze(n,t,e,r){for(var s=n.length,o=r?s:-1;(r?o--:++o<s)&&t(n[o],o,n););return e?Cn(n,r?0:o,r?o+1:s):Cn(n,r?o+1:0,r?s:o)}function ou(n,t){var e=n;return e instanceof H&&(e=e.value()),Hr(t,(function(r,s){return s.func.apply(s.thisArg,nt([r],s.args))}),e)}function ui(n,t,e){var r=n.length;if(r<2)return r?it(n[0]):[];for(var s=-1,o=p(r);++s<r;)for(var f=n[s],c=-1;++c<r;)c!=s&&(o[s]=ue(o[s]||f,n[c],t,e));return it(j(o,1),t,e)}function fu(n,t,e){for(var r=-1,s=n.length,o=t.length,f={};++r<s;){var c=r<o?t[r]:i;e(f,n[r],c)}return f}function ai(n){return Z(n)?n:[]}function oi(n){return"function"==typeof n?n:fn}function st(n,t){return R(n)?n:_i(n,t)?[n]:Wu(W(n))}var qc=L;function ut(n,t,e){var r=n.length;return e=e===i?r:e,!t&&e>=r?n:Cn(n,t,e)}var cu=Of||function(n){return k.clearTimeout(n)};function hu(n,t){if(t)return n.slice();var e=n.length,r=Ls?Ls(e):new n.constructor(e);return n.copy(r),r}function fi(n){var t=new n.constructor(n.byteLength);return new De(t).set(new De(n)),t}function lu(n,t){var e=t?fi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}function pu(n,t){if(n!==t){var e=n!==i,r=null===n,s=n==n,o=pn(n),f=t!==i,c=null===t,l=t==t,v=pn(t);if(!c&&!v&&!o&&n>t||o&&f&&l&&!c&&!v||r&&f&&l||!e&&l||!s)return 1;if(!r&&!o&&!v&&n<t||v&&e&&s&&!r&&!o||c&&e&&s||!f&&s||!l)return-1}return 0}function du(n,t,e,r){for(var s=-1,o=n.length,f=e.length,c=-1,l=t.length,v=Q(o-f,0),_=p(l+v),m=!r;++c<l;)_[c]=t[c];for(;++s<f;)(m||s<o)&&(_[e[s]]=n[s]);for(;v--;)_[c++]=n[s++];return _}function gu(n,t,e,r){for(var s=-1,o=n.length,f=-1,c=e.length,l=-1,v=t.length,_=Q(o-c,0),m=p(_+v),w=!r;++s<_;)m[s]=n[s];for(var I=s;++l<v;)m[I+l]=t[l];for(;++f<c;)(w||s<o)&&(m[I+e[f]]=n[s++]);return m}function un(n,t){var e=-1,r=n.length;for(t||(t=p(r));++e<r;)t[e]=n[e];return t}function Un(n,t,e,r){var s=!e;e||(e={});for(var o=-1,f=t.length;++o<f;){var c=t[o],l=r?r(e[c],n[c],c,e,n):i;l===i&&(l=n[c]),s?zn(e,c,l):se(e,c,l)}return e}function Je(n,t){return function(e,r){var s=R(e)?Vo:gc,o=t?t():{};return s(e,n,x(r,2),o)}}function Ft(n){return L((function(t,e){var r=-1,s=e.length,o=s>1?e[s-1]:i,f=s>2?e[2]:i;for(o=n.length>3&&"function"==typeof o?(s--,o):i,f&&rn(e[0],e[1],f)&&(o=s<3?i:o,s=1),t=M(t);++r<s;){var c=e[r];c&&n(t,c,r,o)}return t}))}function vu(n,t){return function(e,r){if(null==e)return e;if(!an(e))return n(e,r);for(var s=e.length,o=t?s:-1,f=M(e);(t?o--:++o<s)&&!1!==r(f[o],o,f););return e}}function _u(n){return function(t,e,r){for(var s=-1,o=M(t),f=r(t),c=f.length;c--;){var l=f[n?c:++s];if(!1===e(o[l],l,o))break}return t}}function mu(n){return function(t){var e=Lt(t=W(t))?On(t):i,r=e?e[0]:t.charAt(0),s=e?ut(e,1).join(""):t.slice(1);return r[n]()+s}}function Mt(n){return function(t){return Hr(va(ga(t).replace(Uo,"")),n,"")}}function ce(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=Wt(n.prototype),r=n.apply(e,t);return K(r)?r:e}}function wu(n){return function(t,e,r){var s=M(t);if(!an(t)){var o=x(e,3);t=V(t),e=function(c){return o(s[c],c,s)}}var f=n(t,e,r);return f>-1?s[o?t[f]:f]:i}}function Pu(n){return Yn((function(t){var e=t.length,r=e,s=Pn.prototype.thru;for(n&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new wn($);if(s&&!f&&"wrapper"==je(o))var f=new Pn([],!0)}for(r=f?r:e;++r<e;){var c=je(o=t[r]),l="wrapper"==c?di(o):i;f=l&&mi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?f[je(l[0])].apply(f,l[3]):1==o.length&&mi(o)?f[c]():f.thru(o)}return function(){var v=arguments,_=v[0];if(f&&1==v.length&&R(_))return f.plant(_).value();for(var m=0,w=e?t[m].apply(this,v):_;++m<e;)w=t[m].call(this,w);return w}}))}function Xe(n,t,e,r,s,o,f,c,l,v){var _=t&Mn,m=1&t,w=2&t,I=24&t,E=512&t,T=w?i:ce(n);return function y(){for(var D=arguments.length,N=p(D),dn=D;dn--;)N[dn]=arguments[dn];if(I)var sn=qt(y),gn=function af(h,g){for(var p=h.length,A=0;p--;)h[p]===g&&++A;return A}(N,sn);if(r&&(N=du(N,r,s,I)),o&&(N=gu(N,o,f,I)),D-=gn,I&&D<v){var J=tt(N,sn);return Iu(n,t,Xe,y.placeholder,e,N,J,c,l,v-D)}var Tn=m?e:this,Qn=w?Tn[n]:n;return D=N.length,c?N=function gh(n,t){for(var e=n.length,r=nn(t.length,e),s=un(n);r--;){var o=t[r];n[r]=Zn(o,e)?s[o]:i}return n}(N,c):E&&D>1&&N.reverse(),_&&l<D&&(N.length=l),this&&this!==k&&this instanceof y&&(Qn=T||ce(Qn)),Qn.apply(Tn,N)}}function Au(n,t){return function(e,r){return function Ic(n,t,e,r){return $n(n,(function(s,o,f){t(r,e(s),o,f)})),r}(e,n,t(r),{})}}function Qe(n,t){return function(e,r){var s;if(e===i&&r===i)return t;if(e!==i&&(s=e),r!==i){if(s===i)return r;"string"==typeof e||"string"==typeof r?(e=ln(e),r=ln(r)):(e=uu(e),r=uu(r)),s=n(e,r)}return s}}function ci(n){return Yn((function(t){return t=G(t,hn(x())),L((function(e){var r=this;return n(t,(function(s){return cn(s,r,e)}))}))}))}function Ve(n,t){var e=(t=t===i?" ":ln(t)).length;if(e<2)return e?ri(t,n):t;var r=ri(t,Ue(n/Dt(t)));return Lt(t)?ut(On(r),0,n).join(""):r.slice(0,n)}function Cu(n){return function(t,e,r){return r&&"number"!=typeof r&&rn(t,e,r)&&(e=r=i),t=Xn(t),e===i?(e=t,t=0):e=Xn(e),function Nc(n,t,e,r){for(var s=-1,o=Q(Ue((t-n)/(e||1)),0),f=p(o);o--;)f[r?o:++s]=n,n+=e;return f}(t,e,r=r===i?t<e?1:-1:Xn(r),n)}}function ke(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=xn(t),e=xn(e)),n(t,e)}}function Iu(n,t,e,r,s,o,f,c,l,v){var _=8&t;t|=_?32:64,4&(t&=~(_?64:32))||(t&=-4);var T=[n,t,s,_?o:i,_?f:i,_?i:o,_?i:f,c,l,v],y=e.apply(i,T);return mi(n)&&Nu(y,T),y.placeholder=r,$u(y,n,t)}function hi(n){var t=X[n];return function(e,r){if(e=xn(e),(r=null==r?0:nn(b(r),292))&&$s(e)){var s=(W(e)+"e").split("e");return+((s=(W(t(s[0]+"e"+(+s[1]+r)))+"e").split("e"))[0]+"e"+(+s[1]-r))}return t(e)}}var Vc=$t&&1/Se(new $t([,-0]))[1]==ht?function(n){return new $t(n)}:Di;function xu(n){return function(t){var e=tn(t);return e==yn?qr(t):e==Sn?function df(h){var g=-1,p=Array(h.size);return h.forEach((function(A){p[++g]=[A,A]})),p}(t):function uf(h,g){return G(g,(function(p){return[p,h[p]]}))}(t,n(t))}}function Kn(n,t,e,r,s,o,f,c){var l=2&t;if(!l&&"function"!=typeof n)throw new wn($);var v=r?r.length:0;if(v||(t&=-97,r=s=i),f=f===i?f:Q(b(f),0),c=c===i?c:b(c),v-=s?s.length:0,64&t){var _=r,m=s;r=s=i}var w=l?i:di(n),I=[n,t,e,r,s,_,m,o,f,c];if(w&&function lh(n,t){var e=n[1],r=t[1],s=e|r,o=s<131,f=r==Mn&&8==e||r==Mn&&256==e&&n[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==e;if(!o&&!f)return n;1&r&&(n[2]=t[2],s|=1&e?0:4);var c=t[3];if(c){var l=n[3];n[3]=l?du(l,c,t[4]):c,n[4]=l?tt(n[3],It):t[4]}return c=t[5],c&&(l=n[5],n[5]=l?gu(l,c,t[6]):c,n[6]=l?tt(n[5],It):t[6]),c=t[7],c&&(n[7]=c),r&Mn&&(n[8]=null==n[8]?t[8]:nn(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=s,n}(I,w),n=I[0],t=I[1],e=I[2],r=I[3],s=I[4],!(c=I[9]=I[9]===i?l?0:n.length:Q(I[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||16==t?function Xc(n,t,e){var r=ce(n);return function s(){for(var o=arguments.length,f=p(o),c=o,l=qt(s);c--;)f[c]=arguments[c];var v=o<3&&f[0]!==l&&f[o-1]!==l?[]:tt(f,l);return(o-=v.length)<e?Iu(n,t,Xe,s.placeholder,i,f,v,i,i,e-o):cn(this&&this!==k&&this instanceof s?r:n,this,f)}}(n,t,c):32!=t&&33!=t||s.length?Xe.apply(i,I):function Qc(n,t,e,r){var s=1&t,o=ce(n);return function f(){for(var c=-1,l=arguments.length,v=-1,_=r.length,m=p(_+l),w=this&&this!==k&&this instanceof f?o:n;++v<_;)m[v]=r[v];for(;l--;)m[v++]=arguments[++c];return cn(w,s?e:this,m)}}(n,t,e,r);else var E=function Jc(n,t,e){var r=1&t,s=ce(n);return function o(){return(this&&this!==k&&this instanceof o?s:n).apply(r?e:this,arguments)}}(n,t,e);return $u((w?iu:Nu)(E,I),n,t)}function Eu(n,t,e,r){return n===i||bn(n,Nt[e])&&!F.call(r,e)?t:n}function yu(n,t,e,r,s,o){return K(n)&&K(t)&&(o.set(t,n),Ke(n,t,i,yu,o),o.delete(t)),n}function kc(n){return pe(n)?i:n}function Su(n,t,e,r,s,o){var f=1&e,c=n.length,l=t.length;if(c!=l&&!(f&&l>c))return!1;var v=o.get(n),_=o.get(t);if(v&&_)return v==t&&_==n;var m=-1,w=!0,I=2&e?new gt:i;for(o.set(n,t),o.set(t,n);++m<c;){var E=n[m],T=t[m];if(r)var y=f?r(T,E,m,t,n,o):r(E,T,m,n,t,o);if(y!==i){if(y)continue;w=!1;break}if(I){if(!Nr(t,(function(D,N){if(!jt(I,N)&&(E===D||s(E,D,e,r,o)))return I.push(N)}))){w=!1;break}}else if(E!==T&&!s(E,T,e,r,o)){w=!1;break}}return o.delete(n),o.delete(t),w}function Yn(n){return Pi(Du(n,i,Bu),n+"")}function li(n){return Zs(n,V,vi)}function pi(n){return Zs(n,on,Ou)}var di=Fe?function(n){return Fe.get(n)}:Di;function je(n){for(var t=n.name+"",e=Ut[t],r=F.call(Ut,t)?e.length:0;r--;){var s=e[r],o=s.func;if(null==o||o==n)return s.name}return t}function qt(n){return(F.call(a,"placeholder")?a:n).placeholder}function x(){var n=a.iteratee||Ti;return n=n===Ti?Qs:n,arguments.length?n(arguments[0],arguments[1]):n}function nr(n,t){var e=n.__data__;return function oh(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map}function gi(n){for(var t=V(n),e=t.length;e--;){var r=t[e],s=n[r];t[e]=[r,s,Tu(s)]}return t}function mt(n,t){var e=function hf(h,g){return null==h?i:h[g]}(n,t);return Xs(e)?e:i}var vi=Gr?function(n){return null==n?[]:(n=M(n),jn(Gr(n),(function(t){return Hs.call(n,t)})))}:Hi,Ou=Gr?function(n){for(var t=[];n;)nt(t,vi(n)),n=He(n);return t}:Hi,tn=en;function Ru(n,t,e){for(var r=-1,s=(t=st(t,n)).length,o=!1;++r<s;){var f=Wn(t[r]);if(!(o=null!=n&&e(n,f)))break;n=n[f]}return o||++r!=s?o:!!(s=null==n?0:n.length)&&ar(s)&&Zn(f,s)&&(R(n)||Pt(n))}function bu(n){return"function"!=typeof n.constructor||he(n)?{}:Wt(He(n))}function ah(n){return R(n)||Pt(n)||!!(Ns&&n&&n[Ns])}function Zn(n,t){var e=typeof n;return!!(t=t??kn)&&("number"==e||"symbol"!=e&&mo.test(n))&&n>-1&&n%1==0&&n<t}function rn(n,t,e){if(!K(e))return!1;var r=typeof t;return!!("number"==r?an(e)&&Zn(t,e.length):"string"==r&&t in e)&&bn(e[t],n)}function _i(n,t){if(R(n))return!1;var e=typeof n;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=n&&!pn(n))||(eo.test(n)||!to.test(n)||null!=t&&n in M(t))}function mi(n){var t=je(n),e=a[t];if("function"!=typeof e||!(t in H.prototype))return!1;if(n===e)return!0;var r=di(e);return!!r&&n===r[0]}(zr&&tn(new zr(new ArrayBuffer(1)))!=Rt||te&&tn(new te)!=yn||Kr&&tn(Kr.resolve())!=zi||$t&&tn(new $t)!=Sn||ee&&tn(new ee)!=Vt)&&(tn=function(n){var t=en(n),e=t==qn?n.constructor:i,r=e?wt(e):"";if(r)switch(r){case Uf:return Rt;case Wf:return yn;case Ff:return zi;case Mf:return Sn;case qf:return Vt}return t});var ch=Re?Jn:Ni;function he(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Nt)}function Tu(n){return n==n&&!K(n)}function Lu(n,t){return function(e){return null!=e&&(e[n]===t&&(t!==i||n in M(e)))}}function Du(n,t,e){return t=Q(t===i?n.length-1:t,0),function(){for(var r=arguments,s=-1,o=Q(r.length-t,0),f=p(o);++s<o;)f[s]=r[t+s];s=-1;for(var c=p(t+1);++s<t;)c[s]=r[s];return c[t]=e(f),cn(n,this,c)}}function Hu(n,t){return t.length<2?n:_t(n,Cn(t,0,-1))}function wi(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}var Nu=Uu(iu),le=bf||function(n,t){return k.setTimeout(n,t)},Pi=Uu(Wc);function $u(n,t,e){var r=t+"";return Pi(n,function uh(n,t){var e=t.length;if(!e)return n;var r=e-1;return t[r]=(e>1?"& ":"")+t[r],t=t.join(e>2?", ":" "),n.replace(uo,"{\n/* [wrapped with "+t+"] */\n")}(r,function vh(n,t){return mn(qa,(function(e){var r="_."+e[0];t&e[1]&&!Ee(n,r)&&n.push(r)})),n.sort()}(function rh(n){var t=n.match(ao);return t?t[1].split(oo):[]}(r),e)))}function Uu(n){var t=0,e=0;return function(){var r=Hf(),s=16-(r-e);if(e=r,s>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(i,arguments)}}function tr(n,t){var e=-1,r=n.length,s=r-1;for(t=t===i?r:t;++e<t;){var o=ei(e,s),f=n[o];n[o]=n[e],n[e]=f}return n.length=t,n}var Wu=function hh(n){var t=sr(n,(function(r){return 500===e.size&&e.clear(),r})),e=t.cache;return t}((function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(ro,(function(e,r,s,o){t.push(s?o.replace(ho,"$1"):r||e)})),t}));function Wn(n){if("string"==typeof n||pn(n))return n;var t=n+"";return"0"==t&&1/n==-ht?"-0":t}function wt(n){if(null!=n){try{return be.call(n)}catch{}try{return n+""}catch{}}return""}function Fu(n){if(n instanceof H)return n.clone();var t=new Pn(n.__wrapped__,n.__chain__);return t.__actions__=un(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}var Ph=L((function(n,t){return Z(n)?ue(n,j(t,1,Z,!0)):[]})),Ah=L((function(n,t){var e=In(t);return Z(e)&&(e=i),Z(n)?ue(n,j(t,1,Z,!0),x(e,2)):[]})),Ch=L((function(n,t){var e=In(t);return Z(e)&&(e=i),Z(n)?ue(n,j(t,1,Z,!0),i,e):[]}));function Mu(n,t,e){var r=null==n?0:n.length;if(!r)return-1;var s=null==e?0:b(e);return s<0&&(s=Q(r+s,0)),ye(n,x(t,3),s)}function qu(n,t,e){var r=null==n?0:n.length;if(!r)return-1;var s=r-1;return e!==i&&(s=b(e),s=e<0?Q(r+s,0):nn(s,r-1)),ye(n,x(t,3),s,!0)}function Bu(n){return(null==n?0:n.length)?j(n,1):[]}function Gu(n){return n&&n.length?n[0]:i}var Dh=L((function(n){var t=G(n,ai);return t.length&&t[0]===n[0]?Vr(t):[]})),Hh=L((function(n){var t=In(n),e=G(n,ai);return t===In(e)?t=i:e.pop(),e.length&&e[0]===n[0]?Vr(e,x(t,2)):[]})),Nh=L((function(n){var t=In(n),e=G(n,ai);return(t="function"==typeof t?t:i)&&e.pop(),e.length&&e[0]===n[0]?Vr(e,i,t):[]}));function In(n){var t=null==n?0:n.length;return t?n[t-1]:i}var Fh=L(zu);function zu(n,t){return n&&n.length&&t&&t.length?ti(n,t):n}var Bh=Yn((function(n,t){var e=null==n?0:n.length,r=Zr(n,t);return ru(n,G(t,(function(s){return Zn(s,e)?+s:s})).sort(pu)),r}));function Ai(n){return null==n?n:$f.call(n)}var il=L((function(n){return it(j(n,1,Z,!0))})),sl=L((function(n){var t=In(n);return Z(t)&&(t=i),it(j(n,1,Z,!0),x(t,2))})),ul=L((function(n){var t=In(n);return t="function"==typeof t?t:i,it(j(n,1,Z,!0),i,t)}));function Ci(n){if(!n||!n.length)return[];var t=0;return n=jn(n,(function(e){if(Z(e))return t=Q(e.length,t),!0})),Fr(t,(function(e){return G(n,$r(e))}))}function Ku(n,t){if(!n||!n.length)return[];var e=Ci(n);return null==t?e:G(e,(function(r){return cn(t,i,r)}))}var cl=L((function(n,t){return Z(n)?ue(n,t):[]})),hl=L((function(n){return ui(jn(n,Z))})),ll=L((function(n){var t=In(n);return Z(t)&&(t=i),ui(jn(n,Z),x(t,2))})),pl=L((function(n){var t=In(n);return t="function"==typeof t?t:i,ui(jn(n,Z),i,t)})),dl=L(Ci);var _l=L((function(n){var t=n.length,e=t>1?n[t-1]:i;return e="function"==typeof e?(n.pop(),e):i,Ku(n,e)}));function Yu(n){var t=a(n);return t.__chain__=!0,t}function er(n,t){return t(n)}var wl=Yn((function(n){var t=n.length,e=t?n[0]:0,r=this.__wrapped__,s=function(o){return Zr(o,n)};return!(t>1||this.__actions__.length)&&r instanceof H&&Zn(e)?((r=r.slice(e,+e+(t?1:0))).__actions__.push({func:er,args:[s],thisArg:i}),new Pn(r,this.__chain__).thru((function(o){return t&&!o.length&&o.push(i),o}))):this.thru(s)}));var Sl=Je((function(n,t,e){F.call(n,e)?++n[e]:zn(n,e,1)}));var bl=wu(Mu),Tl=wu(qu);function Zu(n,t){return(R(n)?mn:rt)(n,x(t,3))}function Ju(n,t){return(R(n)?ko:zs)(n,x(t,3))}var Nl=Je((function(n,t,e){F.call(n,e)?n[e].push(t):zn(n,e,[t])}));var Ul=L((function(n,t,e){var r=-1,s="function"==typeof t,o=an(n)?p(n.length):[];return rt(n,(function(f){o[++r]=s?cn(t,f,e):ae(f,t,e)})),o})),Wl=Je((function(n,t,e){zn(n,e,t)}));function rr(n,t){return(R(n)?G:Vs)(n,x(t,3))}var Ml=Je((function(n,t,e){n[e?0:1].push(t)}),(function(){return[[],[]]}));var Xl=L((function(n,t){if(null==n)return[];var e=t.length;return e>1&&rn(n,t[0],t[1])?t=[]:e>2&&rn(t[0],t[1],t[2])&&(t=[t[0]]),tu(n,j(t,1),[])})),ir=Rf||function(){return k.Date.now()};function Xu(n,t,e){return t=e?i:t,t=n&&null==t?n.length:t,Kn(n,Mn,i,i,i,i,t)}function Qu(n,t){var e;if("function"!=typeof t)throw new wn($);return n=b(n),function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=i),e}}var Ii=L((function(n,t,e){var r=1;if(e.length){var s=tt(e,qt(Ii));r|=32}return Kn(n,r,t,e,s)})),Vu=L((function(n,t,e){var r=3;if(e.length){var s=tt(e,qt(Vu));r|=32}return Kn(t,r,n,e,s)}));function na(n,t,e){var r,s,o,f,c,l,v=0,_=!1,m=!1,w=!0;if("function"!=typeof n)throw new wn($);function I(J){var Tn=r,Qn=s;return r=s=i,v=J,f=n.apply(Qn,Tn)}function y(J){var Tn=J-l;return l===i||Tn>=t||Tn<0||m&&J-v>=o}function D(){var J=ir();if(y(J))return N(J);c=le(D,function T(J){var wa=t-(J-l);return m?nn(wa,o-(J-v)):wa}(J))}function N(J){return c=i,w&&r?I(J):(r=s=i,f)}function gn(){var J=ir(),Tn=y(J);if(r=arguments,s=this,l=J,Tn){if(c===i)return function E(J){return v=J,c=le(D,t),_?I(J):f}(l);if(m)return cu(c),c=le(D,t),I(l)}return c===i&&(c=le(D,t)),f}return t=xn(t)||0,K(e)&&(_=!!e.leading,o=(m="maxWait"in e)?Q(xn(e.maxWait)||0,t):o,w="trailing"in e?!!e.trailing:w),gn.cancel=function dn(){c!==i&&cu(c),v=0,r=l=s=c=i},gn.flush=function sn(){return c===i?f:N(ir())},gn}var Vl=L((function(n,t){return Gs(n,1,t)})),kl=L((function(n,t,e){return Gs(n,xn(t)||0,e)}));function sr(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new wn($);var e=function(){var r=arguments,s=t?t.apply(this,r):r[0],o=e.cache;if(o.has(s))return o.get(s);var f=n.apply(this,r);return e.cache=o.set(s,f)||o,f};return e.cache=new(sr.Cache||Gn),e}function ur(n){if("function"!=typeof n)throw new wn($);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}sr.Cache=Gn;var tp=qc((function(n,t){var e=(t=1==t.length&&R(t[0])?G(t[0],hn(x())):G(j(t,1),hn(x()))).length;return L((function(r){for(var s=-1,o=nn(r.length,e);++s<o;)r[s]=t[s].call(this,r[s]);return cn(n,this,r)}))})),xi=L((function(n,t){var e=tt(t,qt(xi));return Kn(n,32,i,t,e)})),ta=L((function(n,t){var e=tt(t,qt(ta));return Kn(n,64,i,t,e)})),ep=Yn((function(n,t){return Kn(n,256,i,i,i,t)}));function bn(n,t){return n===t||n!=n&&t!=t}var dp=ke(Qr),gp=ke((function(n,t){return n>=t})),Pt=Js(function(){return arguments}())?Js:function(n){return Y(n)&&F.call(n,"callee")&&!Hs.call(n,"callee")},R=p.isArray,vp=gs?hn(gs):function xc(n){return Y(n)&&en(n)==kt};function an(n){return null!=n&&ar(n.length)&&!Jn(n)}function Z(n){return Y(n)&&an(n)}var at=Tf||Ni,mp=vs?hn(vs):function Ec(n){return Y(n)&&en(n)==Zt};function Ei(n){if(!Y(n))return!1;var t=en(n);return t==we||"[object DOMException]"==t||"string"==typeof n.message&&"string"==typeof n.name&&!pe(n)}function Jn(n){if(!K(n))return!1;var t=en(n);return t==Pe||t==Gi||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ea(n){return"number"==typeof n&&n==b(n)}function ar(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=kn}function K(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function Y(n){return null!=n&&"object"==typeof n}var ra=_s?hn(_s):function Sc(n){return Y(n)&&tn(n)==yn};function ia(n){return"number"==typeof n||Y(n)&&en(n)==Jt}function pe(n){if(!Y(n)||en(n)!=qn)return!1;var t=He(n);if(null===t)return!0;var e=F.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&be.call(e)==Ef}var yi=ms?hn(ms):function Oc(n){return Y(n)&&en(n)==Xt};var sa=ws?hn(ws):function Rc(n){return Y(n)&&tn(n)==Sn};function or(n){return"string"==typeof n||!R(n)&&Y(n)&&en(n)==Qt}function pn(n){return"symbol"==typeof n||Y(n)&&en(n)==Ae}var Bt=Ps?hn(Ps):function bc(n){return Y(n)&&ar(n.length)&&!!B[en(n)]};var Hp=ke(ni),Np=ke((function(n,t){return n<=t}));function ua(n){if(!n)return[];if(an(n))return or(n)?On(n):un(n);if(ne&&n[ne])return function pf(h){for(var g,p=[];!(g=h.next()).done;)p.push(g.value);return p}(n[ne]());var t=tn(n);return(t==yn?qr:t==Sn?Se:Gt)(n)}function Xn(n){return n?(n=xn(n))===ht||n===-ht?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}function b(n){var t=Xn(n),e=t%1;return t==t?e?t-e:t:0}function aa(n){return n?vt(b(n),0,Nn):0}function xn(n){if("number"==typeof n)return n;if(pn(n))return NaN;if(K(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=K(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=ys(n);var e=go.test(n);return e||_o.test(n)?Xo(n.slice(2),e?2:8):po.test(n)?NaN:+n}function oa(n){return Un(n,on(n))}function W(n){return null==n?"":ln(n)}var Up=Ft((function(n,t){if(he(t)||an(t))Un(t,V(t),n);else for(var e in t)F.call(t,e)&&se(n,e,t[e])})),fa=Ft((function(n,t){Un(t,on(t),n)})),fr=Ft((function(n,t,e,r){Un(t,on(t),n,r)})),Wp=Ft((function(n,t,e,r){Un(t,V(t),n,r)})),Fp=Yn(Zr);var qp=L((function(n,t){n=M(n);var e=-1,r=t.length,s=r>2?t[2]:i;for(s&&rn(t[0],t[1],s)&&(r=1);++e<r;)for(var o=t[e],f=on(o),c=-1,l=f.length;++c<l;){var v=f[c],_=n[v];(_===i||bn(_,Nt[v])&&!F.call(n,v))&&(n[v]=o[v])}return n})),Bp=L((function(n){return n.push(i,yu),cn(ca,i,n)}));function Si(n,t,e){var r=null==n?i:_t(n,t);return r===i?e:r}function Oi(n,t){return null!=n&&Ru(n,t,Ac)}var kp=Au((function(n,t,e){null!=t&&"function"!=typeof t.toString&&(t=Te.call(t)),n[t]=e}),bi(fn)),jp=Au((function(n,t,e){null!=t&&"function"!=typeof t.toString&&(t=Te.call(t)),F.call(n,t)?n[t].push(e):n[t]=[e]}),x),nd=L(ae);function V(n){return an(n)?Fs(n):jr(n)}function on(n){return an(n)?Fs(n,!0):Tc(n)}var rd=Ft((function(n,t,e){Ke(n,t,e)})),ca=Ft((function(n,t,e,r){Ke(n,t,e,r)})),id=Yn((function(n,t){var e={};if(null==n)return e;var r=!1;t=G(t,(function(o){return o=st(o,n),r||(r=o.length>1),o})),Un(n,pi(n),e),r&&(e=An(e,7,kc));for(var s=t.length;s--;)si(e,t[s]);return e}));var ud=Yn((function(n,t){return null==n?{}:function Dc(n,t){return eu(n,t,(function(e,r){return Oi(n,r)}))}(n,t)}));function ha(n,t){if(null==n)return{};var e=G(pi(n),(function(r){return[r]}));return t=x(t),eu(n,e,(function(r,s){return t(r,s[0])}))}var la=xu(V),pa=xu(on);function Gt(n){return null==n?[]:Mr(n,V(n))}var md=Mt((function(n,t,e){return t=t.toLowerCase(),n+(e?da(t):t)}));function da(n){return Ri(W(n).toLowerCase())}function ga(n){return(n=W(n))&&n.replace(wo,of).replace(Wo,"")}var Cd=Mt((function(n,t,e){return n+(e?"-":"")+t.toLowerCase()})),Id=Mt((function(n,t,e){return n+(e?" ":"")+t.toLowerCase()})),xd=mu("toLowerCase");var Td=Mt((function(n,t,e){return n+(e?"_":"")+t.toLowerCase()}));var Dd=Mt((function(n,t,e){return n+(e?" ":"")+Ri(t)}));var Gd=Mt((function(n,t,e){return n+(e?" ":"")+t.toUpperCase()})),Ri=mu("toUpperCase");function va(n,t,e){return n=W(n),(t=e?i:t)===i?function lf(h){return qo.test(h)}(n)?function Pf(h){return h.match(Fo)||[]}(n):function ef(h){return h.match(fo)||[]}(n):n.match(t)||[]}var _a=L((function(n,t){try{return cn(n,i,t)}catch(e){return Ei(e)?e:new S(e)}})),zd=Yn((function(n,t){return mn(t,(function(e){e=Wn(e),zn(n,e,Ii(n[e],n))})),n}));function bi(n){return function(){return n}}var Jd=Pu(),Xd=Pu(!0);function fn(n){return n}function Ti(n){return Qs("function"==typeof n?n:An(n,1))}var kd=L((function(n,t){return function(e){return ae(e,n,t)}})),jd=L((function(n,t){return function(e){return ae(n,e,t)}}));function Li(n,t,e){var r=V(t),s=ze(t,r);null==e&&(!K(t)||!s.length&&r.length)&&(e=t,t=n,n=this,s=ze(t,V(t)));var o=!(K(e)&&"chain"in e&&!e.chain),f=Jn(n);return mn(s,(function(c){var l=t[c];n[c]=l,f&&(n.prototype[c]=function(){var v=this.__chain__;if(o||v){var _=n(this.__wrapped__);return(_.__actions__=un(this.__actions__)).push({func:l,args:arguments,thisArg:n}),_.__chain__=v,_}return l.apply(n,nt([this.value()],arguments))})})),n}function Di(){}var eg=ci(G),rg=ci(As),ig=ci(Nr);function ma(n){return _i(n)?$r(Wn(n)):function Hc(n){return function(t){return _t(t,n)}}(n)}var ug=Cu(),ag=Cu(!0);function Hi(){return[]}function Ni(){return!1}var dg=Qe((function(n,t){return n+t}),0),gg=hi("ceil"),vg=Qe((function(n,t){return n/t}),1),_g=hi("floor");var xg=Qe((function(n,t){return n*t}),1),Eg=hi("round"),yg=Qe((function(n,t){return n-t}),0);return a.after=function Ql(n,t){if("function"!=typeof t)throw new wn($);return n=b(n),function(){if(--n<1)return t.apply(this,arguments)}},a.ary=Xu,a.assign=Up,a.assignIn=fa,a.assignInWith=fr,a.assignWith=Wp,a.at=Fp,a.before=Qu,a.bind=Ii,a.bindAll=zd,a.bindKey=Vu,a.castArray=function op(){if(!arguments.length)return[];var n=arguments[0];return R(n)?n:[n]},a.chain=Yu,a.chunk=function _h(n,t,e){t=(e?rn(n,t,e):t===i)?1:Q(b(t),0);var r=null==n?0:n.length;if(!r||t<1)return[];for(var s=0,o=0,f=p(Ue(r/t));s<r;)f[o++]=Cn(n,s,s+=t);return f},a.compact=function mh(n){for(var t=-1,e=null==n?0:n.length,r=0,s=[];++t<e;){var o=n[t];o&&(s[r++]=o)}return s},a.concat=function wh(){var n=arguments.length;if(!n)return[];for(var t=p(n-1),e=arguments[0],r=n;r--;)t[r-1]=arguments[r];return nt(R(e)?un(e):[e],j(t,1))},a.cond=function Kd(n){var t=null==n?0:n.length,e=x();return n=t?G(n,(function(r){if("function"!=typeof r[1])throw new wn($);return[e(r[0]),r[1]]})):[],L((function(r){for(var s=-1;++s<t;){var o=n[s];if(cn(o[0],this,r))return cn(o[1],this,r)}}))},a.conforms=function Yd(n){return function _c(n){var t=V(n);return function(e){return Bs(e,n,t)}}(An(n,1))},a.constant=bi,a.countBy=Sl,a.create=function Mp(n,t){var e=Wt(n);return null==t?e:qs(e,t)},a.curry=function ku(n,t,e){var r=Kn(n,8,i,i,i,i,i,t=e?i:t);return r.placeholder=ku.placeholder,r},a.curryRight=function ju(n,t,e){var r=Kn(n,16,i,i,i,i,i,t=e?i:t);return r.placeholder=ju.placeholder,r},a.debounce=na,a.defaults=qp,a.defaultsDeep=Bp,a.defer=Vl,a.delay=kl,a.difference=Ph,a.differenceBy=Ah,a.differenceWith=Ch,a.drop=function Ih(n,t,e){var r=null==n?0:n.length;return r?Cn(n,(t=e||t===i?1:b(t))<0?0:t,r):[]},a.dropRight=function xh(n,t,e){var r=null==n?0:n.length;return r?Cn(n,0,(t=r-(t=e||t===i?1:b(t)))<0?0:t):[]},a.dropRightWhile=function Eh(n,t){return n&&n.length?Ze(n,x(t,3),!0,!0):[]},a.dropWhile=function yh(n,t){return n&&n.length?Ze(n,x(t,3),!0):[]},a.fill=function Sh(n,t,e,r){var s=null==n?0:n.length;return s?(e&&"number"!=typeof e&&rn(n,t,e)&&(e=0,r=s),function wc(n,t,e,r){var s=n.length;for((e=b(e))<0&&(e=-e>s?0:s+e),(r=r===i||r>s?s:b(r))<0&&(r+=s),r=e>r?0:aa(r);e<r;)n[e++]=t;return n}(n,t,e,r)):[]},a.filter=function Rl(n,t){return(R(n)?jn:Ks)(n,x(t,3))},a.flatMap=function Ll(n,t){return j(rr(n,t),1)},a.flatMapDeep=function Dl(n,t){return j(rr(n,t),ht)},a.flatMapDepth=function Hl(n,t,e){return e=e===i?1:b(e),j(rr(n,t),e)},a.flatten=Bu,a.flattenDeep=function Oh(n){return(null==n?0:n.length)?j(n,ht):[]},a.flattenDepth=function Rh(n,t){return(null==n?0:n.length)?j(n,t=t===i?1:b(t)):[]},a.flip=function jl(n){return Kn(n,512)},a.flow=Jd,a.flowRight=Xd,a.fromPairs=function bh(n){for(var t=-1,e=null==n?0:n.length,r={};++t<e;){var s=n[t];r[s[0]]=s[1]}return r},a.functions=function Xp(n){return null==n?[]:ze(n,V(n))},a.functionsIn=function Qp(n){return null==n?[]:ze(n,on(n))},a.groupBy=Nl,a.initial=function Lh(n){return(null==n?0:n.length)?Cn(n,0,-1):[]},a.intersection=Dh,a.intersectionBy=Hh,a.intersectionWith=Nh,a.invert=kp,a.invertBy=jp,a.invokeMap=Ul,a.iteratee=Ti,a.keyBy=Wl,a.keys=V,a.keysIn=on,a.map=rr,a.mapKeys=function td(n,t){var e={};return t=x(t,3),$n(n,(function(r,s,o){zn(e,t(r,s,o),r)})),e},a.mapValues=function ed(n,t){var e={};return t=x(t,3),$n(n,(function(r,s,o){zn(e,s,t(r,s,o))})),e},a.matches=function Qd(n){return ks(An(n,1))},a.matchesProperty=function Vd(n,t){return js(n,An(t,1))},a.memoize=sr,a.merge=rd,a.mergeWith=ca,a.method=kd,a.methodOf=jd,a.mixin=Li,a.negate=ur,a.nthArg=function tg(n){return n=b(n),L((function(t){return nu(t,n)}))},a.omit=id,a.omitBy=function sd(n,t){return ha(n,ur(x(t)))},a.once=function np(n){return Qu(2,n)},a.orderBy=function Fl(n,t,e,r){return null==n?[]:(R(t)||(t=null==t?[]:[t]),R(e=r?i:e)||(e=null==e?[]:[e]),tu(n,t,e))},a.over=eg,a.overArgs=tp,a.overEvery=rg,a.overSome=ig,a.partial=xi,a.partialRight=ta,a.partition=Ml,a.pick=ud,a.pickBy=ha,a.property=ma,a.propertyOf=function sg(n){return function(t){return null==n?i:_t(n,t)}},a.pull=Fh,a.pullAll=zu,a.pullAllBy=function Mh(n,t,e){return n&&n.length&&t&&t.length?ti(n,t,x(e,2)):n},a.pullAllWith=function qh(n,t,e){return n&&n.length&&t&&t.length?ti(n,t,i,e):n},a.pullAt=Bh,a.range=ug,a.rangeRight=ag,a.rearg=ep,a.reject=function Gl(n,t){return(R(n)?jn:Ks)(n,ur(x(t,3)))},a.remove=function Gh(n,t){var e=[];if(!n||!n.length)return e;var r=-1,s=[],o=n.length;for(t=x(t,3);++r<o;){var f=n[r];t(f,r,n)&&(e.push(f),s.push(r))}return ru(n,s),e},a.rest=function rp(n,t){if("function"!=typeof n)throw new wn($);return L(n,t=t===i?t:b(t))},a.reverse=Ai,a.sampleSize=function Kl(n,t,e){return t=(e?rn(n,t,e):t===i)?1:b(t),(R(n)?pc:Uc)(n,t)},a.set=function od(n,t,e){return null==n?n:fe(n,t,e)},a.setWith=function fd(n,t,e,r){return r="function"==typeof r?r:i,null==n?n:fe(n,t,e,r)},a.shuffle=function Yl(n){return(R(n)?dc:Fc)(n)},a.slice=function zh(n,t,e){var r=null==n?0:n.length;return r?(e&&"number"!=typeof e&&rn(n,t,e)?(t=0,e=r):(t=null==t?0:b(t),e=e===i?r:b(e)),Cn(n,t,e)):[]},a.sortBy=Xl,a.sortedUniq=function Vh(n){return n&&n.length?su(n):[]},a.sortedUniqBy=function kh(n,t){return n&&n.length?su(n,x(t,2)):[]},a.split=function Ld(n,t,e){return e&&"number"!=typeof e&&rn(n,t,e)&&(t=e=i),(e=e===i?Nn:e>>>0)?(n=W(n))&&("string"==typeof t||null!=t&&!yi(t))&&(!(t=ln(t))&&Lt(n))?ut(On(n),0,e):n.split(t,e):[]},a.spread=function ip(n,t){if("function"!=typeof n)throw new wn($);return t=null==t?0:Q(b(t),0),L((function(e){var r=e[t],s=ut(e,0,t);return r&&nt(s,r),cn(n,this,s)}))},a.tail=function jh(n){var t=null==n?0:n.length;return t?Cn(n,1,t):[]},a.take=function nl(n,t,e){return n&&n.length?Cn(n,0,(t=e||t===i?1:b(t))<0?0:t):[]},a.takeRight=function tl(n,t,e){var r=null==n?0:n.length;return r?Cn(n,(t=r-(t=e||t===i?1:b(t)))<0?0:t,r):[]},a.takeRightWhile=function el(n,t){return n&&n.length?Ze(n,x(t,3),!1,!0):[]},a.takeWhile=function rl(n,t){return n&&n.length?Ze(n,x(t,3)):[]},a.tap=function ml(n,t){return t(n),n},a.throttle=function sp(n,t,e){var r=!0,s=!0;if("function"!=typeof n)throw new wn($);return K(e)&&(r="leading"in e?!!e.leading:r,s="trailing"in e?!!e.trailing:s),na(n,t,{leading:r,maxWait:t,trailing:s})},a.thru=er,a.toArray=ua,a.toPairs=la,a.toPairsIn=pa,a.toPath=function lg(n){return R(n)?G(n,Wn):pn(n)?[n]:un(Wu(W(n)))},a.toPlainObject=oa,a.transform=function cd(n,t,e){var r=R(n),s=r||at(n)||Bt(n);if(t=x(t,4),null==e){var o=n&&n.constructor;e=s?r?new o:[]:K(n)&&Jn(o)?Wt(He(n)):{}}return(s?mn:$n)(n,(function(f,c,l){return t(e,f,c,l)})),e},a.unary=function up(n){return Xu(n,1)},a.union=il,a.unionBy=sl,a.unionWith=ul,a.uniq=function al(n){return n&&n.length?it(n):[]},a.uniqBy=function ol(n,t){return n&&n.length?it(n,x(t,2)):[]},a.uniqWith=function fl(n,t){return t="function"==typeof t?t:i,n&&n.length?it(n,i,t):[]},a.unset=function hd(n,t){return null==n||si(n,t)},a.unzip=Ci,a.unzipWith=Ku,a.update=function ld(n,t,e){return null==n?n:au(n,t,oi(e))},a.updateWith=function pd(n,t,e,r){return r="function"==typeof r?r:i,null==n?n:au(n,t,oi(e),r)},a.values=Gt,a.valuesIn=function dd(n){return null==n?[]:Mr(n,on(n))},a.without=cl,a.words=va,a.wrap=function ap(n,t){return xi(oi(t),n)},a.xor=hl,a.xorBy=ll,a.xorWith=pl,a.zip=dl,a.zipObject=function gl(n,t){return fu(n||[],t||[],se)},a.zipObjectDeep=function vl(n,t){return fu(n||[],t||[],fe)},a.zipWith=_l,a.entries=la,a.entriesIn=pa,a.extend=fa,a.extendWith=fr,Li(a,a),a.add=dg,a.attempt=_a,a.camelCase=md,a.capitalize=da,a.ceil=gg,a.clamp=function gd(n,t,e){return e===i&&(e=t,t=i),e!==i&&(e=(e=xn(e))==e?e:0),t!==i&&(t=(t=xn(t))==t?t:0),vt(xn(n),t,e)},a.clone=function fp(n){return An(n,4)},a.cloneDeep=function hp(n){return An(n,5)},a.cloneDeepWith=function lp(n,t){return An(n,5,t="function"==typeof t?t:i)},a.cloneWith=function cp(n,t){return An(n,4,t="function"==typeof t?t:i)},a.conformsTo=function pp(n,t){return null==t||Bs(n,t,V(t))},a.deburr=ga,a.defaultTo=function Zd(n,t){return null==n||n!=n?t:n},a.divide=vg,a.endsWith=function wd(n,t,e){n=W(n),t=ln(t);var r=n.length,s=e=e===i?r:vt(b(e),0,r);return(e-=t.length)>=0&&n.slice(e,s)==t},a.eq=bn,a.escape=function Pd(n){return(n=W(n))&&ka.test(n)?n.replace(Yi,ff):n},a.escapeRegExp=function Ad(n){return(n=W(n))&&io.test(n)?n.replace(xr,"\\$&"):n},a.every=function Ol(n,t,e){var r=R(n)?As:mc;return e&&rn(n,t,e)&&(t=i),r(n,x(t,3))},a.find=bl,a.findIndex=Mu,a.findKey=function Gp(n,t){return Cs(n,x(t,3),$n)},a.findLast=Tl,a.findLastIndex=qu,a.findLastKey=function zp(n,t){return Cs(n,x(t,3),Xr)},a.floor=_g,a.forEach=Zu,a.forEachRight=Ju,a.forIn=function Kp(n,t){return null==n?n:Jr(n,x(t,3),on)},a.forInRight=function Yp(n,t){return null==n?n:Ys(n,x(t,3),on)},a.forOwn=function Zp(n,t){return n&&$n(n,x(t,3))},a.forOwnRight=function Jp(n,t){return n&&Xr(n,x(t,3))},a.get=Si,a.gt=dp,a.gte=gp,a.has=function Vp(n,t){return null!=n&&Ru(n,t,Pc)},a.hasIn=Oi,a.head=Gu,a.identity=fn,a.includes=function $l(n,t,e,r){n=an(n)?n:Gt(n),e=e&&!r?b(e):0;var s=n.length;return e<0&&(e=Q(s+e,0)),or(n)?e<=s&&n.indexOf(t,e)>-1:!!s&&Tt(n,t,e)>-1},a.indexOf=function Th(n,t,e){var r=null==n?0:n.length;if(!r)return-1;var s=null==e?0:b(e);return s<0&&(s=Q(r+s,0)),Tt(n,t,s)},a.inRange=function vd(n,t,e){return t=Xn(t),e===i?(e=t,t=0):e=Xn(e),function Cc(n,t,e){return n>=nn(t,e)&&n<Q(t,e)}(n=xn(n),t,e)},a.invoke=nd,a.isArguments=Pt,a.isArray=R,a.isArrayBuffer=vp,a.isArrayLike=an,a.isArrayLikeObject=Z,a.isBoolean=function _p(n){return!0===n||!1===n||Y(n)&&en(n)==Yt},a.isBuffer=at,a.isDate=mp,a.isElement=function wp(n){return Y(n)&&1===n.nodeType&&!pe(n)},a.isEmpty=function Pp(n){if(null==n)return!0;if(an(n)&&(R(n)||"string"==typeof n||"function"==typeof n.splice||at(n)||Bt(n)||Pt(n)))return!n.length;var t=tn(n);if(t==yn||t==Sn)return!n.size;if(he(n))return!jr(n).length;for(var e in n)if(F.call(n,e))return!1;return!0},a.isEqual=function Ap(n,t){return oe(n,t)},a.isEqualWith=function Cp(n,t,e){var r=(e="function"==typeof e?e:i)?e(n,t):i;return r===i?oe(n,t,i,e):!!r},a.isError=Ei,a.isFinite=function Ip(n){return"number"==typeof n&&$s(n)},a.isFunction=Jn,a.isInteger=ea,a.isLength=ar,a.isMap=ra,a.isMatch=function xp(n,t){return n===t||kr(n,t,gi(t))},a.isMatchWith=function Ep(n,t,e){return e="function"==typeof e?e:i,kr(n,t,gi(t),e)},a.isNaN=function yp(n){return ia(n)&&n!=+n},a.isNative=function Sp(n){if(ch(n))throw new S("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Xs(n)},a.isNil=function Rp(n){return null==n},a.isNull=function Op(n){return null===n},a.isNumber=ia,a.isObject=K,a.isObjectLike=Y,a.isPlainObject=pe,a.isRegExp=yi,a.isSafeInteger=function bp(n){return ea(n)&&n>=-kn&&n<=kn},a.isSet=sa,a.isString=or,a.isSymbol=pn,a.isTypedArray=Bt,a.isUndefined=function Tp(n){return n===i},a.isWeakMap=function Lp(n){return Y(n)&&tn(n)==Vt},a.isWeakSet=function Dp(n){return Y(n)&&"[object WeakSet]"==en(n)},a.join=function $h(n,t){return null==n?"":Lf.call(n,t)},a.kebabCase=Cd,a.last=In,a.lastIndexOf=function Uh(n,t,e){var r=null==n?0:n.length;if(!r)return-1;var s=r;return e!==i&&(s=(s=b(e))<0?Q(r+s,0):nn(s,r-1)),t==t?function vf(h,g,p){for(var A=p+1;A--;)if(h[A]===g)return A;return A}(n,t,s):ye(n,Is,s,!0)},a.lowerCase=Id,a.lowerFirst=xd,a.lt=Hp,a.lte=Np,a.max=function mg(n){return n&&n.length?Ge(n,fn,Qr):i},a.maxBy=function wg(n,t){return n&&n.length?Ge(n,x(t,2),Qr):i},a.mean=function Pg(n){return xs(n,fn)},a.meanBy=function Ag(n,t){return xs(n,x(t,2))},a.min=function Cg(n){return n&&n.length?Ge(n,fn,ni):i},a.minBy=function Ig(n,t){return n&&n.length?Ge(n,x(t,2),ni):i},a.stubArray=Hi,a.stubFalse=Ni,a.stubObject=function og(){return{}},a.stubString=function fg(){return""},a.stubTrue=function cg(){return!0},a.multiply=xg,a.nth=function Wh(n,t){return n&&n.length?nu(n,b(t)):i},a.noConflict=function ng(){return k._===this&&(k._=yf),this},a.noop=Di,a.now=ir,a.pad=function Ed(n,t,e){n=W(n);var r=(t=b(t))?Dt(n):0;if(!t||r>=t)return n;var s=(t-r)/2;return Ve(We(s),e)+n+Ve(Ue(s),e)},a.padEnd=function yd(n,t,e){n=W(n);var r=(t=b(t))?Dt(n):0;return t&&r<t?n+Ve(t-r,e):n},a.padStart=function Sd(n,t,e){n=W(n);var r=(t=b(t))?Dt(n):0;return t&&r<t?Ve(t-r,e)+n:n},a.parseInt=function Od(n,t,e){return e||null==t?t=0:t&&(t=+t),Nf(W(n).replace(Er,""),t||0)},a.random=function _d(n,t,e){if(e&&"boolean"!=typeof e&&rn(n,t,e)&&(t=e=i),e===i&&("boolean"==typeof t?(e=t,t=i):"boolean"==typeof n&&(e=n,n=i)),n===i&&t===i?(n=0,t=1):(n=Xn(n),t===i?(t=n,n=0):t=Xn(t)),n>t){var r=n;n=t,t=r}if(e||n%1||t%1){var s=Us();return nn(n+s*(t-n+Jo("1e-"+((s+"").length-1))),t)}return ei(n,t)},a.reduce=function ql(n,t,e){var r=R(n)?Hr:Es,s=arguments.length<3;return r(n,x(t,4),e,s,rt)},a.reduceRight=function Bl(n,t,e){var r=R(n)?jo:Es,s=arguments.length<3;return r(n,x(t,4),e,s,zs)},a.repeat=function Rd(n,t,e){return t=(e?rn(n,t,e):t===i)?1:b(t),ri(W(n),t)},a.replace=function bd(){var n=arguments,t=W(n[0]);return n.length<3?t:t.replace(n[1],n[2])},a.result=function ad(n,t,e){var r=-1,s=(t=st(t,n)).length;for(s||(s=1,n=i);++r<s;){var o=null==n?i:n[Wn(t[r])];o===i&&(r=s,o=e),n=Jn(o)?o.call(n):o}return n},a.round=Eg,a.runInContext=h,a.sample=function zl(n){return(R(n)?Ms:$c)(n)},a.size=function Zl(n){if(null==n)return 0;if(an(n))return or(n)?Dt(n):n.length;var t=tn(n);return t==yn||t==Sn?n.size:jr(n).length},a.snakeCase=Td,a.some=function Jl(n,t,e){var r=R(n)?Nr:Mc;return e&&rn(n,t,e)&&(t=i),r(n,x(t,3))},a.sortedIndex=function Kh(n,t){return Ye(n,t)},a.sortedIndexBy=function Yh(n,t,e){return ii(n,t,x(e,2))},a.sortedIndexOf=function Zh(n,t){var e=null==n?0:n.length;if(e){var r=Ye(n,t);if(r<e&&bn(n[r],t))return r}return-1},a.sortedLastIndex=function Jh(n,t){return Ye(n,t,!0)},a.sortedLastIndexBy=function Xh(n,t,e){return ii(n,t,x(e,2),!0)},a.sortedLastIndexOf=function Qh(n,t){if(null==n?0:n.length){var r=Ye(n,t,!0)-1;if(bn(n[r],t))return r}return-1},a.startCase=Dd,a.startsWith=function Hd(n,t,e){return n=W(n),e=null==e?0:vt(b(e),0,n.length),t=ln(t),n.slice(e,e+t.length)==t},a.subtract=yg,a.sum=function Sg(n){return n&&n.length?Wr(n,fn):0},a.sumBy=function Og(n,t){return n&&n.length?Wr(n,x(t,2)):0},a.template=function Nd(n,t,e){var r=a.templateSettings;e&&rn(n,t,e)&&(t=i),n=W(n),t=fr({},t,r,Eu);var c,l,s=fr({},t.imports,r.imports,Eu),o=V(s),f=Mr(s,o),v=0,_=t.interpolate||Ce,m="__p += '",w=Br((t.escape||Ce).source+"|"+_.source+"|"+(_===Zi?lo:Ce).source+"|"+(t.evaluate||Ce).source+"|$","g"),I="//# sourceURL="+(F.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Go+"]")+"\n";n.replace(w,(function(y,D,N,dn,sn,gn){return N||(N=dn),m+=n.slice(v,gn).replace(Po,cf),D&&(c=!0,m+="' +\n__e("+D+") +\n'"),sn&&(l=!0,m+="';\n"+sn+";\n__p += '"),N&&(m+="' +\n((__t = ("+N+")) == null ? '' : __t) +\n'"),v=gn+y.length,y})),m+="';\n";var E=F.call(t,"variable")&&t.variable;if(E){if(co.test(E))throw new S("Invalid `variable` option passed into `_.template`")}else m="with (obj) {\n"+m+"\n}\n";m=(l?m.replace(Ja,""):m).replace(Xa,"$1").replace(Qa,"$1;"),m="function("+(E||"obj")+") {\n"+(E?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(c?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var T=_a((function(){return U(o,I+"return "+m).apply(i,f)}));if(T.source=m,Ei(T))throw T;return T},a.times=function hg(n,t){if((n=b(n))<1||n>kn)return[];var e=Nn,r=nn(n,Nn);t=x(t),n-=Nn;for(var s=Fr(r,t);++e<n;)t(e);return s},a.toFinite=Xn,a.toInteger=b,a.toLength=aa,a.toLower=function $d(n){return W(n).toLowerCase()},a.toNumber=xn,a.toSafeInteger=function $p(n){return n?vt(b(n),-kn,kn):0===n?n:0},a.toString=W,a.toUpper=function Ud(n){return W(n).toUpperCase()},a.trim=function Wd(n,t,e){if((n=W(n))&&(e||t===i))return ys(n);if(!n||!(t=ln(t)))return n;var r=On(n),s=On(t);return ut(r,Ss(r,s),Os(r,s)+1).join("")},a.trimEnd=function Fd(n,t,e){if((n=W(n))&&(e||t===i))return n.slice(0,bs(n)+1);if(!n||!(t=ln(t)))return n;var r=On(n);return ut(r,0,Os(r,On(t))+1).join("")},a.trimStart=function Md(n,t,e){if((n=W(n))&&(e||t===i))return n.replace(Er,"");if(!n||!(t=ln(t)))return n;var r=On(n);return ut(r,Ss(r,On(t))).join("")},a.truncate=function qd(n,t){var e=30,r="...";if(K(t)){var s="separator"in t?t.separator:s;e="length"in t?b(t.length):e,r="omission"in t?ln(t.omission):r}var o=(n=W(n)).length;if(Lt(n)){var f=On(n);o=f.length}if(e>=o)return n;var c=e-Dt(r);if(c<1)return r;var l=f?ut(f,0,c).join(""):n.slice(0,c);if(s===i)return l+r;if(f&&(c+=l.length-c),yi(s)){if(n.slice(c).search(s)){var v,_=l;for(s.global||(s=Br(s.source,W(Ji.exec(s))+"g")),s.lastIndex=0;v=s.exec(_);)var m=v.index;l=l.slice(0,m===i?c:m)}}else if(n.indexOf(ln(s),c)!=c){var w=l.lastIndexOf(s);w>-1&&(l=l.slice(0,w))}return l+r},a.unescape=function Bd(n){return(n=W(n))&&Va.test(n)?n.replace(Ki,_f):n},a.uniqueId=function pg(n){var t=++xf;return W(n)+t},a.upperCase=Gd,a.upperFirst=Ri,a.each=Zu,a.eachRight=Ju,a.first=Gu,Li(a,function(){var n={};return $n(a,(function(t,e){F.call(a.prototype,e)||(n[e]=t)})),n}(),{chain:!1}),a.VERSION="4.17.21",mn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(n){a[n].placeholder=a})),mn(["drop","take"],(function(n,t){H.prototype[n]=function(e){e=e===i?1:Q(b(e),0);var r=this.__filtered__&&!t?new H(this):this.clone();return r.__filtered__?r.__takeCount__=nn(e,r.__takeCount__):r.__views__.push({size:nn(e,Nn),type:n+(r.__dir__<0?"Right":"")}),r},H.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}})),mn(["filter","map","takeWhile"],(function(n,t){var e=t+1,r=1==e||3==e;H.prototype[n]=function(s){var o=this.clone();return o.__iteratees__.push({iteratee:x(s,3),type:e}),o.__filtered__=o.__filtered__||r,o}})),mn(["head","last"],(function(n,t){var e="take"+(t?"Right":"");H.prototype[n]=function(){return this[e](1).value()[0]}})),mn(["initial","tail"],(function(n,t){var e="drop"+(t?"":"Right");H.prototype[n]=function(){return this.__filtered__?new H(this):this[e](1)}})),H.prototype.compact=function(){return this.filter(fn)},H.prototype.find=function(n){return this.filter(n).head()},H.prototype.findLast=function(n){return this.reverse().find(n)},H.prototype.invokeMap=L((function(n,t){return"function"==typeof n?new H(this):this.map((function(e){return ae(e,n,t)}))})),H.prototype.reject=function(n){return this.filter(ur(x(n)))},H.prototype.slice=function(n,t){n=b(n);var e=this;return e.__filtered__&&(n>0||t<0)?new H(e):(n<0?e=e.takeRight(-n):n&&(e=e.drop(n)),t!==i&&(e=(t=b(t))<0?e.dropRight(-t):e.take(t-n)),e)},H.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},H.prototype.toArray=function(){return this.take(Nn)},$n(H.prototype,(function(n,t){var e=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=a[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);s&&(a.prototype[t]=function(){var f=this.__wrapped__,c=r?[1]:arguments,l=f instanceof H,v=c[0],_=l||R(f),m=function(D){var N=s.apply(a,nt([D],c));return r&&w?N[0]:N};_&&e&&"function"==typeof v&&1!=v.length&&(l=_=!1);var w=this.__chain__,I=!!this.__actions__.length,E=o&&!w,T=l&&!I;if(!o&&_){f=T?f:new H(this);var y=n.apply(f,c);return y.__actions__.push({func:er,args:[m],thisArg:i}),new Pn(y,w)}return E&&T?n.apply(this,c):(y=this.thru(m),E?r?y.value()[0]:y.value():y)})})),mn(["pop","push","shift","sort","splice","unshift"],(function(n){var t=Oe[n],e=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);a.prototype[n]=function(){var s=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(R(o)?o:[],s)}return this[e]((function(f){return t.apply(R(f)?f:[],s)}))}})),$n(H.prototype,(function(n,t){var e=a[t];if(e){var r=e.name+"";F.call(Ut,r)||(Ut[r]=[]),Ut[r].push({name:t,func:e})}})),Ut[Xe(i,2).name]=[{name:"wrapper",func:i}],H.prototype.clone=function Bf(){var n=new H(this.__wrapped__);return n.__actions__=un(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=un(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=un(this.__views__),n},H.prototype.reverse=function Gf(){if(this.__filtered__){var n=new H(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},H.prototype.value=function zf(){var n=this.__wrapped__.value(),t=this.__dir__,e=R(n),r=t<0,s=e?n.length:0,o=function eh(n,t,e){for(var r=-1,s=e.length;++r<s;){var o=e[r],f=o.size;switch(o.type){case"drop":n+=f;break;case"dropRight":t-=f;break;case"take":t=nn(t,n+f);break;case"takeRight":n=Q(n,t-f)}}return{start:n,end:t}}(0,s,this.__views__),f=o.start,c=o.end,l=c-f,v=r?c:f-1,_=this.__iteratees__,m=_.length,w=0,I=nn(l,this.__takeCount__);if(!e||!r&&s==l&&I==l)return ou(n,this.__actions__);var E=[];n:for(;l--&&w<I;){for(var T=-1,y=n[v+=t];++T<m;){var D=_[T],N=D.iteratee,dn=D.type,sn=N(y);if(2==dn)y=sn;else if(!sn){if(1==dn)continue n;break n}}E[w++]=y}return E},a.prototype.at=wl,a.prototype.chain=function Pl(){return Yu(this)},a.prototype.commit=function Al(){return new Pn(this.value(),this.__chain__)},a.prototype.next=function Cl(){this.__values__===i&&(this.__values__=ua(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?i:this.__values__[this.__index__++]}},a.prototype.plant=function xl(n){for(var t,e=this;e instanceof qe;){var r=Fu(e);r.__index__=0,r.__values__=i,t?s.__wrapped__=r:t=r;var s=r;e=e.__wrapped__}return s.__wrapped__=n,t},a.prototype.reverse=function El(){var n=this.__wrapped__;if(n instanceof H){var t=n;return this.__actions__.length&&(t=new H(this)),(t=t.reverse()).__actions__.push({func:er,args:[Ai],thisArg:i}),new Pn(t,this.__chain__)}return this.thru(Ai)},a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function yl(){return ou(this.__wrapped__,this.__actions__)},a.prototype.first=a.prototype.head,ne&&(a.prototype[ne]=function Il(){return this}),a}();lt?((lt.exports=Ht)._=Ht,Tr._=Ht):k._=Ht}).call(dist_index_es_ge)}(Ui,Ui.exports);var Bg=Object.defineProperty,Gg=Object.defineProperties,zg=Object.getOwnPropertyDescriptors,Ea=Object.getOwnPropertySymbols,Kg=Object.prototype.hasOwnProperty,Yg=Object.prototype.propertyIsEnumerable,ya=(C,u,i)=>u in C?Bg(C,u,{enumerable:!0,configurable:!0,writable:!0,value:i}):C[u]=i,index_es_cr=(C,u)=>{for(var i in u||(u={}))Kg.call(u,i)&&ya(C,i,u[i]);if(Ea)for(var i of Ea(u))Yg.call(u,i)&&ya(C,i,u[i]);return C},Zg=(C,u)=>Gg(C,zg(u));function dist_index_es_ft(C,u,i){var d;const P=ve(C);return(null==(d=u.rpcMap)?void 0:d[P.reference])||`https://rpc.walletconnect.com/v1/?chainId=${P.namespace}:${P.reference}&projectId=${i}`}function dist_index_es_Ct(C){return C.includes(":")?C.split(":")[1]:C}function Sa(C){return C.map((u=>`${u.split(":")[0]}:${u.split(":")[1]}`))}function Oa(C){var u,i,d,P;const O={};if(!B(C))return O;for(const[$,En]of Object.entries(C)){const zt=oe($)?[$]:En.chains,pr=En.methods||[],It=En.events||[],Ln=En.rpcMap||{},Fn=en($);O[Fn]=Zg(index_es_cr(index_es_cr({},O[Fn]),En),{chains:S(zt,null==(u=O[Fn])?void 0:u.chains),methods:S(pr,null==(i=O[Fn])?void 0:i.methods),events:S(It,null==(d=O[Fn])?void 0:d.events),rpcMap:index_es_cr(index_es_cr({},Ln),null==(P=O[Fn])?void 0:P.rpcMap)})}return O}function Qg(C){return C.includes(":")?C.split(":")[2]:C}function Vg(C){const u={};for(const[i,d]of Object.entries(C)){const P=d.methods||[],O=d.events||[],$=d.accounts||[],En=oe(i)?[i]:d.chains?d.chains:Sa(d.accounts);u[i]={chains:En,methods:P,events:O,accounts:$}}return u}function index_es_Wi(C){return"number"==typeof C?C:C.includes("0x")?parseInt(C,16):C.includes(":")?Number(C.split(":")[1]):Number(C)}const Ra={},dist_index_es_z=C=>Ra[C],Fi=(C,u)=>{Ra[C]=u};class kg{constructor(u){this.name="polkadot",this.namespace=u.namespace,this.events=dist_index_es_z("events"),this.client=dist_index_es_z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(u){this.namespace=Object.assign(this.namespace,u)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}request(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}setDefaultChain(u,i){this.httpProviders[u]||this.setHttpProvider(u,i),this.chainId=u,this.events.emit(index_es_Vn_DEFAULT_CHAIN_CHANGED,`${this.name}:${u}`)}getAccounts(){const u=this.namespace.accounts;return u&&u.filter((i=>i.split(":")[1]===this.chainId.toString())).map((i=>i.split(":")[2]))||[]}createHttpProviders(){const u={};return this.namespace.chains.forEach((i=>{var d;const P=dist_index_es_Ct(i);u[P]=this.createHttpProvider(P,null==(d=this.namespace.rpcMap)?void 0:d[i])})),u}getHttpProvider(){const u=`${this.name}:${this.chainId}`,i=this.httpProviders[u];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${u} not found`);return i}setHttpProvider(u,i){const d=this.createHttpProvider(u,i);d&&(this.httpProviders[u]=d)}createHttpProvider(u,i){const d=i||dist_index_es_ft(u,this.namespace,this.client.core.projectId);if(!d)throw new Error(`No RPC url provided for chainId: ${u}`);return new JsonRpcProvider(new dist_esm(d,dist_index_es_z("disableProviderPing")))}}class jg{constructor(u){this.name="eip155",this.namespace=u.namespace,this.events=dist_index_es_z("events"),this.client=dist_index_es_z("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(u){switch(u.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(u);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(u.request.method)?await this.client.request(u):this.getHttpProvider().request(u.request)}updateNamespace(u){this.namespace=Object.assign(this.namespace,u)}setDefaultChain(u,i){this.httpProviders[u]||this.setHttpProvider(parseInt(u),i),this.chainId=parseInt(u),this.events.emit(index_es_Vn_DEFAULT_CHAIN_CHANGED,`${this.name}:${u}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}createHttpProvider(u,i){const d=i||dist_index_es_ft(`${this.name}:${u}`,this.namespace,this.client.core.projectId);if(!d)throw new Error(`No RPC url provided for chainId: ${u}`);return new JsonRpcProvider(new HttpConnection(d,dist_index_es_z("disableProviderPing")))}setHttpProvider(u,i){const d=this.createHttpProvider(u,i);d&&(this.httpProviders[u]=d)}createHttpProviders(){const u={};return this.namespace.chains.forEach((i=>{var d;const P=parseInt(dist_index_es_Ct(i));u[P]=this.createHttpProvider(P,null==(d=this.namespace.rpcMap)?void 0:d[i])})),u}getAccounts(){const u=this.namespace.accounts;return u?[...new Set(u.filter((i=>i.split(":")[1]===this.chainId.toString())).map((i=>i.split(":")[2])))]:[]}getHttpProvider(){const u=this.chainId,i=this.httpProviders[u];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${u} not found`);return i}async handleSwitchChain(u){var i,d;let P=u.request.params?null==(i=u.request.params[0])?void 0:i.chainId:"0x0";P=P.startsWith("0x")?P:`0x${P}`;const O=parseInt(P,16);if(this.isChainApproved(O))this.setDefaultChain(`${O}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${O}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:u.topic,request:{method:u.request.method,params:[{chainId:P}]},chainId:null==(d=this.namespace.chains)?void 0:d[0]}),this.setDefaultChain(`${O}`)}return null}isChainApproved(u){return this.namespace.chains.includes(`${this.name}:${u}`)}}class nv{constructor(u){this.name="solana",this.namespace=u.namespace,this.events=dist_index_es_z("events"),this.client=dist_index_es_z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(u){this.namespace=Object.assign(this.namespace,u)}requestAccounts(){return this.getAccounts()}request(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}setDefaultChain(u,i){this.httpProviders[u]||this.setHttpProvider(u,i),this.chainId=u,this.events.emit(index_es_Vn_DEFAULT_CHAIN_CHANGED,`${this.name}:${u}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}getAccounts(){const u=this.namespace.accounts;return u?[...new Set(u.filter((i=>i.split(":")[1]===this.chainId.toString())).map((i=>i.split(":")[2])))]:[]}createHttpProviders(){const u={};return this.namespace.chains.forEach((i=>{var d;const P=dist_index_es_Ct(i);u[P]=this.createHttpProvider(P,null==(d=this.namespace.rpcMap)?void 0:d[i])})),u}getHttpProvider(){const u=`${this.name}:${this.chainId}`,i=this.httpProviders[u];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${u} not found`);return i}setHttpProvider(u,i){const d=this.createHttpProvider(u,i);d&&(this.httpProviders[u]=d)}createHttpProvider(u,i){const d=i||dist_index_es_ft(u,this.namespace,this.client.core.projectId);if(!d)throw new Error(`No RPC url provided for chainId: ${u}`);return new JsonRpcProvider(new dist_esm(d,dist_index_es_z("disableProviderPing")))}}class tv{constructor(u){this.name="cosmos",this.namespace=u.namespace,this.events=dist_index_es_z("events"),this.client=dist_index_es_z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(u){this.namespace=Object.assign(this.namespace,u)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}request(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}setDefaultChain(u,i){this.httpProviders[u]||this.setHttpProvider(u,i),this.chainId=u,this.events.emit(index_es_Vn_DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const u=this.namespace.accounts;return u?[...new Set(u.filter((i=>i.split(":")[1]===this.chainId.toString())).map((i=>i.split(":")[2])))]:[]}createHttpProviders(){const u={};return this.namespace.chains.forEach((i=>{var d;const P=dist_index_es_Ct(i);u[P]=this.createHttpProvider(P,null==(d=this.namespace.rpcMap)?void 0:d[i])})),u}getHttpProvider(){const u=`${this.name}:${this.chainId}`,i=this.httpProviders[u];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${u} not found`);return i}setHttpProvider(u,i){const d=this.createHttpProvider(u,i);d&&(this.httpProviders[u]=d)}createHttpProvider(u,i){const d=i||dist_index_es_ft(u,this.namespace,this.client.core.projectId);if(!d)throw new Error(`No RPC url provided for chainId: ${u}`);return new JsonRpcProvider(new dist_esm(d,dist_index_es_z("disableProviderPing")))}}class ev{constructor(u){this.name="cip34",this.namespace=u.namespace,this.events=dist_index_es_z("events"),this.client=dist_index_es_z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(u){this.namespace=Object.assign(this.namespace,u)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}request(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}setDefaultChain(u,i){this.httpProviders[u]||this.setHttpProvider(u,i),this.chainId=u,this.events.emit(index_es_Vn_DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const u=this.namespace.accounts;return u?[...new Set(u.filter((i=>i.split(":")[1]===this.chainId.toString())).map((i=>i.split(":")[2])))]:[]}createHttpProviders(){const u={};return this.namespace.chains.forEach((i=>{const d=this.getCardanoRPCUrl(i),P=dist_index_es_Ct(i);u[P]=this.createHttpProvider(P,d)})),u}getHttpProvider(){const u=`${this.name}:${this.chainId}`,i=this.httpProviders[u];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${u} not found`);return i}getCardanoRPCUrl(u){const i=this.namespace.rpcMap;if(i)return i[u]}setHttpProvider(u,i){const d=this.createHttpProvider(u,i);d&&(this.httpProviders[u]=d)}createHttpProvider(u,i){const d=i||this.getCardanoRPCUrl(u);if(!d)throw new Error(`No RPC url provided for chainId: ${u}`);return new JsonRpcProvider(new dist_esm(d,dist_index_es_z("disableProviderPing")))}}class rv{constructor(u){this.name="elrond",this.namespace=u.namespace,this.events=dist_index_es_z("events"),this.client=dist_index_es_z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(u){this.namespace=Object.assign(this.namespace,u)}requestAccounts(){return this.getAccounts()}request(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}setDefaultChain(u,i){this.httpProviders[u]||this.setHttpProvider(u,i),this.chainId=u,this.events.emit(index_es_Vn_DEFAULT_CHAIN_CHANGED,`${this.name}:${u}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}getAccounts(){const u=this.namespace.accounts;return u?[...new Set(u.filter((i=>i.split(":")[1]===this.chainId.toString())).map((i=>i.split(":")[2])))]:[]}createHttpProviders(){const u={};return this.namespace.chains.forEach((i=>{var d;const P=dist_index_es_Ct(i);u[P]=this.createHttpProvider(P,null==(d=this.namespace.rpcMap)?void 0:d[i])})),u}getHttpProvider(){const u=`${this.name}:${this.chainId}`,i=this.httpProviders[u];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${u} not found`);return i}setHttpProvider(u,i){const d=this.createHttpProvider(u,i);d&&(this.httpProviders[u]=d)}createHttpProvider(u,i){const d=i||dist_index_es_ft(u,this.namespace,this.client.core.projectId);if(!d)throw new Error(`No RPC url provided for chainId: ${u}`);return new JsonRpcProvider(new dist_esm(d,dist_index_es_z("disableProviderPing")))}}class iv{constructor(u){this.name="multiversx",this.namespace=u.namespace,this.events=dist_index_es_z("events"),this.client=dist_index_es_z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(u){this.namespace=Object.assign(this.namespace,u)}requestAccounts(){return this.getAccounts()}request(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}setDefaultChain(u,i){this.httpProviders[u]||this.setHttpProvider(u,i),this.chainId=u,this.events.emit(index_es_Vn_DEFAULT_CHAIN_CHANGED,`${this.name}:${u}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}getAccounts(){const u=this.namespace.accounts;return u?[...new Set(u.filter((i=>i.split(":")[1]===this.chainId.toString())).map((i=>i.split(":")[2])))]:[]}createHttpProviders(){const u={};return this.namespace.chains.forEach((i=>{var d;const P=dist_index_es_Ct(i);u[P]=this.createHttpProvider(P,null==(d=this.namespace.rpcMap)?void 0:d[i])})),u}getHttpProvider(){const u=`${this.name}:${this.chainId}`,i=this.httpProviders[u];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${u} not found`);return i}setHttpProvider(u,i){const d=this.createHttpProvider(u,i);d&&(this.httpProviders[u]=d)}createHttpProvider(u,i){const d=i||dist_index_es_ft(u,this.namespace,this.client.core.projectId);if(!d)throw new Error(`No RPC url provided for chainId: ${u}`);return new JsonRpcProvider(new dist_esm(d,dist_index_es_z("disableProviderPing")))}}class sv{constructor(u){this.name="near",this.namespace=u.namespace,this.events=dist_index_es_z("events"),this.client=dist_index_es_z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(u){this.namespace=Object.assign(this.namespace,u)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}request(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}setDefaultChain(u,i){if(this.chainId=u,!this.httpProviders[u]){const d=i||dist_index_es_ft(`${this.name}:${u}`,this.namespace);if(!d)throw new Error(`No RPC url provided for chainId: ${u}`);this.setHttpProvider(u,d)}this.events.emit(index_es_Vn_DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const u=this.namespace.accounts;return u&&u.filter((i=>i.split(":")[1]===this.chainId.toString())).map((i=>i.split(":")[2]))||[]}createHttpProviders(){const u={};return this.namespace.chains.forEach((i=>{var d;u[i]=this.createHttpProvider(i,null==(d=this.namespace.rpcMap)?void 0:d[i])})),u}getHttpProvider(){const u=`${this.name}:${this.chainId}`,i=this.httpProviders[u];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${u} not found`);return i}setHttpProvider(u,i){const d=this.createHttpProvider(u,i);d&&(this.httpProviders[u]=d)}createHttpProvider(u,i){const d=i||dist_index_es_ft(u,this.namespace);return typeof d>"u"?void 0:new JsonRpcProvider(new dist_esm(d,dist_index_es_z("disableProviderPing")))}}var uv=Object.defineProperty,av=Object.defineProperties,ov=Object.getOwnPropertyDescriptors,ba=Object.getOwnPropertySymbols,fv=Object.prototype.hasOwnProperty,cv=Object.prototype.propertyIsEnumerable,Ta=(C,u,i)=>u in C?uv(C,u,{enumerable:!0,configurable:!0,writable:!0,value:i}):C[u]=i,index_es_hr=(C,u)=>{for(var i in u||(u={}))fv.call(u,i)&&Ta(C,i,u[i]);if(ba)for(var i of ba(u))cv.call(u,i)&&Ta(C,i,u[i]);return C},Mi=(C,u)=>av(C,ov(u));class index_es_lr{constructor(u){this.events=new(events_default()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=u,this.logger=typeof u?.logger<"u"&&"string"!=typeof u?.logger?u.logger:(0,logger_dist_cjs.pino)((0,logger_dist_cjs.getDefaultLoggerOptions)({level:u?.logger||"error"})),this.disableProviderPing=u?.disableProviderPing||!1}static async init(u){const i=new index_es_lr(u);return await i.initialize(),i}async request(u,i){const[d,P]=this.validateChain(i);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(d).request({request:index_es_hr({},u),chainId:`${d}:${P}`,topic:this.session.topic})}sendAsync(u,i,d){const P=(new Date).getTime();this.request(u,d).then((O=>i(null,formatJsonRpcResult(P,O)))).catch((O=>i(O,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var u;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(u=this.session)?void 0:u.topic,reason:index_es_U("USER_DISCONNECTED")}),await this.cleanup()}async connect(u){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(u),await this.cleanupPendingPairings(),!u.skipPairing)return await this.pair(u.pairingTopic)}on(u,i){this.events.on(u,i)}once(u,i){this.events.once(u,i)}removeListener(u,i){this.events.removeListener(u,i)}off(u,i){this.events.off(u,i)}get isWalletConnect(){return!0}async pair(u){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:d,approval:P}=await this.client.connect({pairingTopic:u,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});d&&(this.uri=d,this.events.emit("display_uri",d)),await P().then((O=>{this.session=O,this.namespaces||(this.namespaces=Vg(O.namespaces),this.persist("namespaces",this.namespaces))})).catch((O=>{if("Proposal expired"!==O.message)throw O;i++}))}while(!this.session);return this.onConnect(),this.session}setDefaultChain(u,i){try{if(!this.session)return;const[d,P]=this.validateChain(u);this.getProvider(d).setDefaultChain(P,i)}catch(d){if(!/Please call connect/.test(d.message))throw d}}async cleanupPendingPairings(u={}){this.logger.info("Cleaning up inactive pairings...");const i=this.client.pairing.getAll();if(k(i)){for(const d of i)u.deletePairings?this.client.core.expirer.set(d.topic,0):await this.client.core.relayer.subscriber.unsubscribe(d.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const u=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[u]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await dist_index_es_Q.init({logger:this.providerOpts.logger||"error",relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const u=[...new Set(Object.keys(this.session.namespaces).map((i=>en(i))))];Fi("client",this.client),Fi("events",this.events),Fi("disableProviderPing",this.disableProviderPing),u.forEach((i=>{if(!this.session)return;const d=function Jg(C,u){const i=Object.keys(u.namespaces).filter((P=>P.includes(C)));if(!i.length)return[];const d=[];return i.forEach((P=>{const O=u.namespaces[P].accounts;d.push(...O)})),d}(i,this.session),P=Sa(d),O=function Xg(C={},u={}){const i=Oa(C),d=Oa(u);return Ui.exports.merge(i,d)}(this.namespaces,this.optionalNamespaces),$=Mi(index_es_hr({},O[i]),{accounts:d,chains:P});switch(i){case"eip155":this.rpcProviders[i]=new jg({namespace:$});break;case"solana":this.rpcProviders[i]=new nv({namespace:$});break;case"cosmos":this.rpcProviders[i]=new tv({namespace:$});break;case"polkadot":this.rpcProviders[i]=new kg({namespace:$});break;case"cip34":this.rpcProviders[i]=new ev({namespace:$});break;case"elrond":this.rpcProviders[i]=new rv({namespace:$});break;case"multiversx":this.rpcProviders[i]=new iv({namespace:$});break;case"near":this.rpcProviders[i]=new sv({namespace:$})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(u=>{this.events.emit("session_ping",u)})),this.client.on("session_event",(u=>{const{params:i}=u,{event:d}=i;if("accountsChanged"===d.name){const P=d.data;P&&k(P)&&this.events.emit("accountsChanged",P.map(Qg))}else if("chainChanged"===d.name){const P=i.chainId,O=i.event.data,$=en(P),En=index_es_Wi(P)!==index_es_Wi(O)?`${$}:${index_es_Wi(O)}`:P;this.onChainChanged(En)}else this.events.emit(d.name,d.data);this.events.emit("session_event",u)})),this.client.on("session_update",(({topic:u,params:i})=>{var d;const{namespaces:P}=i,O=null==(d=this.client)?void 0:d.session.get(u);this.session=Mi(index_es_hr({},O),{namespaces:P}),this.onSessionUpdate(),this.events.emit("session_update",{topic:u,params:i})})),this.client.on("session_delete",(async u=>{await this.cleanup(),this.events.emit("session_delete",u),this.events.emit("disconnect",Mi(index_es_hr({},index_es_U("USER_DISCONNECTED")),{data:u.topic}))})),this.on(index_es_Vn_DEFAULT_CHAIN_CHANGED,(u=>{this.onChainChanged(u,!0)}))}getProvider(u){if(!this.rpcProviders[u])throw new Error(`Provider not found: ${u}`);return this.rpcProviders[u]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((u=>{var i;this.getProvider(u).updateNamespace(null==(i=this.session)?void 0:i.namespaces[u])}))}setNamespaces(u){const{namespaces:i,optionalNamespaces:d,sessionProperties:P}=u;i&&Object.keys(i).length&&(this.namespaces=i),d&&Object.keys(d).length&&(this.optionalNamespaces=d),this.sessionProperties=P,this.persist("namespaces",i),this.persist("optionalNamespaces",d)}validateChain(u){const[i,d]=u?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[i,d];if(i&&!Object.keys(this.namespaces||{}).map(($=>en($))).includes(i))throw new Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&d)return[i,d];const P=en(Object.keys(this.namespaces)[0]);return[P,this.rpcProviders[P].getDefaultChain()]}async requestAccounts(){const[u]=this.validateChain();return await this.getProvider(u).requestAccounts()}onChainChanged(u,i=!1){var d;if(!this.namespaces)return;const[P,O]=this.validateChain(u);i||this.getProvider(P).setDefaultChain(O),(null!=(d=this.namespaces[P])?d:this.namespaces[`${P}:${O}`]).defaultChain=O,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",O)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(u,i){this.client.core.storage.setItem(`${xa}/${u}`,i)}async getFromStore(u){return await this.client.core.storage.getItem(`${xa}/${u}`)}}const hv=index_es_lr,index_es_u=["eth_sendTransaction","personal_sign"],dist_index_es_E=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],dist_index_es_m=["chainChanged","accountsChanged"],dist_index_es_=["chainChanged","accountsChanged","message","disconnect","connect"];var dist_index_es_N=Object.defineProperty,index_es_q=Object.defineProperties,ethereum_provider_dist_index_es_D=Object.getOwnPropertyDescriptors,dist_index_es_y=Object.getOwnPropertySymbols,ethereum_provider_dist_index_es_U=Object.prototype.hasOwnProperty,ethereum_provider_dist_index_es_Q=Object.prototype.propertyIsEnumerable,ethereum_provider_dist_index_es_O=(a,t,s)=>t in a?dist_index_es_N(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,dist_index_es_p=(a,t)=>{for(var s in t||(t={}))ethereum_provider_dist_index_es_U.call(t,s)&&ethereum_provider_dist_index_es_O(a,s,t[s]);if(dist_index_es_y)for(var s of dist_index_es_y(t))ethereum_provider_dist_index_es_Q.call(t,s)&&ethereum_provider_dist_index_es_O(a,s,t[s]);return a},index_es_M=(a,t)=>index_es_q(a,ethereum_provider_dist_index_es_D(t));function ethereum_provider_dist_index_es_g(a){return Number(a[0].split(":")[1])}function index_es_f(a){return`0x${a.toString(16)}`}class dist_index_es_v{constructor(){this.events=new events.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(t,s)=>(this.events.on(t,s),this),this.once=(t,s)=>(this.events.once(t,s),this),this.removeListener=(t,s)=>(this.events.removeListener(t,s),this),this.off=(t,s)=>(this.events.off(t,s),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const s=new dist_index_es_v;return await s.initialize(t),s}async request(t){return await this.signer.request(t,this.formatChainId(this.chainId))}sendAsync(t,s){this.signer.sendAsync(t,s,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:s,optional:i}=function index_es_L(a){const{chains:t,optionalChains:s,methods:i,optionalMethods:n,events:e,optionalEvents:h,rpcMap:c}=a;if(!k(t))throw new Error("Invalid chains");const o={chains:t,methods:i||index_es_u,events:e||dist_index_es_m,rpcMap:dist_index_es_p({},t.length?{[ethereum_provider_dist_index_es_g(t)]:c[ethereum_provider_dist_index_es_g(t)]}:{})},r=e?.filter((l=>!dist_index_es_m.includes(l))),d=i?.filter((l=>!index_es_u.includes(l)));if(!(s||h||n||null!=r&&r.length||null!=d&&d.length))return{required:t.length?o:void 0};const I={chains:[...new Set(r?.length&&d?.length||!s?o.chains.concat(s||[]):s)],methods:[...new Set(o.methods.concat(null!=n&&n.length?n:dist_index_es_E))],events:[...new Set(o.events.concat(null!=h&&h.length?h:dist_index_es_))],rpcMap:c};return{required:t.length?o:void 0,optional:s.length?I:void 0}}(this.rpc);try{const n=await new Promise((async(h,c)=>{var o;this.rpc.showQrModal&&(null==(o=this.modal)||o.subscribeModal((r=>{!r.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}))),await this.signer.connect(index_es_M(dist_index_es_p({namespaces:dist_index_es_p({},s&&{[this.namespace]:s})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t?.pairingTopic})).then((r=>{h(r)})).catch((r=>{c(new Error(r.message))}))}));if(!n)return;const e=function Un(e,n=[]){const t=[];return Object.keys(e).forEach((r=>{if(n.length&&!n.includes(r))return;const o=e[r];t.push(...o.accounts)})),t}(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:index_es_f(this.chainId)})}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(t=>{const{params:s}=t,{event:i}=s;"accountsChanged"===i.name?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===i.name?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",t)})),this.signer.on("chainChanged",(t=>{const s=parseInt(t);this.chainId=s,this.events.emit("chainChanged",index_es_f(this.chainId)),this.persist()})),this.signer.on("session_update",(t=>{this.events.emit("session_update",t)})),this.signer.on("session_delete",(t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",index_es_M(dist_index_es_p({},index_es_U("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(t=>{var s,i;this.rpc.showQrModal&&(null==(s=this.modal)||s.closeModal(),null==(i=this.modal)||i.openModal({uri:t})),this.events.emit("display_uri",t)}))}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const s=t.filter((i=>this.isCompatibleChainId(i))).map((i=>this.parseChainId(i)));s.length&&(this.chainId=s[0],this.events.emit("chainChanged",index_es_f(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const s=this.parseChainId(t);this.chainId=s,this.switchEthereumChain(s)}}parseAccountId(t){const[s,i,n]=t.split(":");return{chainId:`${s}:${i}`,address:n}}setAccounts(t){this.accounts=t.filter((s=>this.parseChainId(this.parseAccountId(s).chainId)===this.chainId)).map((s=>this.parseAccountId(s).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var s,i;const n=null!=(s=t?.chains)?s:[],e=null!=(i=t?.optionalChains)?i:[],h=n.concat(e);if(!h.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const c=n.length?t?.methods||index_es_u:[],o=n.length?t?.events||dist_index_es_m:[],r=t?.optionalMethods||[],d=t?.optionalEvents||[],C=t?.rpcMap||this.buildRpcMap(h,t.projectId),I=t?.qrModalOptions||void 0;return{chains:n?.map((l=>this.formatChainId(l))),optionalChains:e.map((l=>this.formatChainId(l))),methods:c,events:o,optionalMethods:r,optionalEvents:d,rpcMap:C,showQrModal:!(null==t||!t.showQrModal),qrModalOptions:I,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,s){const i={};return t.forEach((n=>{i[n]=this.getRpcUrl(n,s)})),i}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?ethereum_provider_dist_index_es_g(this.rpc.chains):ethereum_provider_dist_index_es_g(this.rpc.optionalChains),this.signer=await hv.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let s;try{const{WalletConnectModal:i}=await __webpack_require__.e(6416).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@walletconnect/modal/dist/index.js"));s=i}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(s)try{this.modal=new s(dist_index_es_p({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:s,optionalChains:i,rpcMap:n}=t;s&&k(s)&&(this.rpc.chains=s.map((e=>this.formatChainId(e))),s.forEach((e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)}))),i&&k(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map((e=>this.formatChainId(e))),i.forEach((e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)})))}getRpcUrl(t,s){var i;return(null==(i=this.rpc.rpcMap)?void 0:i[t])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${t}&projectId=${s||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),s=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:s?.accounts),this.setAccounts(s?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map((s=>this.parseAccount(s)))}}},"./node_modules/@walletconnect/events/dist/esm/events.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>IEvents});class IEvents{}},"./node_modules/@walletconnect/events/dist/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{IEvents:()=>_events__WEBPACK_IMPORTED_MODULE_0__.q});var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@walletconnect/events/dist/esm/events.js")},"./node_modules/@walletconnect/heartbeat/dist/cjs/constants/heartbeat.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HEARTBEAT_EVENTS=exports.HEARTBEAT_INTERVAL=void 0;const time_1=__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/index.js");exports.HEARTBEAT_INTERVAL=time_1.FIVE_SECONDS,exports.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},"./node_modules/@walletconnect/heartbeat/dist/cjs/constants/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});__webpack_require__("./node_modules/@walletconnect/heartbeat/node_modules/tslib/tslib.es6.js").__exportStar(__webpack_require__("./node_modules/@walletconnect/heartbeat/dist/cjs/constants/heartbeat.js"),exports)},"./node_modules/@walletconnect/heartbeat/dist/cjs/heartbeat.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HeartBeat=void 0;const tslib_1=__webpack_require__("./node_modules/@walletconnect/heartbeat/node_modules/tslib/tslib.es6.js"),events_1=__webpack_require__("./node_modules/events/events.js"),time_1=__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/index.js"),types_1=__webpack_require__("./node_modules/@walletconnect/heartbeat/dist/cjs/types/index.js"),constants_1=__webpack_require__("./node_modules/@walletconnect/heartbeat/dist/cjs/constants/index.js");class HeartBeat extends types_1.IHeartBeat{constructor(opts){super(opts),this.events=new events_1.EventEmitter,this.interval=constants_1.HEARTBEAT_INTERVAL,this.interval=(null==opts?void 0:opts.interval)||constants_1.HEARTBEAT_INTERVAL}static init(opts){return tslib_1.__awaiter(this,void 0,void 0,(function*(){const heartbeat=new HeartBeat(opts);return yield heartbeat.init(),heartbeat}))}init(){return tslib_1.__awaiter(this,void 0,void 0,(function*(){yield this.initialize()}))}stop(){clearInterval(this.intervalRef)}on(event,listener){this.events.on(event,listener)}once(event,listener){this.events.once(event,listener)}off(event,listener){this.events.off(event,listener)}removeListener(event,listener){this.events.removeListener(event,listener)}initialize(){return tslib_1.__awaiter(this,void 0,void 0,(function*(){this.intervalRef=setInterval((()=>this.pulse()),time_1.toMiliseconds(this.interval))}))}pulse(){this.events.emit(constants_1.HEARTBEAT_EVENTS.pulse)}}exports.HeartBeat=HeartBeat},"./node_modules/@walletconnect/heartbeat/dist/cjs/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__("./node_modules/@walletconnect/heartbeat/node_modules/tslib/tslib.es6.js");tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/heartbeat/dist/cjs/heartbeat.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/heartbeat/dist/cjs/types/index.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/heartbeat/dist/cjs/constants/index.js"),exports)},"./node_modules/@walletconnect/heartbeat/dist/cjs/types/heartbeat.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IHeartBeat=void 0;const events_1=__webpack_require__("./node_modules/@walletconnect/events/dist/esm/index.js");class IHeartBeat extends events_1.IEvents{constructor(opts){super()}}exports.IHeartBeat=IHeartBeat},"./node_modules/@walletconnect/heartbeat/dist/cjs/types/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});__webpack_require__("./node_modules/@walletconnect/heartbeat/node_modules/tslib/tslib.es6.js").__exportStar(__webpack_require__("./node_modules/@walletconnect/heartbeat/dist/cjs/types/heartbeat.js"),exports)},"./node_modules/@walletconnect/heartbeat/node_modules/tslib/tslib.es6.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator,__asyncGenerator:()=>__asyncGenerator,__asyncValues:()=>__asyncValues,__await:()=>__await,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>__createBinding,__decorate:()=>__decorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__read:()=>__read,__rest:()=>__rest,__spread:()=>__spread,__spreadArrays:()=>__spreadArrays,__values:()=>__values});var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __createBinding(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}function __exportStar(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{!function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}(g[n](v))}catch(e){settle(q[0][3],e)}}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function settle(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},"./node_modules/@walletconnect/logger/dist/cjs/constants.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PINO_CUSTOM_CONTEXT_KEY=exports.PINO_LOGGER_DEFAULTS=void 0,exports.PINO_LOGGER_DEFAULTS={level:"info"},exports.PINO_CUSTOM_CONTEXT_KEY="custom_context"},"./node_modules/@walletconnect/logger/dist/cjs/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pino=void 0;const tslib_1=__webpack_require__("./node_modules/@walletconnect/logger/node_modules/tslib/tslib.es6.js"),pino_1=tslib_1.__importDefault(__webpack_require__("./node_modules/pino/browser.js"));Object.defineProperty(exports,"pino",{enumerable:!0,get:function(){return pino_1.default}}),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/logger/dist/cjs/constants.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/logger/dist/cjs/utils.js"),exports)},"./node_modules/@walletconnect/logger/dist/cjs/utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateChildLogger=exports.formatChildLoggerContext=exports.getLoggerContext=exports.setBrowserLoggerContext=exports.getBrowserLoggerContext=exports.getDefaultLoggerOptions=void 0;const constants_1=__webpack_require__("./node_modules/@walletconnect/logger/dist/cjs/constants.js");function getBrowserLoggerContext(logger,customContextKey=constants_1.PINO_CUSTOM_CONTEXT_KEY){return logger[customContextKey]||""}function setBrowserLoggerContext(logger,context,customContextKey=constants_1.PINO_CUSTOM_CONTEXT_KEY){return logger[customContextKey]=context,logger}function getLoggerContext(logger,customContextKey=constants_1.PINO_CUSTOM_CONTEXT_KEY){let context="";return context=void 0===logger.bindings?getBrowserLoggerContext(logger,customContextKey):logger.bindings().context||"",context}function formatChildLoggerContext(logger,childContext,customContextKey=constants_1.PINO_CUSTOM_CONTEXT_KEY){const parentContext=getLoggerContext(logger,customContextKey);return parentContext.trim()?`${parentContext}/${childContext}`:childContext}exports.getDefaultLoggerOptions=function getDefaultLoggerOptions(opts){return Object.assign(Object.assign({},opts),{level:(null==opts?void 0:opts.level)||constants_1.PINO_LOGGER_DEFAULTS.level})},exports.getBrowserLoggerContext=getBrowserLoggerContext,exports.setBrowserLoggerContext=setBrowserLoggerContext,exports.getLoggerContext=getLoggerContext,exports.formatChildLoggerContext=formatChildLoggerContext,exports.generateChildLogger=function generateChildLogger(logger,childContext,customContextKey=constants_1.PINO_CUSTOM_CONTEXT_KEY){const context=formatChildLoggerContext(logger,childContext,customContextKey);return setBrowserLoggerContext(logger.child({context}),context,customContextKey)}},"./node_modules/@walletconnect/logger/node_modules/tslib/tslib.es6.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator,__asyncGenerator:()=>__asyncGenerator,__asyncValues:()=>__asyncValues,__await:()=>__await,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>__createBinding,__decorate:()=>__decorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__read:()=>__read,__rest:()=>__rest,__spread:()=>__spread,__spreadArrays:()=>__spreadArrays,__values:()=>__values});var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __createBinding(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}function __exportStar(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{!function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}(g[n](v))}catch(e){settle(q[0][3],e)}}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function settle(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},"./node_modules/@walletconnect/relay-api/dist/esm/types.js":()=>{},"./node_modules/@walletconnect/relay-auth/dist/esm/types.js":()=>{},"./node_modules/@walletconnect/time/dist/cjs/constants/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__("./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js");tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/constants/misc.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/constants/time.js"),exports)},"./node_modules/@walletconnect/time/dist/cjs/constants/misc.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ONE_THOUSAND=exports.ONE_HUNDRED=void 0,exports.ONE_HUNDRED=100,exports.ONE_THOUSAND=1e3},"./node_modules/@walletconnect/time/dist/cjs/constants/time.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ONE_YEAR=exports.FOUR_WEEKS=exports.THREE_WEEKS=exports.TWO_WEEKS=exports.ONE_WEEK=exports.THIRTY_DAYS=exports.SEVEN_DAYS=exports.FIVE_DAYS=exports.THREE_DAYS=exports.ONE_DAY=exports.TWENTY_FOUR_HOURS=exports.TWELVE_HOURS=exports.SIX_HOURS=exports.THREE_HOURS=exports.ONE_HOUR=exports.SIXTY_MINUTES=exports.THIRTY_MINUTES=exports.TEN_MINUTES=exports.FIVE_MINUTES=exports.ONE_MINUTE=exports.SIXTY_SECONDS=exports.THIRTY_SECONDS=exports.TEN_SECONDS=exports.FIVE_SECONDS=exports.ONE_SECOND=void 0,exports.ONE_SECOND=1,exports.FIVE_SECONDS=5,exports.TEN_SECONDS=10,exports.THIRTY_SECONDS=30,exports.SIXTY_SECONDS=60,exports.ONE_MINUTE=exports.SIXTY_SECONDS,exports.FIVE_MINUTES=5*exports.ONE_MINUTE,exports.TEN_MINUTES=10*exports.ONE_MINUTE,exports.THIRTY_MINUTES=30*exports.ONE_MINUTE,exports.SIXTY_MINUTES=60*exports.ONE_MINUTE,exports.ONE_HOUR=exports.SIXTY_MINUTES,exports.THREE_HOURS=3*exports.ONE_HOUR,exports.SIX_HOURS=6*exports.ONE_HOUR,exports.TWELVE_HOURS=12*exports.ONE_HOUR,exports.TWENTY_FOUR_HOURS=24*exports.ONE_HOUR,exports.ONE_DAY=exports.TWENTY_FOUR_HOURS,exports.THREE_DAYS=3*exports.ONE_DAY,exports.FIVE_DAYS=5*exports.ONE_DAY,exports.SEVEN_DAYS=7*exports.ONE_DAY,exports.THIRTY_DAYS=30*exports.ONE_DAY,exports.ONE_WEEK=exports.SEVEN_DAYS,exports.TWO_WEEKS=2*exports.ONE_WEEK,exports.THREE_WEEKS=3*exports.ONE_WEEK,exports.FOUR_WEEKS=4*exports.ONE_WEEK,exports.ONE_YEAR=365*exports.ONE_DAY},"./node_modules/@walletconnect/time/dist/cjs/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__("./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js");tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/utils/index.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/watch.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/types/index.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/constants/index.js"),exports)},"./node_modules/@walletconnect/time/dist/cjs/types/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});__webpack_require__("./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js").__exportStar(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/types/watch.js"),exports)},"./node_modules/@walletconnect/time/dist/cjs/types/watch.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IWatch=void 0;exports.IWatch=class IWatch{}},"./node_modules/@walletconnect/time/dist/cjs/utils/convert.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromMiliseconds=exports.toMiliseconds=void 0;const constants_1=__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/constants/index.js");exports.toMiliseconds=function toMiliseconds(seconds){return seconds*constants_1.ONE_THOUSAND},exports.fromMiliseconds=function fromMiliseconds(miliseconds){return Math.floor(miliseconds/constants_1.ONE_THOUSAND)}},"./node_modules/@walletconnect/time/dist/cjs/utils/delay.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delay=void 0,exports.delay=function delay(timeout){return new Promise((resolve=>{setTimeout((()=>{resolve(!0)}),timeout)}))}},"./node_modules/@walletconnect/time/dist/cjs/utils/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__("./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js");tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/utils/delay.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/utils/convert.js"),exports)},"./node_modules/@walletconnect/time/dist/cjs/watch.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Watch=void 0;class Watch{constructor(){this.timestamps=new Map}start(label){if(this.timestamps.has(label))throw new Error(`Watch already started for label: ${label}`);this.timestamps.set(label,{started:Date.now()})}stop(label){const timestamp=this.get(label);if(void 0!==timestamp.elapsed)throw new Error(`Watch already stopped for label: ${label}`);const elapsed=Date.now()-timestamp.started;this.timestamps.set(label,{started:timestamp.started,elapsed})}get(label){const timestamp=this.timestamps.get(label);if(void 0===timestamp)throw new Error(`No timestamp found for label: ${label}`);return timestamp}elapsed(label){const timestamp=this.get(label);return timestamp.elapsed||Date.now()-timestamp.started}}exports.Watch=Watch,exports.default=Watch},"./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator,__asyncGenerator:()=>__asyncGenerator,__asyncValues:()=>__asyncValues,__await:()=>__await,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>__createBinding,__decorate:()=>__decorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__read:()=>__read,__rest:()=>__rest,__spread:()=>__spread,__spreadArrays:()=>__spreadArrays,__values:()=>__values});var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __createBinding(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}function __exportStar(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{!function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}(g[n](v))}catch(e){settle(q[0][3],e)}}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function settle(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},"./node_modules/@walletconnect/window-getters/dist/cjs/index.js":(__unused_webpack_module,exports)=>{"use strict";function getFromWindow(name){let res;return"undefined"!=typeof window&&void 0!==window[name]&&(res=window[name]),res}function getFromWindowOrThrow(name){const res=getFromWindow(name);if(!res)throw new Error(`${name} is not defined in Window`);return res}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLocalStorage=exports.getLocalStorageOrThrow=exports.getCrypto=exports.getCryptoOrThrow=exports.getLocation=exports.getLocationOrThrow=exports.getNavigator=exports.getNavigatorOrThrow=exports.getDocument=exports.getDocumentOrThrow=exports.getFromWindowOrThrow=exports.getFromWindow=void 0,exports.getFromWindow=getFromWindow,exports.getFromWindowOrThrow=getFromWindowOrThrow,exports.getDocumentOrThrow=function getDocumentOrThrow(){return getFromWindowOrThrow("document")},exports.getDocument=function getDocument(){return getFromWindow("document")},exports.getNavigatorOrThrow=function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")},exports.getNavigator=function getNavigator(){return getFromWindow("navigator")},exports.getLocationOrThrow=function getLocationOrThrow(){return getFromWindowOrThrow("location")},exports.getLocation=function getLocation(){return getFromWindow("location")},exports.getCryptoOrThrow=function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")},exports.getCrypto=function getCrypto(){return getFromWindow("crypto")},exports.getLocalStorageOrThrow=function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")},exports.getLocalStorage=function getLocalStorage(){return getFromWindow("localStorage")}},"./node_modules/@walletconnect/window-metadata/dist/cjs/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.D=void 0;const window_getters_1=__webpack_require__("./node_modules/@walletconnect/window-getters/dist/cjs/index.js");exports.D=function getWindowMetadata(){let doc,loc;try{doc=window_getters_1.getDocumentOrThrow(),loc=window_getters_1.getLocationOrThrow()}catch(e){return null}function getWindowMetadataOfAny(...args){const metaTags=doc.getElementsByTagName("meta");for(let i=0;i<metaTags.length;i++){const tag=metaTags[i],attributes=["itemprop","property","name"].map((target=>tag.getAttribute(target))).filter((attr=>!!attr&&args.includes(attr)));if(attributes.length&&attributes){const content=tag.getAttribute("content");if(content)return content}}return""}const name=function getName(){let name=getWindowMetadataOfAny("name","og:site_name","og:title","twitter:title");return name||(name=doc.title),name}();return{description:function getDescription(){return getWindowMetadataOfAny("description","og:description","twitter:description","keywords")}(),url:loc.origin,icons:function getIcons(){const links=doc.getElementsByTagName("link"),icons=[];for(let i=0;i<links.length;i++){const link=links[i],rel=link.getAttribute("rel");if(rel&&rel.toLowerCase().indexOf("icon")>-1){const href=link.getAttribute("href");if(href)if(-1===href.toLowerCase().indexOf("https:")&&-1===href.toLowerCase().indexOf("http:")&&0!==href.indexOf("//")){let absoluteHref=loc.protocol+"//"+loc.host;if(0===href.indexOf("/"))absoluteHref+=href;else{const path=loc.pathname.split("/");path.pop();absoluteHref+=path.join("/")+"/"+href}icons.push(absoluteHref)}else if(0===href.indexOf("//")){const absoluteUrl=loc.protocol+href;icons.push(absoluteUrl)}else icons.push(href)}}return icons}(),name}}},"./node_modules/aes-js/index.js":function(module){"use strict";!function(root){function checkInt(value){return parseInt(value)===value}function checkInts(arrayish){if(!checkInt(arrayish.length))return!1;for(var i=0;i<arrayish.length;i++)if(!checkInt(arrayish[i])||arrayish[i]<0||arrayish[i]>255)return!1;return!0}function coerceArray(arg,copy){if(arg.buffer&&ArrayBuffer.isView(arg)&&"Uint8Array"===arg.name)return copy&&(arg=arg.slice?arg.slice():Array.prototype.slice.call(arg)),arg;if(Array.isArray(arg)){if(!checkInts(arg))throw new Error("Array contains invalid value: "+arg);return new Uint8Array(arg)}if(checkInt(arg.length)&&checkInts(arg))return new Uint8Array(arg);throw new Error("unsupported array-like object")}function createArray(length){return new Uint8Array(length)}function copyArray(sourceArray,targetArray,targetStart,sourceStart,sourceEnd){null==sourceStart&&null==sourceEnd||(sourceArray=sourceArray.slice?sourceArray.slice(sourceStart,sourceEnd):Array.prototype.slice.call(sourceArray,sourceStart,sourceEnd)),targetArray.set(sourceArray,targetStart)}var Hex,convertUtf8={toBytes:function toBytes(text){var result=[],i=0;for(text=encodeURI(text);i<text.length;){var c=text.charCodeAt(i++);37===c?(result.push(parseInt(text.substr(i,2),16)),i+=2):result.push(c)}return coerceArray(result)},fromBytes:function fromBytes(bytes){for(var result=[],i=0;i<bytes.length;){var c=bytes[i];c<128?(result.push(String.fromCharCode(c)),i++):c>191&&c<224?(result.push(String.fromCharCode((31&c)<<6|63&bytes[i+1])),i+=2):(result.push(String.fromCharCode((15&c)<<12|(63&bytes[i+1])<<6|63&bytes[i+2])),i+=3)}return result.join("")}},convertHex=(Hex="0123456789abcdef",{toBytes:function toBytes(text){for(var result=[],i=0;i<text.length;i+=2)result.push(parseInt(text.substr(i,2),16));return result},fromBytes:function fromBytes(bytes){for(var result=[],i=0;i<bytes.length;i++){var v=bytes[i];result.push(Hex[(240&v)>>4]+Hex[15&v])}return result.join("")}}),numberOfRounds={16:10,24:12,32:14},rcon=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],S=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Si=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],T1=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T2=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],T3=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],T4=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],T5=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],T6=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],T7=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],T8=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],U1=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],U2=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],U3=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],U4=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function convertToInt32(bytes){for(var result=[],i=0;i<bytes.length;i+=4)result.push(bytes[i]<<24|bytes[i+1]<<16|bytes[i+2]<<8|bytes[i+3]);return result}var AES=function(key){if(!(this instanceof AES))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:coerceArray(key,!0)}),this._prepare()};AES.prototype._prepare=function(){var rounds=numberOfRounds[this.key.length];if(null==rounds)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var i=0;i<=rounds;i++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var index,roundKeyCount=4*(rounds+1),KC=this.key.length/4,tk=convertToInt32(this.key);for(i=0;i<KC;i++)index=i>>2,this._Ke[index][i%4]=tk[i],this._Kd[rounds-index][i%4]=tk[i];for(var tt,rconpointer=0,t=KC;t<roundKeyCount;){if(tt=tk[KC-1],tk[0]^=S[tt>>16&255]<<24^S[tt>>8&255]<<16^S[255&tt]<<8^S[tt>>24&255]^rcon[rconpointer]<<24,rconpointer+=1,8!=KC)for(i=1;i<KC;i++)tk[i]^=tk[i-1];else{for(i=1;i<KC/2;i++)tk[i]^=tk[i-1];tt=tk[KC/2-1],tk[KC/2]^=S[255&tt]^S[tt>>8&255]<<8^S[tt>>16&255]<<16^S[tt>>24&255]<<24;for(i=KC/2+1;i<KC;i++)tk[i]^=tk[i-1]}for(i=0;i<KC&&t<roundKeyCount;)r=t>>2,c=t%4,this._Ke[r][c]=tk[i],this._Kd[rounds-r][c]=tk[i++],t++}for(var r=1;r<rounds;r++)for(var c=0;c<4;c++)tt=this._Kd[r][c],this._Kd[r][c]=U1[tt>>24&255]^U2[tt>>16&255]^U3[tt>>8&255]^U4[255&tt]},AES.prototype.encrypt=function(plaintext){if(16!=plaintext.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var rounds=this._Ke.length-1,a=[0,0,0,0],t=convertToInt32(plaintext),i=0;i<4;i++)t[i]^=this._Ke[0][i];for(var r=1;r<rounds;r++){for(i=0;i<4;i++)a[i]=T1[t[i]>>24&255]^T2[t[(i+1)%4]>>16&255]^T3[t[(i+2)%4]>>8&255]^T4[255&t[(i+3)%4]]^this._Ke[r][i];t=a.slice()}var tt,result=createArray(16);for(i=0;i<4;i++)tt=this._Ke[rounds][i],result[4*i]=255&(S[t[i]>>24&255]^tt>>24),result[4*i+1]=255&(S[t[(i+1)%4]>>16&255]^tt>>16),result[4*i+2]=255&(S[t[(i+2)%4]>>8&255]^tt>>8),result[4*i+3]=255&(S[255&t[(i+3)%4]]^tt);return result},AES.prototype.decrypt=function(ciphertext){if(16!=ciphertext.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var rounds=this._Kd.length-1,a=[0,0,0,0],t=convertToInt32(ciphertext),i=0;i<4;i++)t[i]^=this._Kd[0][i];for(var r=1;r<rounds;r++){for(i=0;i<4;i++)a[i]=T5[t[i]>>24&255]^T6[t[(i+3)%4]>>16&255]^T7[t[(i+2)%4]>>8&255]^T8[255&t[(i+1)%4]]^this._Kd[r][i];t=a.slice()}var tt,result=createArray(16);for(i=0;i<4;i++)tt=this._Kd[rounds][i],result[4*i]=255&(Si[t[i]>>24&255]^tt>>24),result[4*i+1]=255&(Si[t[(i+3)%4]>>16&255]^tt>>16),result[4*i+2]=255&(Si[t[(i+2)%4]>>8&255]^tt>>8),result[4*i+3]=255&(Si[255&t[(i+1)%4]]^tt);return result};var ModeOfOperationECB=function(key){if(!(this instanceof ModeOfOperationECB))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new AES(key)};ModeOfOperationECB.prototype.encrypt=function(plaintext){if((plaintext=coerceArray(plaintext)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var ciphertext=createArray(plaintext.length),block=createArray(16),i=0;i<plaintext.length;i+=16)copyArray(plaintext,block,0,i,i+16),copyArray(block=this._aes.encrypt(block),ciphertext,i);return ciphertext},ModeOfOperationECB.prototype.decrypt=function(ciphertext){if((ciphertext=coerceArray(ciphertext)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var plaintext=createArray(ciphertext.length),block=createArray(16),i=0;i<ciphertext.length;i+=16)copyArray(ciphertext,block,0,i,i+16),copyArray(block=this._aes.decrypt(block),plaintext,i);return plaintext};var ModeOfOperationCBC=function(key,iv){if(!(this instanceof ModeOfOperationCBC))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",iv){if(16!=iv.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else iv=createArray(16);this._lastCipherblock=coerceArray(iv,!0),this._aes=new AES(key)};ModeOfOperationCBC.prototype.encrypt=function(plaintext){if((plaintext=coerceArray(plaintext)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var ciphertext=createArray(plaintext.length),block=createArray(16),i=0;i<plaintext.length;i+=16){copyArray(plaintext,block,0,i,i+16);for(var j=0;j<16;j++)block[j]^=this._lastCipherblock[j];this._lastCipherblock=this._aes.encrypt(block),copyArray(this._lastCipherblock,ciphertext,i)}return ciphertext},ModeOfOperationCBC.prototype.decrypt=function(ciphertext){if((ciphertext=coerceArray(ciphertext)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var plaintext=createArray(ciphertext.length),block=createArray(16),i=0;i<ciphertext.length;i+=16){copyArray(ciphertext,block,0,i,i+16),block=this._aes.decrypt(block);for(var j=0;j<16;j++)plaintext[i+j]=block[j]^this._lastCipherblock[j];copyArray(ciphertext,this._lastCipherblock,0,i,i+16)}return plaintext};var ModeOfOperationCFB=function(key,iv,segmentSize){if(!(this instanceof ModeOfOperationCFB))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",iv){if(16!=iv.length)throw new Error("invalid initialation vector size (must be 16 size)")}else iv=createArray(16);segmentSize||(segmentSize=1),this.segmentSize=segmentSize,this._shiftRegister=coerceArray(iv,!0),this._aes=new AES(key)};ModeOfOperationCFB.prototype.encrypt=function(plaintext){if(plaintext.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var xorSegment,encrypted=coerceArray(plaintext,!0),i=0;i<encrypted.length;i+=this.segmentSize){xorSegment=this._aes.encrypt(this._shiftRegister);for(var j=0;j<this.segmentSize;j++)encrypted[i+j]^=xorSegment[j];copyArray(this._shiftRegister,this._shiftRegister,0,this.segmentSize),copyArray(encrypted,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return encrypted},ModeOfOperationCFB.prototype.decrypt=function(ciphertext){if(ciphertext.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var xorSegment,plaintext=coerceArray(ciphertext,!0),i=0;i<plaintext.length;i+=this.segmentSize){xorSegment=this._aes.encrypt(this._shiftRegister);for(var j=0;j<this.segmentSize;j++)plaintext[i+j]^=xorSegment[j];copyArray(this._shiftRegister,this._shiftRegister,0,this.segmentSize),copyArray(ciphertext,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return plaintext};var ModeOfOperationOFB=function(key,iv){if(!(this instanceof ModeOfOperationOFB))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",iv){if(16!=iv.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else iv=createArray(16);this._lastPrecipher=coerceArray(iv,!0),this._lastPrecipherIndex=16,this._aes=new AES(key)};ModeOfOperationOFB.prototype.encrypt=function(plaintext){for(var encrypted=coerceArray(plaintext,!0),i=0;i<encrypted.length;i++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),encrypted[i]^=this._lastPrecipher[this._lastPrecipherIndex++];return encrypted},ModeOfOperationOFB.prototype.decrypt=ModeOfOperationOFB.prototype.encrypt;var Counter=function(initialValue){if(!(this instanceof Counter))throw Error("Counter must be instanitated with `new`");0===initialValue||initialValue||(initialValue=1),"number"==typeof initialValue?(this._counter=createArray(16),this.setValue(initialValue)):this.setBytes(initialValue)};Counter.prototype.setValue=function(value){if("number"!=typeof value||parseInt(value)!=value)throw new Error("invalid counter value (must be an integer)");for(var index=15;index>=0;--index)this._counter[index]=value%256,value>>=8},Counter.prototype.setBytes=function(bytes){if(16!=(bytes=coerceArray(bytes,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=bytes},Counter.prototype.increment=function(){for(var i=15;i>=0;i--){if(255!==this._counter[i]){this._counter[i]++;break}this._counter[i]=0}};var ModeOfOperationCTR=function(key,counter){if(!(this instanceof ModeOfOperationCTR))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",counter instanceof Counter||(counter=new Counter(counter)),this._counter=counter,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new AES(key)};ModeOfOperationCTR.prototype.encrypt=function(plaintext){for(var encrypted=coerceArray(plaintext,!0),i=0;i<encrypted.length;i++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),encrypted[i]^=this._remainingCounter[this._remainingCounterIndex++];return encrypted},ModeOfOperationCTR.prototype.decrypt=ModeOfOperationCTR.prototype.encrypt;var aesjs={AES,Counter,ModeOfOperation:{ecb:ModeOfOperationECB,cbc:ModeOfOperationCBC,cfb:ModeOfOperationCFB,ofb:ModeOfOperationOFB,ctr:ModeOfOperationCTR},utils:{hex:convertHex,utf8:convertUtf8},padding:{pkcs7:{pad:function pkcs7pad(data){var padder=16-(data=coerceArray(data,!0)).length%16,result=createArray(data.length+padder);copyArray(data,result);for(var i=data.length;i<result.length;i++)result[i]=padder;return result},strip:function pkcs7strip(data){if((data=coerceArray(data,!0)).length<16)throw new Error("PKCS#7 invalid length");var padder=data[data.length-1];if(padder>16)throw new Error("PKCS#7 padding byte out of range");for(var length=data.length-padder,i=0;i<padder;i++)if(data[length+i]!==padder)throw new Error("PKCS#7 invalid padding byte");var result=createArray(length);return copyArray(data,result,0,0,length),result}}},_arrayTest:{coerceArray,createArray,copyArray}};module.exports=aesjs}()},"./node_modules/bech32/index.js":module=>{"use strict";for(var ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={},z=0;z<32;z++){var x=ALPHABET.charAt(z);if(void 0!==ALPHABET_MAP[x])throw new TypeError(x+" is ambiguous");ALPHABET_MAP[x]=z}function polymodStep(pre){var b=pre>>25;return(33554431&pre)<<5^996825010&-(b>>0&1)^642813549&-(b>>1&1)^513874426&-(b>>2&1)^1027748829&-(b>>3&1)^705979059&-(b>>4&1)}function prefixChk(prefix){for(var chk=1,i=0;i<prefix.length;++i){var c=prefix.charCodeAt(i);if(c<33||c>126)return"Invalid prefix ("+prefix+")";chk=polymodStep(chk)^c>>5}for(chk=polymodStep(chk),i=0;i<prefix.length;++i){var v=prefix.charCodeAt(i);chk=polymodStep(chk)^31&v}return chk}function __decode(str,LIMIT){if(LIMIT=LIMIT||90,str.length<8)return str+" too short";if(str.length>LIMIT)return"Exceeds length limit";var lowered=str.toLowerCase(),uppered=str.toUpperCase();if(str!==lowered&&str!==uppered)return"Mixed-case string "+str;var split=(str=lowered).lastIndexOf("1");if(-1===split)return"No separator character for "+str;if(0===split)return"Missing prefix for "+str;var prefix=str.slice(0,split),wordChars=str.slice(split+1);if(wordChars.length<6)return"Data too short";var chk=prefixChk(prefix);if("string"==typeof chk)return chk;for(var words=[],i=0;i<wordChars.length;++i){var c=wordChars.charAt(i),v=ALPHABET_MAP[c];if(void 0===v)return"Unknown character "+c;chk=polymodStep(chk)^v,i+6>=wordChars.length||words.push(v)}return 1!==chk?"Invalid checksum for "+str:{prefix,words}}function convert(data,inBits,outBits,pad){for(var value=0,bits=0,maxV=(1<<outBits)-1,result=[],i=0;i<data.length;++i)for(value=value<<inBits|data[i],bits+=inBits;bits>=outBits;)bits-=outBits,result.push(value>>bits&maxV);if(pad)bits>0&&result.push(value<<outBits-bits&maxV);else{if(bits>=inBits)return"Excess padding";if(value<<outBits-bits&maxV)return"Non-zero padding"}return result}module.exports={decodeUnsafe:function decodeUnsafe(){var res=__decode.apply(null,arguments);if("object"==typeof res)return res},decode:function decode(str){var res=__decode.apply(null,arguments);if("object"==typeof res)return res;throw new Error(res)},encode:function encode(prefix,words,LIMIT){if(LIMIT=LIMIT||90,prefix.length+7+words.length>LIMIT)throw new TypeError("Exceeds length limit");var chk=prefixChk(prefix=prefix.toLowerCase());if("string"==typeof chk)throw new Error(chk);for(var result=prefix+"1",i=0;i<words.length;++i){var x=words[i];if(x>>5!=0)throw new Error("Non 5-bit word");chk=polymodStep(chk)^x,result+=ALPHABET.charAt(x)}for(i=0;i<6;++i)chk=polymodStep(chk);for(chk^=1,i=0;i<6;++i){result+=ALPHABET.charAt(chk>>5*(5-i)&31)}return result},toWordsUnsafe:function toWordsUnsafe(bytes){var res=convert(bytes,8,5,!0);if(Array.isArray(res))return res},toWords:function toWords(bytes){var res=convert(bytes,8,5,!0);if(Array.isArray(res))return res;throw new Error(res)},fromWordsUnsafe:function fromWordsUnsafe(words){var res=convert(words,5,8,!1);if(Array.isArray(res))return res},fromWords:function fromWords(words){var res=convert(words,5,8,!1);if(Array.isArray(res))return res;throw new Error(res)}}},"./node_modules/cross-fetch/dist/browser-ponyfill.js":function(module,exports){var global="undefined"!=typeof self?self:this,__self__=function(){function F(){this.fetch=!1,this.DOMException=global.DOMException}return F.prototype=global,new F}();!function(self){!function(exports){var support_searchParams="URLSearchParams"in self,support_iterable="Symbol"in self&&"iterator"in Symbol,support_blob="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),support_formData="FormData"in self,support_arrayBuffer="ArrayBuffer"in self;if(support_arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value}}};return support_iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach((function(value,name){this.append(name,value)}),this):Array.isArray(headers)?headers.forEach((function(header){this.append(header[0],header[1])}),this):headers&&Object.getOwnPropertyNames(headers).forEach((function(name){this.append(name,headers[name])}),this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise((function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}}))}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:support_blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support_formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support_arrayBuffer&&support_blob&&function isDataView(obj){return obj&&DataView.prototype.isPrototypeOf(obj)}(body)?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support_blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return function readBlobAsText(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsText(blob),promise}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function readArrayBufferAsText(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support_formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach((function(value,name){items.push(name)})),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach((function(value){items.push(value)})),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach((function(value,name){items.push([name,value])})),iteratorFor(items)},support_iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(input,options){var body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}(options.method||this.method||"GET"),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach((function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}})),form}function Response(bodyInit,options){options||(options={}),this.type="default",this.status=void 0===options.status?200:options.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status,headers:{location:url}})},exports.DOMException=self.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},exports.DOMException.prototype=Object.create(Error.prototype),exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise((function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new exports.DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var rawHeaders,headers,options={status:xhr.status,statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}})),headers)};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))},xhr.onerror=function(){reject(new TypeError("Network request failed"))},xhr.ontimeout=function(){reject(new TypeError("Network request failed"))},xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))},xhr.open(request.method,request.url,!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&support_blob&&(xhr.responseType="blob"),request.headers.forEach((function(value,name){xhr.setRequestHeader(name,value)})),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)}))}fetch.polyfill=!0,self.fetch||(self.fetch=fetch,self.Headers=Headers,self.Request=Request,self.Response=Response),exports.Headers=Headers,exports.Request=Request,exports.Response=Response,exports.fetch=fetch,Object.defineProperty(exports,"__esModule",{value:!0})}({})}(__self__),__self__.fetch.ponyfill=!0,delete __self__.fetch.polyfill;var ctx=__self__;(exports=ctx.fetch).default=ctx.fetch,exports.fetch=ctx.fetch,exports.Headers=ctx.Headers,exports.Request=ctx.Request,exports.Response=ctx.Response,module.exports=exports},"./node_modules/ethers/lib.esm/ethers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BaseContract:()=>BaseContract,BigNumber:()=>bignumber.O$,Contract:()=>Contract,ContractFactory:()=>ContractFactory,FixedNumber:()=>fixednumber.xs,Signer:()=>abstract_signer_lib_esm.E,VoidSigner:()=>abstract_signer_lib_esm.b,Wallet:()=>wallet_lib_esm.Wallet,Wordlist:()=>wordlist.D,constants:()=>constants_lib_esm_namespaceObject,errors:()=>logger_lib_esm.ErrorCode,getDefaultProvider:()=>getDefaultProvider,logger:()=>ethers_logger,providers:()=>providers_lib_esm_namespaceObject,utils:()=>utils_namespaceObject,version:()=>_version_version,wordlists:()=>wordlists.E});var constants_lib_esm_namespaceObject={};__webpack_require__.r(constants_lib_esm_namespaceObject),__webpack_require__.d(constants_lib_esm_namespaceObject,{AddressZero:()=>addresses.d,EtherSymbol:()=>EtherSymbol,HashZero:()=>hashes.R,MaxInt256:()=>bignumbers.PS,MaxUint256:()=>bignumbers.Bz,MinInt256:()=>bignumbers.$B,NegativeOne:()=>bignumbers.tL,One:()=>bignumbers.fh,Two:()=>bignumbers.Py,WeiPerEther:()=>bignumbers.Ce,Zero:()=>bignumbers._Y});var providers_lib_esm_namespaceObject={};__webpack_require__.r(providers_lib_esm_namespaceObject),__webpack_require__.d(providers_lib_esm_namespaceObject,{AlchemyProvider:()=>AlchemyProvider,AlchemyWebSocketProvider:()=>AlchemyWebSocketProvider,AnkrProvider:()=>AnkrProvider,BaseProvider:()=>base_provider.Zk,CloudflareProvider:()=>CloudflareProvider,EtherscanProvider:()=>EtherscanProvider,FallbackProvider:()=>FallbackProvider,Formatter:()=>formatter.Mb,InfuraProvider:()=>InfuraProvider,InfuraWebSocketProvider:()=>InfuraWebSocketProvider,IpcProvider:()=>IpcProvider,JsonRpcBatchProvider:()=>JsonRpcBatchProvider,JsonRpcProvider:()=>json_rpc_provider.r,JsonRpcSigner:()=>json_rpc_provider.C,NodesmithProvider:()=>NodesmithProvider,PocketProvider:()=>PocketProvider,Provider:()=>lib_esm.zt,Resolver:()=>base_provider.H2,StaticJsonRpcProvider:()=>StaticJsonRpcProvider,UrlJsonRpcProvider:()=>UrlJsonRpcProvider,Web3Provider:()=>web3_provider.Q,WebSocketProvider:()=>WebSocketProvider,getDefaultProvider:()=>getDefaultProvider,getNetwork:()=>networks_lib_esm.H,isCommunityResourcable:()=>formatter.Ed,isCommunityResource:()=>formatter.Gp,showThrottleMessage:()=>formatter.vh});var utils_namespaceObject={};__webpack_require__.r(utils_namespaceObject),__webpack_require__.d(utils_namespaceObject,{AbiCoder:()=>abi_coder.R,ConstructorFragment:()=>fragments.Xg,ErrorFragment:()=>fragments.IC,EventFragment:()=>fragments.QV,FormatTypes:()=>fragments.pc,Fragment:()=>fragments.HY,FunctionFragment:()=>fragments.YW,HDNode:()=>hdnode_lib_esm.HDNode,Indexed:()=>lib_esm_interface.Hk,Interface:()=>lib_esm_interface.vU,LogDescription:()=>lib_esm_interface.CC,Logger:()=>logger_lib_esm.Logger,ParamType:()=>fragments._R,RLP:()=>rlp_lib_esm,SigningKey:()=>signing_key_lib_esm.SigningKey,SupportedAlgorithm:()=>types.p,TransactionDescription:()=>lib_esm_interface.vk,TransactionTypes:()=>transactions_lib_esm.TransactionTypes,UnicodeNormalizationForm:()=>utf8.Uj,Utf8ErrorFuncs:()=>utf8.te,Utf8ErrorReason:()=>utf8.Uw,_TypedDataEncoder:()=>typed_data.E,_fetchData:()=>web_lib_esm._fetchData,_toEscapedUtf8String:()=>utf8.U$,accessListify:()=>transactions_lib_esm.accessListify,arrayify:()=>bytes_lib_esm.arrayify,base58:()=>basex_lib_esm.Base58,base64:()=>base64_lib_esm,checkProperties:()=>properties_lib_esm.checkProperties,checkResultErrors:()=>abstract_coder.BR,commify:()=>units_lib_esm.commify,computeAddress:()=>transactions_lib_esm.computeAddress,computeHmac:()=>sha2.Gy,computePublicKey:()=>signing_key_lib_esm.computePublicKey,concat:()=>bytes_lib_esm.concat,deepCopy:()=>properties_lib_esm.deepCopy,defaultAbiCoder:()=>abi_coder.$,defaultPath:()=>hdnode_lib_esm.defaultPath,defineReadOnly:()=>properties_lib_esm.defineReadOnly,dnsEncode:()=>namehash.Kn,entropyToMnemonic:()=>hdnode_lib_esm.entropyToMnemonic,fetchJson:()=>web_lib_esm.fetchJson,formatBytes32String:()=>bytes32.s,formatEther:()=>units_lib_esm.formatEther,formatUnits:()=>units_lib_esm.formatUnits,getAccountPath:()=>hdnode_lib_esm.getAccountPath,getAddress:()=>address_lib_esm.getAddress,getContractAddress:()=>address_lib_esm.getContractAddress,getCreate2Address:()=>address_lib_esm.getCreate2Address,getIcapAddress:()=>address_lib_esm.getIcapAddress,getJsonWalletAddress:()=>inspect.Rb,getStatic:()=>properties_lib_esm.getStatic,hashMessage:()=>message.r,hexConcat:()=>bytes_lib_esm.hexConcat,hexDataLength:()=>bytes_lib_esm.hexDataLength,hexDataSlice:()=>bytes_lib_esm.hexDataSlice,hexStripZeros:()=>bytes_lib_esm.hexStripZeros,hexValue:()=>bytes_lib_esm.hexValue,hexZeroPad:()=>bytes_lib_esm.hexZeroPad,hexlify:()=>bytes_lib_esm.hexlify,id:()=>id.id,isAddress:()=>address_lib_esm.isAddress,isBytes:()=>bytes_lib_esm.isBytes,isBytesLike:()=>bytes_lib_esm.isBytesLike,isHexString:()=>bytes_lib_esm.isHexString,isValidMnemonic:()=>hdnode_lib_esm.isValidMnemonic,isValidName:()=>namehash.r1,joinSignature:()=>bytes_lib_esm.joinSignature,keccak256:()=>keccak256_lib_esm.keccak256,mnemonicToEntropy:()=>hdnode_lib_esm.mnemonicToEntropy,mnemonicToSeed:()=>hdnode_lib_esm.mnemonicToSeed,namehash:()=>namehash.VM,nameprep:()=>idna.Ll,parseBytes32String:()=>bytes32.F,parseEther:()=>units_lib_esm.parseEther,parseTransaction:()=>transactions_lib_esm.parse,parseUnits:()=>units_lib_esm.parseUnits,poll:()=>web_lib_esm.poll,randomBytes:()=>random.O,recoverAddress:()=>transactions_lib_esm.recoverAddress,recoverPublicKey:()=>signing_key_lib_esm.recoverPublicKey,resolveProperties:()=>properties_lib_esm.resolveProperties,ripemd160:()=>sha2.bP,serializeTransaction:()=>transactions_lib_esm.serialize,sha256:()=>sha2.JQ,sha512:()=>sha2.o,shallowCopy:()=>properties_lib_esm.shallowCopy,shuffled:()=>shuffle.y,solidityKeccak256:()=>solidity_lib_esm.keccak256,solidityPack:()=>solidity_lib_esm.pack,soliditySha256:()=>solidity_lib_esm.sha256,splitSignature:()=>bytes_lib_esm.splitSignature,stripZeros:()=>bytes_lib_esm.stripZeros,toUtf8Bytes:()=>utf8.Y0,toUtf8CodePoints:()=>utf8.XL,toUtf8String:()=>utf8.ZN,verifyMessage:()=>wallet_lib_esm.verifyMessage,verifyTypedData:()=>wallet_lib_esm.verifyTypedData,zeroPad:()=>bytes_lib_esm.zeroPad});var abstract_coder=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js"),lib_esm_interface=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/interface.js"),lib_esm=__webpack_require__("./node_modules/@ethersproject/abstract-provider/lib.esm/index.js"),abstract_signer_lib_esm=__webpack_require__("./node_modules/@ethersproject/abstract-signer/lib.esm/index.js"),address_lib_esm=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js"),bignumber=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),bytes_lib_esm=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js"),properties_lib_esm=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js"),transactions_lib_esm=__webpack_require__("./node_modules/@ethersproject/transactions/lib.esm/index.js"),logger_lib_esm=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const logger=new logger_lib_esm.Logger("contracts/5.7.0"),allowedTransactionKeys={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function resolveName(resolver,nameOrPromise){return __awaiter(this,void 0,void 0,(function*(){const name=yield nameOrPromise;"string"!=typeof name&&logger.throwArgumentError("invalid address or ENS name","name",name);try{return(0,address_lib_esm.getAddress)(name)}catch(error){}resolver||logger.throwError("a provider or signer is needed to resolve ENS names",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const address=yield resolver.resolveName(name);return null==address&&logger.throwArgumentError("resolver or addr is not configured for ENS name","name",name),address}))}function resolveAddresses(resolver,value,paramType){return __awaiter(this,void 0,void 0,(function*(){return Array.isArray(paramType)?yield Promise.all(paramType.map(((paramType,index)=>resolveAddresses(resolver,Array.isArray(value)?value[index]:value[paramType.name],paramType)))):"address"===paramType.type?yield resolveName(resolver,value):"tuple"===paramType.type?yield resolveAddresses(resolver,value,paramType.components):"array"===paramType.baseType?Array.isArray(value)?yield Promise.all(value.map((v=>resolveAddresses(resolver,v,paramType.arrayChildren)))):Promise.reject(logger.makeError("invalid value for array",logger_lib_esm.Logger.errors.INVALID_ARGUMENT,{argument:"value",value})):value}))}function populateTransaction(contract,fragment,args){return __awaiter(this,void 0,void 0,(function*(){let overrides={};args.length===fragment.inputs.length+1&&"object"==typeof args[args.length-1]&&(overrides=(0,properties_lib_esm.shallowCopy)(args.pop())),logger.checkArgumentCount(args.length,fragment.inputs.length,"passed to contract"),contract.signer?overrides.from?overrides.from=(0,properties_lib_esm.resolveProperties)({override:resolveName(contract.signer,overrides.from),signer:contract.signer.getAddress()}).then((check=>__awaiter(this,void 0,void 0,(function*(){return(0,address_lib_esm.getAddress)(check.signer)!==check.override&&logger.throwError("Contract with a Signer cannot override from",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),check.override})))):overrides.from=contract.signer.getAddress():overrides.from&&(overrides.from=resolveName(contract.provider,overrides.from));const resolved=yield(0,properties_lib_esm.resolveProperties)({args:resolveAddresses(contract.signer||contract.provider,args,fragment.inputs),address:contract.resolvedAddress,overrides:(0,properties_lib_esm.resolveProperties)(overrides)||{}}),data=contract.interface.encodeFunctionData(fragment,resolved.args),tx={data,to:resolved.address},ro=resolved.overrides;if(null!=ro.nonce&&(tx.nonce=bignumber.O$.from(ro.nonce).toNumber()),null!=ro.gasLimit&&(tx.gasLimit=bignumber.O$.from(ro.gasLimit)),null!=ro.gasPrice&&(tx.gasPrice=bignumber.O$.from(ro.gasPrice)),null!=ro.maxFeePerGas&&(tx.maxFeePerGas=bignumber.O$.from(ro.maxFeePerGas)),null!=ro.maxPriorityFeePerGas&&(tx.maxPriorityFeePerGas=bignumber.O$.from(ro.maxPriorityFeePerGas)),null!=ro.from&&(tx.from=ro.from),null!=ro.type&&(tx.type=ro.type),null!=ro.accessList&&(tx.accessList=(0,transactions_lib_esm.accessListify)(ro.accessList)),null==tx.gasLimit&&null!=fragment.gas){let intrinsic=21e3;const bytes=(0,bytes_lib_esm.arrayify)(data);for(let i=0;i<bytes.length;i++)intrinsic+=4,bytes[i]&&(intrinsic+=64);tx.gasLimit=bignumber.O$.from(fragment.gas).add(intrinsic)}if(ro.value){const roValue=bignumber.O$.from(ro.value);roValue.isZero()||fragment.payable||logger.throwError("non-payable method cannot override value",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:overrides.value}),tx.value=roValue}ro.customData&&(tx.customData=(0,properties_lib_esm.shallowCopy)(ro.customData)),ro.ccipReadEnabled&&(tx.ccipReadEnabled=!!ro.ccipReadEnabled),delete overrides.nonce,delete overrides.gasLimit,delete overrides.gasPrice,delete overrides.from,delete overrides.value,delete overrides.type,delete overrides.accessList,delete overrides.maxFeePerGas,delete overrides.maxPriorityFeePerGas,delete overrides.customData,delete overrides.ccipReadEnabled;const leftovers=Object.keys(overrides).filter((key=>null!=overrides[key]));return leftovers.length&&logger.throwError(`cannot override ${leftovers.map((l=>JSON.stringify(l))).join(",")}`,logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:leftovers}),tx}))}function addContractWait(contract,tx){const wait=tx.wait.bind(tx);tx.wait=confirmations=>wait(confirmations).then((receipt=>(receipt.events=receipt.logs.map((log=>{let event=(0,properties_lib_esm.deepCopy)(log),parsed=null;try{parsed=contract.interface.parseLog(log)}catch(e){}return parsed&&(event.args=parsed.args,event.decode=(data,topics)=>contract.interface.decodeEventLog(parsed.eventFragment,data,topics),event.event=parsed.name,event.eventSignature=parsed.signature),event.removeListener=()=>contract.provider,event.getBlock=()=>contract.provider.getBlock(receipt.blockHash),event.getTransaction=()=>contract.provider.getTransaction(receipt.transactionHash),event.getTransactionReceipt=()=>Promise.resolve(receipt),event})),receipt)))}function buildCall(contract,fragment,collapseSimple){const signerOrProvider=contract.signer||contract.provider;return function(...args){return __awaiter(this,void 0,void 0,(function*(){let blockTag;if(args.length===fragment.inputs.length+1&&"object"==typeof args[args.length-1]){const overrides=(0,properties_lib_esm.shallowCopy)(args.pop());null!=overrides.blockTag&&(blockTag=yield overrides.blockTag),delete overrides.blockTag,args.push(overrides)}null!=contract.deployTransaction&&(yield contract._deployed(blockTag));const tx=yield populateTransaction(contract,fragment,args),result=yield signerOrProvider.call(tx,blockTag);try{let value=contract.interface.decodeFunctionResult(fragment,result);return collapseSimple&&1===fragment.outputs.length&&(value=value[0]),value}catch(error){throw error.code===logger_lib_esm.Logger.errors.CALL_EXCEPTION&&(error.address=contract.address,error.args=args,error.transaction=tx),error}}))}}function buildDefault(contract,fragment,collapseSimple){return fragment.constant?buildCall(contract,fragment,collapseSimple):function buildSend(contract,fragment){return function(...args){return __awaiter(this,void 0,void 0,(function*(){contract.signer||logger.throwError("sending a transaction requires a signer",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=contract.deployTransaction&&(yield contract._deployed());const txRequest=yield populateTransaction(contract,fragment,args),tx=yield contract.signer.sendTransaction(txRequest);return addContractWait(contract,tx),tx}))}}(contract,fragment)}function getEventTag(filter){return!filter.address||null!=filter.topics&&0!==filter.topics.length?(filter.address||"*")+"@"+(filter.topics?filter.topics.map((topic=>Array.isArray(topic)?topic.join("|"):topic)).join(":"):""):"*"}class RunningEvent{constructor(tag,filter){(0,properties_lib_esm.defineReadOnly)(this,"tag",tag),(0,properties_lib_esm.defineReadOnly)(this,"filter",filter),this._listeners=[]}addListener(listener,once){this._listeners.push({listener,once})}removeListener(listener){let done=!1;this._listeners=this._listeners.filter((item=>!(!done&&item.listener===listener)||(done=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((i=>i.listener))}listenerCount(){return this._listeners.length}run(args){const listenerCount=this.listenerCount();return this._listeners=this._listeners.filter((item=>{const argsCopy=args.slice();return setTimeout((()=>{item.listener.apply(this,argsCopy)}),0),!item.once})),listenerCount}prepareEvent(event){}getEmit(event){return[event]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(address,contractInterface,fragment,topics){const filter={address};let topic=contractInterface.getEventTopic(fragment);topics?(topic!==topics[0]&&logger.throwArgumentError("topic mismatch","topics",topics),filter.topics=topics.slice()):filter.topics=[topic],super(getEventTag(filter),filter),(0,properties_lib_esm.defineReadOnly)(this,"address",address),(0,properties_lib_esm.defineReadOnly)(this,"interface",contractInterface),(0,properties_lib_esm.defineReadOnly)(this,"fragment",fragment)}prepareEvent(event){super.prepareEvent(event),event.event=this.fragment.name,event.eventSignature=this.fragment.format(),event.decode=(data,topics)=>this.interface.decodeEventLog(this.fragment,data,topics);try{event.args=this.interface.decodeEventLog(this.fragment,event.data,event.topics)}catch(error){event.args=null,event.decodeError=error}}getEmit(event){const errors=(0,abstract_coder.BR)(event.args);if(errors.length)throw errors[0].error;const args=(event.args||[]).slice();return args.push(event),args}}class WildcardRunningEvent extends RunningEvent{constructor(address,contractInterface){super("*",{address}),(0,properties_lib_esm.defineReadOnly)(this,"address",address),(0,properties_lib_esm.defineReadOnly)(this,"interface",contractInterface)}prepareEvent(event){super.prepareEvent(event);try{const parsed=this.interface.parseLog(event);event.event=parsed.name,event.eventSignature=parsed.signature,event.decode=(data,topics)=>this.interface.decodeEventLog(parsed.eventFragment,data,topics),event.args=parsed.args}catch(error){}}}class BaseContract{constructor(addressOrName,contractInterface,signerOrProvider){(0,properties_lib_esm.defineReadOnly)(this,"interface",(0,properties_lib_esm.getStatic)(new.target,"getInterface")(contractInterface)),null==signerOrProvider?((0,properties_lib_esm.defineReadOnly)(this,"provider",null),(0,properties_lib_esm.defineReadOnly)(this,"signer",null)):abstract_signer_lib_esm.E.isSigner(signerOrProvider)?((0,properties_lib_esm.defineReadOnly)(this,"provider",signerOrProvider.provider||null),(0,properties_lib_esm.defineReadOnly)(this,"signer",signerOrProvider)):lib_esm.zt.isProvider(signerOrProvider)?((0,properties_lib_esm.defineReadOnly)(this,"provider",signerOrProvider),(0,properties_lib_esm.defineReadOnly)(this,"signer",null)):logger.throwArgumentError("invalid signer or provider","signerOrProvider",signerOrProvider),(0,properties_lib_esm.defineReadOnly)(this,"callStatic",{}),(0,properties_lib_esm.defineReadOnly)(this,"estimateGas",{}),(0,properties_lib_esm.defineReadOnly)(this,"functions",{}),(0,properties_lib_esm.defineReadOnly)(this,"populateTransaction",{}),(0,properties_lib_esm.defineReadOnly)(this,"filters",{});{const uniqueFilters={};Object.keys(this.interface.events).forEach((eventSignature=>{const event=this.interface.events[eventSignature];(0,properties_lib_esm.defineReadOnly)(this.filters,eventSignature,((...args)=>({address:this.address,topics:this.interface.encodeFilterTopics(event,args)}))),uniqueFilters[event.name]||(uniqueFilters[event.name]=[]),uniqueFilters[event.name].push(eventSignature)})),Object.keys(uniqueFilters).forEach((name=>{const filters=uniqueFilters[name];1===filters.length?(0,properties_lib_esm.defineReadOnly)(this.filters,name,this.filters[filters[0]]):logger.warn(`Duplicate definition of ${name} (${filters.join(", ")})`)}))}if((0,properties_lib_esm.defineReadOnly)(this,"_runningEvents",{}),(0,properties_lib_esm.defineReadOnly)(this,"_wrappedEmits",{}),null==addressOrName&&logger.throwArgumentError("invalid contract address or ENS name","addressOrName",addressOrName),(0,properties_lib_esm.defineReadOnly)(this,"address",addressOrName),this.provider)(0,properties_lib_esm.defineReadOnly)(this,"resolvedAddress",resolveName(this.provider,addressOrName));else try{(0,properties_lib_esm.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,address_lib_esm.getAddress)(addressOrName)))}catch(error){logger.throwError("provider is required to use ENS name as contract address",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const uniqueNames={},uniqueSignatures={};Object.keys(this.interface.functions).forEach((signature=>{const fragment=this.interface.functions[signature];if(uniqueSignatures[signature])logger.warn(`Duplicate ABI entry for ${JSON.stringify(signature)}`);else{uniqueSignatures[signature]=!0;{const name=fragment.name;uniqueNames[`%${name}`]||(uniqueNames[`%${name}`]=[]),uniqueNames[`%${name}`].push(signature)}null==this[signature]&&(0,properties_lib_esm.defineReadOnly)(this,signature,buildDefault(this,fragment,!0)),null==this.functions[signature]&&(0,properties_lib_esm.defineReadOnly)(this.functions,signature,buildDefault(this,fragment,!1)),null==this.callStatic[signature]&&(0,properties_lib_esm.defineReadOnly)(this.callStatic,signature,buildCall(this,fragment,!0)),null==this.populateTransaction[signature]&&(0,properties_lib_esm.defineReadOnly)(this.populateTransaction,signature,function buildPopulate(contract,fragment){return function(...args){return populateTransaction(contract,fragment,args)}}(this,fragment)),null==this.estimateGas[signature]&&(0,properties_lib_esm.defineReadOnly)(this.estimateGas,signature,function buildEstimate(contract,fragment){const signerOrProvider=contract.signer||contract.provider;return function(...args){return __awaiter(this,void 0,void 0,(function*(){signerOrProvider||logger.throwError("estimate require a provider or signer",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const tx=yield populateTransaction(contract,fragment,args);return yield signerOrProvider.estimateGas(tx)}))}}(this,fragment))}})),Object.keys(uniqueNames).forEach((name=>{const signatures=uniqueNames[name];if(signatures.length>1)return;name=name.substring(1);const signature=signatures[0];try{null==this[name]&&(0,properties_lib_esm.defineReadOnly)(this,name,this[signature])}catch(e){}null==this.functions[name]&&(0,properties_lib_esm.defineReadOnly)(this.functions,name,this.functions[signature]),null==this.callStatic[name]&&(0,properties_lib_esm.defineReadOnly)(this.callStatic,name,this.callStatic[signature]),null==this.populateTransaction[name]&&(0,properties_lib_esm.defineReadOnly)(this.populateTransaction,name,this.populateTransaction[signature]),null==this.estimateGas[name]&&(0,properties_lib_esm.defineReadOnly)(this.estimateGas,name,this.estimateGas[signature])}))}static getContractAddress(transaction){return(0,address_lib_esm.getContractAddress)(transaction)}static getInterface(contractInterface){return lib_esm_interface.vU.isInterface(contractInterface)?contractInterface:new lib_esm_interface.vU(contractInterface)}deployed(){return this._deployed()}_deployed(blockTag){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,blockTag).then((code=>("0x"===code&&logger.throwError("contract not deployed",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(overrides){this.signer||logger.throwError("sending a transactions require a signer",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const tx=(0,properties_lib_esm.shallowCopy)(overrides||{});return["from","to"].forEach((function(key){null!=tx[key]&&logger.throwError("cannot override "+key,logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:key})})),tx.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(tx)))}connect(signerOrProvider){"string"==typeof signerOrProvider&&(signerOrProvider=new abstract_signer_lib_esm.b(signerOrProvider,this.provider));const contract=new this.constructor(this.address,this.interface,signerOrProvider);return this.deployTransaction&&(0,properties_lib_esm.defineReadOnly)(contract,"deployTransaction",this.deployTransaction),contract}attach(addressOrName){return new this.constructor(addressOrName,this.interface,this.signer||this.provider)}static isIndexed(value){return lib_esm_interface.Hk.isIndexed(value)}_normalizeRunningEvent(runningEvent){return this._runningEvents[runningEvent.tag]?this._runningEvents[runningEvent.tag]:runningEvent}_getRunningEvent(eventName){if("string"==typeof eventName){if("error"===eventName)return this._normalizeRunningEvent(new ErrorRunningEvent);if("event"===eventName)return this._normalizeRunningEvent(new RunningEvent("event",null));if("*"===eventName)return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const fragment=this.interface.getEvent(eventName);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,fragment))}if(eventName.topics&&eventName.topics.length>0){try{const topic=eventName.topics[0];if("string"!=typeof topic)throw new Error("invalid topic");const fragment=this.interface.getEvent(topic);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,fragment,eventName.topics))}catch(error){}const filter={address:this.address,topics:eventName.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag(filter),filter))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(runningEvent){if(0===runningEvent.listenerCount()){delete this._runningEvents[runningEvent.tag];const emit=this._wrappedEmits[runningEvent.tag];emit&&runningEvent.filter&&(this.provider.off(runningEvent.filter,emit),delete this._wrappedEmits[runningEvent.tag])}}_wrapEvent(runningEvent,log,listener){const event=(0,properties_lib_esm.deepCopy)(log);return event.removeListener=()=>{listener&&(runningEvent.removeListener(listener),this._checkRunningEvents(runningEvent))},event.getBlock=()=>this.provider.getBlock(log.blockHash),event.getTransaction=()=>this.provider.getTransaction(log.transactionHash),event.getTransactionReceipt=()=>this.provider.getTransactionReceipt(log.transactionHash),runningEvent.prepareEvent(event),event}_addEventListener(runningEvent,listener,once){if(this.provider||logger.throwError("events require a provider or a signer with a provider",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),runningEvent.addListener(listener,once),this._runningEvents[runningEvent.tag]=runningEvent,!this._wrappedEmits[runningEvent.tag]){const wrappedEmit=log=>{let event=this._wrapEvent(runningEvent,log,listener);if(null==event.decodeError)try{const args=runningEvent.getEmit(event);this.emit(runningEvent.filter,...args)}catch(error){event.decodeError=error.error}null!=runningEvent.filter&&this.emit("event",event),null!=event.decodeError&&this.emit("error",event.decodeError,event)};this._wrappedEmits[runningEvent.tag]=wrappedEmit,null!=runningEvent.filter&&this.provider.on(runningEvent.filter,wrappedEmit)}}queryFilter(event,fromBlockOrBlockhash,toBlock){const runningEvent=this._getRunningEvent(event),filter=(0,properties_lib_esm.shallowCopy)(runningEvent.filter);return"string"==typeof fromBlockOrBlockhash&&(0,bytes_lib_esm.isHexString)(fromBlockOrBlockhash,32)?(null!=toBlock&&logger.throwArgumentError("cannot specify toBlock with blockhash","toBlock",toBlock),filter.blockHash=fromBlockOrBlockhash):(filter.fromBlock=null!=fromBlockOrBlockhash?fromBlockOrBlockhash:0,filter.toBlock=null!=toBlock?toBlock:"latest"),this.provider.getLogs(filter).then((logs=>logs.map((log=>this._wrapEvent(runningEvent,log,null)))))}on(event,listener){return this._addEventListener(this._getRunningEvent(event),listener,!1),this}once(event,listener){return this._addEventListener(this._getRunningEvent(event),listener,!0),this}emit(eventName,...args){if(!this.provider)return!1;const runningEvent=this._getRunningEvent(eventName),result=runningEvent.run(args)>0;return this._checkRunningEvents(runningEvent),result}listenerCount(eventName){return this.provider?null==eventName?Object.keys(this._runningEvents).reduce(((accum,key)=>accum+this._runningEvents[key].listenerCount()),0):this._getRunningEvent(eventName).listenerCount():0}listeners(eventName){if(!this.provider)return[];if(null==eventName){const result=[];for(let tag in this._runningEvents)this._runningEvents[tag].listeners().forEach((listener=>{result.push(listener)}));return result}return this._getRunningEvent(eventName).listeners()}removeAllListeners(eventName){if(!this.provider)return this;if(null==eventName){for(const tag in this._runningEvents){const runningEvent=this._runningEvents[tag];runningEvent.removeAllListeners(),this._checkRunningEvents(runningEvent)}return this}const runningEvent=this._getRunningEvent(eventName);return runningEvent.removeAllListeners(),this._checkRunningEvents(runningEvent),this}off(eventName,listener){if(!this.provider)return this;const runningEvent=this._getRunningEvent(eventName);return runningEvent.removeListener(listener),this._checkRunningEvents(runningEvent),this}removeListener(eventName,listener){return this.off(eventName,listener)}}class Contract extends BaseContract{}class ContractFactory{constructor(contractInterface,bytecode,signer){let bytecodeHex=null;bytecodeHex="string"==typeof bytecode?bytecode:(0,bytes_lib_esm.isBytes)(bytecode)?(0,bytes_lib_esm.hexlify)(bytecode):bytecode&&"string"==typeof bytecode.object?bytecode.object:"!","0x"!==bytecodeHex.substring(0,2)&&(bytecodeHex="0x"+bytecodeHex),(!(0,bytes_lib_esm.isHexString)(bytecodeHex)||bytecodeHex.length%2)&&logger.throwArgumentError("invalid bytecode","bytecode",bytecode),signer&&!abstract_signer_lib_esm.E.isSigner(signer)&&logger.throwArgumentError("invalid signer","signer",signer),(0,properties_lib_esm.defineReadOnly)(this,"bytecode",bytecodeHex),(0,properties_lib_esm.defineReadOnly)(this,"interface",(0,properties_lib_esm.getStatic)(new.target,"getInterface")(contractInterface)),(0,properties_lib_esm.defineReadOnly)(this,"signer",signer||null)}getDeployTransaction(...args){let tx={};if(args.length===this.interface.deploy.inputs.length+1&&"object"==typeof args[args.length-1]){tx=(0,properties_lib_esm.shallowCopy)(args.pop());for(const key in tx)if(!allowedTransactionKeys[key])throw new Error("unknown transaction override "+key)}if(["data","from","to"].forEach((key=>{null!=tx[key]&&logger.throwError("cannot override "+key,logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:key})})),tx.value){bignumber.O$.from(tx.value).isZero()||this.interface.deploy.payable||logger.throwError("non-payable constructor cannot override value",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:tx.value})}return logger.checkArgumentCount(args.length,this.interface.deploy.inputs.length," in Contract constructor"),tx.data=(0,bytes_lib_esm.hexlify)((0,bytes_lib_esm.concat)([this.bytecode,this.interface.encodeDeploy(args)])),tx}deploy(...args){return __awaiter(this,void 0,void 0,(function*(){let overrides={};args.length===this.interface.deploy.inputs.length+1&&(overrides=args.pop()),logger.checkArgumentCount(args.length,this.interface.deploy.inputs.length," in Contract constructor");const params=yield resolveAddresses(this.signer,args,this.interface.deploy.inputs);params.push(overrides);const unsignedTx=this.getDeployTransaction(...params),tx=yield this.signer.sendTransaction(unsignedTx),address=(0,properties_lib_esm.getStatic)(this.constructor,"getContractAddress")(tx),contract=(0,properties_lib_esm.getStatic)(this.constructor,"getContract")(address,this.interface,this.signer);return addContractWait(contract,tx),(0,properties_lib_esm.defineReadOnly)(contract,"deployTransaction",tx),contract}))}attach(address){return this.constructor.getContract(address,this.interface,this.signer)}connect(signer){return new this.constructor(this.interface,this.bytecode,signer)}static fromSolidity(compilerOutput,signer){null==compilerOutput&&logger.throwError("missing compiler output",logger_lib_esm.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof compilerOutput&&(compilerOutput=JSON.parse(compilerOutput));const abi=compilerOutput.abi;let bytecode=null;return compilerOutput.bytecode?bytecode=compilerOutput.bytecode:compilerOutput.evm&&compilerOutput.evm.bytecode&&(bytecode=compilerOutput.evm.bytecode),new this(abi,bytecode,signer)}static getInterface(contractInterface){return Contract.getInterface(contractInterface)}static getContractAddress(tx){return(0,address_lib_esm.getContractAddress)(tx)}static getContract(address,contractInterface,signer){return new Contract(address,contractInterface,signer)}}var fixednumber=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/fixednumber.js"),wallet_lib_esm=__webpack_require__("./node_modules/@ethersproject/wallet/lib.esm/index.js"),addresses=__webpack_require__("./node_modules/@ethersproject/constants/lib.esm/addresses.js"),bignumbers=__webpack_require__("./node_modules/@ethersproject/constants/lib.esm/bignumbers.js"),hashes=__webpack_require__("./node_modules/@ethersproject/constants/lib.esm/hashes.js");const EtherSymbol="Ξ";var networks_lib_esm=__webpack_require__("./node_modules/@ethersproject/networks/lib.esm/index.js"),base_provider=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/base-provider.js"),formatter=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/formatter.js"),json_rpc_provider=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/json-rpc-provider.js"),_version=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/_version.js");let WS=null;try{if(WS=WebSocket,null==WS)throw new Error("inject please")}catch(error){const logger=new logger_lib_esm.Logger(_version.i);WS=function(){logger.throwError("WebSockets not supported in this environment",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var console=__webpack_require__("./node_modules/console-browserify/index.js"),websocket_provider_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const websocket_provider_logger=new logger_lib_esm.Logger(_version.i);let NextId=1;class WebSocketProvider extends json_rpc_provider.r{constructor(url,network){"any"===network&&websocket_provider_logger.throwError("WebSocketProvider does not support 'any' network yet",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof url?url:"_websocket",network),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof url?(0,properties_lib_esm.defineReadOnly)(this,"_websocket",new WS(this.connection.url)):(0,properties_lib_esm.defineReadOnly)(this,"_websocket",url),(0,properties_lib_esm.defineReadOnly)(this,"_requests",{}),(0,properties_lib_esm.defineReadOnly)(this,"_subs",{}),(0,properties_lib_esm.defineReadOnly)(this,"_subIds",{}),(0,properties_lib_esm.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((id=>{this.websocket.send(this._requests[id].payload)}))},this.websocket.onmessage=messageEvent=>{const data=messageEvent.data,result=JSON.parse(data);if(null!=result.id){const id=String(result.id),request=this._requests[id];if(delete this._requests[id],void 0!==result.result)request.callback(null,result.result),this.emit("debug",{action:"response",request:JSON.parse(request.payload),response:result.result,provider:this});else{let error=null;result.error?(error=new Error(result.error.message||"unknown error"),(0,properties_lib_esm.defineReadOnly)(error,"code",result.error.code||null),(0,properties_lib_esm.defineReadOnly)(error,"response",data)):error=new Error("unknown error"),request.callback(error,void 0),this.emit("debug",{action:"response",error,request:JSON.parse(request.payload),provider:this})}}else if("eth_subscription"===result.method){const sub=this._subs[result.params.subscription];sub&&sub.processFunc(result.params.result)}else console.warn("this should not happen")};const fauxPoll=setInterval((()=>{this.emit("poll")}),1e3);fauxPoll.unref&&fauxPoll.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(blockNumber){websocket_provider_logger.throwError("cannot reset events block on WebSocketProvider",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(value){websocket_provider_logger.throwError("cannot set polling interval on WebSocketProvider",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return websocket_provider_awaiter(this,void 0,void 0,(function*(){return null}))}set polling(value){value&&websocket_provider_logger.throwError("cannot set polling on WebSocketProvider",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(method,params){const rid=NextId++;return new Promise(((resolve,reject)=>{const payload=JSON.stringify({method,params,id:rid,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(payload),provider:this}),this._requests[String(rid)]={callback:function callback(error,result){return error?reject(error):resolve(result)},payload},this._wsReady&&this.websocket.send(payload)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(tag,param,processFunc){return websocket_provider_awaiter(this,void 0,void 0,(function*(){let subIdPromise=this._subIds[tag];null==subIdPromise&&(subIdPromise=Promise.all(param).then((param=>this.send("eth_subscribe",param))),this._subIds[tag]=subIdPromise);const subId=yield subIdPromise;this._subs[subId]={tag,processFunc}}))}_startEvent(event){switch(event.type){case"block":this._subscribe("block",["newHeads"],(result=>{const blockNumber=bignumber.O$.from(result.number).toNumber();this._emitted.block=blockNumber,this.emit("block",blockNumber)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(result=>{this.emit("pending",result)}));break;case"filter":this._subscribe(event.tag,["logs",this._getFilter(event.filter)],(result=>{null==result.removed&&(result.removed=!1),this.emit(event.filter,this.formatter.filterLog(result))}));break;case"tx":{const emitReceipt=event=>{const hash=event.hash;this.getTransactionReceipt(hash).then((receipt=>{receipt&&this.emit(hash,receipt)}))};emitReceipt(event),this._subscribe("tx",["newHeads"],(result=>{this._events.filter((e=>"tx"===e.type)).forEach(emitReceipt)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",event)}}_stopEvent(event){let tag=event.tag;if("tx"===event.type){if(this._events.filter((e=>"tx"===e.type)).length)return;tag="tx"}else if(this.listenerCount(event.event))return;const subId=this._subIds[tag];subId&&(delete this._subIds[tag],subId.then((subId=>{this._subs[subId]&&(delete this._subs[subId],this.send("eth_unsubscribe",[subId]))})))}destroy(){return websocket_provider_awaiter(this,void 0,void 0,(function*(){this.websocket.readyState===WS.CONNECTING&&(yield new Promise((resolve=>{this.websocket.onopen=function(){resolve(!0)},this.websocket.onerror=function(){resolve(!1)}}))),this.websocket.close(1e3)}))}}var url_json_rpc_provider_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const url_json_rpc_provider_logger=new logger_lib_esm.Logger(_version.i);class StaticJsonRpcProvider extends json_rpc_provider.r{detectNetwork(){const _super=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return url_json_rpc_provider_awaiter(this,void 0,void 0,(function*(){let network=this.network;return null==network&&(network=yield _super.detectNetwork.call(this),network||url_json_rpc_provider_logger.throwError("no network detected",logger_lib_esm.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,properties_lib_esm.defineReadOnly)(this,"_network",network),this.emit("network",network,null))),network}))}}class UrlJsonRpcProvider extends StaticJsonRpcProvider{constructor(network,apiKey){url_json_rpc_provider_logger.checkAbstract(new.target,UrlJsonRpcProvider),network=(0,properties_lib_esm.getStatic)(new.target,"getNetwork")(network),apiKey=(0,properties_lib_esm.getStatic)(new.target,"getApiKey")(apiKey);super((0,properties_lib_esm.getStatic)(new.target,"getUrl")(network,apiKey),network),"string"==typeof apiKey?(0,properties_lib_esm.defineReadOnly)(this,"apiKey",apiKey):null!=apiKey&&Object.keys(apiKey).forEach((key=>{(0,properties_lib_esm.defineReadOnly)(this,key,apiKey[key])}))}_startPending(){url_json_rpc_provider_logger.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(address){return url_json_rpc_provider_logger.throwError("API provider does not support signing",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(apiKey){return apiKey}static getUrl(network,apiKey){return url_json_rpc_provider_logger.throwError("not implemented; sub-classes must override getUrl",logger_lib_esm.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const alchemy_provider_logger=new logger_lib_esm.Logger(_version.i),defaultApiKey="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class AlchemyWebSocketProvider extends WebSocketProvider{constructor(network,apiKey){const provider=new AlchemyProvider(network,apiKey);super(provider.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),provider.network),(0,properties_lib_esm.defineReadOnly)(this,"apiKey",provider.apiKey)}isCommunityResource(){return this.apiKey===defaultApiKey}}class AlchemyProvider extends UrlJsonRpcProvider{static getWebSocketProvider(network,apiKey){return new AlchemyWebSocketProvider(network,apiKey)}static getApiKey(apiKey){return null==apiKey?defaultApiKey:(apiKey&&"string"!=typeof apiKey&&alchemy_provider_logger.throwArgumentError("invalid apiKey","apiKey",apiKey),apiKey)}static getUrl(network,apiKey){let host=null;switch(network.name){case"homestead":host="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":host="eth-goerli.g.alchemy.com/v2/";break;case"matic":host="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":host="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":host="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":host="arb-goerli.g.alchemy.com/v2/";break;case"optimism":host="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":host="opt-goerli.g.alchemy.com/v2/";break;default:alchemy_provider_logger.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+host+apiKey,throttleCallback:(attempt,url)=>(apiKey===defaultApiKey&&(0,formatter.vh)(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===defaultApiKey}}const ankr_provider_logger=new logger_lib_esm.Logger(_version.i),ankr_provider_defaultApiKey="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost(name){switch(name){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return ankr_provider_logger.throwArgumentError("unsupported network","name",name)}class AnkrProvider extends UrlJsonRpcProvider{isCommunityResource(){return this.apiKey===ankr_provider_defaultApiKey}static getApiKey(apiKey){return null==apiKey?ankr_provider_defaultApiKey:apiKey}static getUrl(network,apiKey){null==apiKey&&(apiKey=ankr_provider_defaultApiKey);const connection={allowGzip:!0,url:"https://"+getHost(network.name)+apiKey,throttleCallback:(attempt,url)=>(apiKey.apiKey===ankr_provider_defaultApiKey&&(0,formatter.vh)(),Promise.resolve(!0))};return null!=apiKey.projectSecret&&(connection.user="",connection.password=apiKey.projectSecret),connection}}var cloudflare_provider_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const cloudflare_provider_logger=new logger_lib_esm.Logger(_version.i);class CloudflareProvider extends UrlJsonRpcProvider{static getApiKey(apiKey){return null!=apiKey&&cloudflare_provider_logger.throwArgumentError("apiKey not supported for cloudflare","apiKey",apiKey),null}static getUrl(network,apiKey){let host=null;if("homestead"===network.name)host="https://cloudflare-eth.com/";else cloudflare_provider_logger.throwArgumentError("unsupported network","network",arguments[0]);return host}perform(method,params){const _super=Object.create(null,{perform:{get:()=>super.perform}});return cloudflare_provider_awaiter(this,void 0,void 0,(function*(){if("getBlockNumber"===method){return(yield _super.perform.call(this,"getBlock",{blockTag:"latest"})).number}return _super.perform.call(this,method,params)}))}}var web_lib_esm=__webpack_require__("./node_modules/@ethersproject/web/lib.esm/index.js"),etherscan_provider_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const etherscan_provider_logger=new logger_lib_esm.Logger(_version.i);function getTransactionPostData(transaction){const result={};for(let key in transaction){if(null==transaction[key])continue;let value=transaction[key];"type"===key&&0===value||(value={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[key]?(0,bytes_lib_esm.hexValue)((0,bytes_lib_esm.hexlify)(value)):"accessList"===key?"["+(0,transactions_lib_esm.accessListify)(value).map((set=>`{address:"${set.address}",storageKeys:["${set.storageKeys.join('","')}"]}`)).join(",")+"]":(0,bytes_lib_esm.hexlify)(value),result[key]=value)}return result}function getResult(result){if(0==result.status&&("No records found"===result.message||"No transactions found"===result.message))return result.result;if(1!=result.status||"string"!=typeof result.message||!result.message.match(/^OK/)){const error=new Error("invalid response");throw error.result=JSON.stringify(result),(result.result||"").toLowerCase().indexOf("rate limit")>=0&&(error.throttleRetry=!0),error}return result.result}function getJsonResult(result){if(result&&0==result.status&&"NOTOK"==result.message&&(result.result||"").toLowerCase().indexOf("rate limit")>=0){const error=new Error("throttled response");throw error.result=JSON.stringify(result),error.throttleRetry=!0,error}if("2.0"!=result.jsonrpc){const error=new Error("invalid response");throw error.result=JSON.stringify(result),error}if(result.error){const error=new Error(result.error.message||"unknown error");throw result.error.code&&(error.code=result.error.code),result.error.data&&(error.data=result.error.data),error}return result.result}function checkLogTag(blockTag){if("pending"===blockTag)throw new Error("pending not supported");return"latest"===blockTag?blockTag:parseInt(blockTag.substring(2),16)}function checkError(method,error,transaction){if("call"===method&&error.code===logger_lib_esm.Logger.errors.SERVER_ERROR){const e=error.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let data=e.data;if(data&&(data="0x"+data.replace(/^.*0x/i,"")),(0,bytes_lib_esm.isHexString)(data))return data;etherscan_provider_logger.throwError("missing revert data in call exception",logger_lib_esm.Logger.errors.CALL_EXCEPTION,{error,data:"0x"})}}let message=error.message;throw error.code===logger_lib_esm.Logger.errors.SERVER_ERROR&&(error.error&&"string"==typeof error.error.message?message=error.error.message:"string"==typeof error.body?message=error.body:"string"==typeof error.responseText&&(message=error.responseText)),message=(message||"").toLowerCase(),message.match(/insufficient funds/)&&etherscan_provider_logger.throwError("insufficient funds for intrinsic transaction cost",logger_lib_esm.Logger.errors.INSUFFICIENT_FUNDS,{error,method,transaction}),message.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&etherscan_provider_logger.throwError("nonce has already been used",logger_lib_esm.Logger.errors.NONCE_EXPIRED,{error,method,transaction}),message.match(/another transaction with same nonce/)&&etherscan_provider_logger.throwError("replacement fee too low",logger_lib_esm.Logger.errors.REPLACEMENT_UNDERPRICED,{error,method,transaction}),message.match(/execution failed due to an exception|execution reverted/)&&etherscan_provider_logger.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",logger_lib_esm.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error,method,transaction}),error}class EtherscanProvider extends base_provider.Zk{constructor(network,apiKey){super(network),(0,properties_lib_esm.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,properties_lib_esm.defineReadOnly)(this,"apiKey",apiKey||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return etherscan_provider_logger.throwArgumentError("unsupported network","network",this.network.name)}getUrl(module,params){const query=Object.keys(params).reduce(((accum,key)=>{const value=params[key];return null!=value&&(accum+=`&${key}=${value}`),accum}),""),apiKey=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${module}${query}${apiKey}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(module,params){return params.module=module,params.apikey=this.apiKey,params}fetch(module,params,post){return etherscan_provider_awaiter(this,void 0,void 0,(function*(){const url=post?this.getPostUrl():this.getUrl(module,params),payload=post?this.getPostData(module,params):null,procFunc="proxy"===module?getJsonResult:getResult;this.emit("debug",{action:"request",request:url,provider:this});const connection={url,throttleSlotInterval:1e3,throttleCallback:(attempt,url)=>(this.isCommunityResource()&&(0,formatter.vh)(),Promise.resolve(!0))};let payloadStr=null;payload&&(connection.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},payloadStr=Object.keys(payload).map((key=>`${key}=${payload[key]}`)).join("&"));const result=yield(0,web_lib_esm.fetchJson)(connection,payloadStr,procFunc||getJsonResult);return this.emit("debug",{action:"response",request:url,response:(0,properties_lib_esm.deepCopy)(result),provider:this}),result}))}detectNetwork(){return etherscan_provider_awaiter(this,void 0,void 0,(function*(){return this.network}))}perform(method,params){const _super=Object.create(null,{perform:{get:()=>super.perform}});return etherscan_provider_awaiter(this,void 0,void 0,(function*(){switch(method){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:params.address,tag:params.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:params.address,tag:params.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:params.address,tag:params.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:params.address,position:params.position,tag:params.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:params.signedTransaction},!0).catch((error=>checkError("sendTransaction",error,params.signedTransaction)));case"getBlock":if(params.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:params.blockTag,boolean:params.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:params.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:params.transactionHash});case"call":{if("latest"!==params.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const postData=getTransactionPostData(params.transaction);postData.module="proxy",postData.action="eth_call";try{return yield this.fetch("proxy",postData,!0)}catch(error){return checkError("call",error,params.transaction)}}case"estimateGas":{const postData=getTransactionPostData(params.transaction);postData.module="proxy",postData.action="eth_estimateGas";try{return yield this.fetch("proxy",postData,!0)}catch(error){return checkError("estimateGas",error,params.transaction)}}case"getLogs":{const args={action:"getLogs"};if(params.filter.fromBlock&&(args.fromBlock=checkLogTag(params.filter.fromBlock)),params.filter.toBlock&&(args.toBlock=checkLogTag(params.filter.toBlock)),params.filter.address&&(args.address=params.filter.address),params.filter.topics&&params.filter.topics.length>0&&(params.filter.topics.length>1&&etherscan_provider_logger.throwError("unsupported topic count",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{topics:params.filter.topics}),1===params.filter.topics.length)){const topic0=params.filter.topics[0];"string"==typeof topic0&&66===topic0.length||etherscan_provider_logger.throwError("unsupported topic format",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{topic0}),args.topic0=topic0}const logs=yield this.fetch("logs",args);let blocks={};for(let i=0;i<logs.length;i++){const log=logs[i];if(null==log.blockHash){if(null==blocks[log.blockNumber]){const block=yield this.getBlock(log.blockNumber);block&&(blocks[log.blockNumber]=block.hash)}log.blockHash=blocks[log.blockNumber]}}return logs}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return _super.perform.call(this,method,params)}))}getHistory(addressOrName,startBlock,endBlock){return etherscan_provider_awaiter(this,void 0,void 0,(function*(){const params={action:"txlist",address:yield this.resolveName(addressOrName),startblock:null==startBlock?0:startBlock,endblock:null==endBlock?99999999:endBlock,sort:"asc"};return(yield this.fetch("account",params)).map((tx=>{["contractAddress","to"].forEach((function(key){""==tx[key]&&delete tx[key]})),null==tx.creates&&null!=tx.contractAddress&&(tx.creates=tx.contractAddress);const item=this.formatter.transactionResponse(tx);return tx.timeStamp&&(item.timestamp=parseInt(tx.timeStamp)),item}))}))}isCommunityResource(){return null==this.apiKey}}var shuffle=__webpack_require__("./node_modules/@ethersproject/random/lib.esm/shuffle.js"),fallback_provider_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const fallback_provider_logger=new logger_lib_esm.Logger(_version.i);function now(){return(new Date).getTime()}function checkNetworks(networks){let result=null;for(let i=0;i<networks.length;i++){const network=networks[i];if(null==network)return null;result?result.name===network.name&&result.chainId===network.chainId&&(result.ensAddress===network.ensAddress||null==result.ensAddress&&null==network.ensAddress)||fallback_provider_logger.throwArgumentError("provider mismatch","networks",networks):result=network}return result}function median(values,maxDelta){values=values.slice().sort();const middle=Math.floor(values.length/2);if(values.length%2)return values[middle];const a=values[middle-1],b=values[middle];return null!=maxDelta&&Math.abs(a-b)>maxDelta?null:(a+b)/2}function serialize(value){if(null===value)return"null";if("number"==typeof value||"boolean"==typeof value)return JSON.stringify(value);if("string"==typeof value)return value;if(bignumber.O$.isBigNumber(value))return value.toString();if(Array.isArray(value))return JSON.stringify(value.map((i=>serialize(i))));if("object"==typeof value){const keys=Object.keys(value);return keys.sort(),"{"+keys.map((key=>{let v=value[key];return v="function"==typeof v?"[function]":serialize(v),JSON.stringify(key)+":"+v})).join(",")+"}"}throw new Error("unknown value type: "+typeof value)}let nextRid=1;function stall(duration){let cancel=null,timer=null,promise=new Promise((resolve=>{cancel=function(){timer&&(clearTimeout(timer),timer=null),resolve()},timer=setTimeout(cancel,duration)}));return{cancel,getPromise:function getPromise(){return promise},wait:func=>(promise=promise.then(func),promise)}}const ForwardErrors=[logger_lib_esm.Logger.errors.CALL_EXCEPTION,logger_lib_esm.Logger.errors.INSUFFICIENT_FUNDS,logger_lib_esm.Logger.errors.NONCE_EXPIRED,logger_lib_esm.Logger.errors.REPLACEMENT_UNDERPRICED,logger_lib_esm.Logger.errors.UNPREDICTABLE_GAS_LIMIT],ForwardProperties=["address","args","errorArgs","errorSignature","method","transaction"];function exposeDebugConfig(config,now){const result={weight:config.weight};return Object.defineProperty(result,"provider",{get:()=>config.provider}),config.start&&(result.start=config.start),now&&(result.duration=now-config.start),config.done&&(config.error?result.error=config.error:result.result=config.result||null),result}function getProcessFunc(provider,method,params){let normalize=serialize;switch(method){case"getBlockNumber":return function(configs){const values=configs.map((c=>c.result));let blockNumber=median(configs.map((c=>c.result)),2);if(null!=blockNumber)return blockNumber=Math.ceil(blockNumber),values.indexOf(blockNumber+1)>=0&&blockNumber++,blockNumber>=provider._highestBlockNumber&&(provider._highestBlockNumber=blockNumber),provider._highestBlockNumber};case"getGasPrice":return function(configs){const values=configs.map((c=>c.result));return values.sort(),values[Math.floor(values.length/2)]};case"getEtherPrice":return function(configs){return median(configs.map((c=>c.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":normalize=function(tx){return null==tx?null:((tx=(0,properties_lib_esm.shallowCopy)(tx)).confirmations=-1,serialize(tx))};break;case"getBlock":normalize=params.includeTransactions?function(block){return null==block?null:((block=(0,properties_lib_esm.shallowCopy)(block)).transactions=block.transactions.map((tx=>((tx=(0,properties_lib_esm.shallowCopy)(tx)).confirmations=-1,tx))),serialize(block))}:function(block){return null==block?null:serialize(block)};break;default:throw new Error("unknown method: "+method)}return function normalizedTally(normalize,quorum){return function(configs){const tally={};configs.forEach((c=>{const value=normalize(c.result);tally[value]||(tally[value]={count:0,result:c.result}),tally[value].count++}));const keys=Object.keys(tally);for(let i=0;i<keys.length;i++){const check=tally[keys[i]];if(check.count>=quorum)return check.result}}}(normalize,provider.quorum)}function waitForSync(config,blockNumber){return fallback_provider_awaiter(this,void 0,void 0,(function*(){const provider=config.provider;return null!=provider.blockNumber&&provider.blockNumber>=blockNumber||-1===blockNumber?provider:(0,web_lib_esm.poll)((()=>new Promise(((resolve,reject)=>{setTimeout((function(){return provider.blockNumber>=blockNumber?resolve(provider):config.cancelled?resolve(null):resolve(void 0)}),0)}))),{oncePoll:provider})}))}function getRunner(config,currentBlockNumber,method,params){return fallback_provider_awaiter(this,void 0,void 0,(function*(){let provider=config.provider;switch(method){case"getBlockNumber":case"getGasPrice":return provider[method]();case"getEtherPrice":if(provider.getEtherPrice)return provider.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return params.blockTag&&(0,bytes_lib_esm.isHexString)(params.blockTag)&&(provider=yield waitForSync(config,currentBlockNumber)),provider[method](params.address,params.blockTag||"latest");case"getStorageAt":return params.blockTag&&(0,bytes_lib_esm.isHexString)(params.blockTag)&&(provider=yield waitForSync(config,currentBlockNumber)),provider.getStorageAt(params.address,params.position,params.blockTag||"latest");case"getBlock":return params.blockTag&&(0,bytes_lib_esm.isHexString)(params.blockTag)&&(provider=yield waitForSync(config,currentBlockNumber)),provider[params.includeTransactions?"getBlockWithTransactions":"getBlock"](params.blockTag||params.blockHash);case"call":case"estimateGas":return params.blockTag&&(0,bytes_lib_esm.isHexString)(params.blockTag)&&(provider=yield waitForSync(config,currentBlockNumber)),"call"===method&&params.blockTag?provider[method](params.transaction,params.blockTag):provider[method](params.transaction);case"getTransaction":case"getTransactionReceipt":return provider[method](params.transactionHash);case"getLogs":{let filter=params.filter;return(filter.fromBlock&&(0,bytes_lib_esm.isHexString)(filter.fromBlock)||filter.toBlock&&(0,bytes_lib_esm.isHexString)(filter.toBlock))&&(provider=yield waitForSync(config,currentBlockNumber)),provider.getLogs(filter)}}return fallback_provider_logger.throwError("unknown method error",logger_lib_esm.Logger.errors.UNKNOWN_ERROR,{method,params})}))}class FallbackProvider extends base_provider.Zk{constructor(providers,quorum){0===providers.length&&fallback_provider_logger.throwArgumentError("missing providers","providers",providers);const providerConfigs=providers.map(((configOrProvider,index)=>{if(lib_esm.zt.isProvider(configOrProvider)){const stallTimeout=(0,formatter.Gp)(configOrProvider)?2e3:750,priority=1;return Object.freeze({provider:configOrProvider,weight:1,stallTimeout,priority})}const config=(0,properties_lib_esm.shallowCopy)(configOrProvider);null==config.priority&&(config.priority=1),null==config.stallTimeout&&(config.stallTimeout=(0,formatter.Gp)(configOrProvider)?2e3:750),null==config.weight&&(config.weight=1);const weight=config.weight;return(weight%1||weight>512||weight<1)&&fallback_provider_logger.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${index}].weight`,weight),Object.freeze(config)})),total=providerConfigs.reduce(((accum,c)=>accum+c.weight),0);null==quorum?quorum=total/2:quorum>total&&fallback_provider_logger.throwArgumentError("quorum will always fail; larger than total weight","quorum",quorum);let networkOrReady=checkNetworks(providerConfigs.map((c=>c.provider.network)));null==networkOrReady&&(networkOrReady=new Promise(((resolve,reject)=>{setTimeout((()=>{this.detectNetwork().then(resolve,reject)}),0)}))),super(networkOrReady),(0,properties_lib_esm.defineReadOnly)(this,"providerConfigs",Object.freeze(providerConfigs)),(0,properties_lib_esm.defineReadOnly)(this,"quorum",quorum),this._highestBlockNumber=-1}detectNetwork(){return fallback_provider_awaiter(this,void 0,void 0,(function*(){return checkNetworks(yield Promise.all(this.providerConfigs.map((c=>c.provider.getNetwork()))))}))}perform(method,params){return fallback_provider_awaiter(this,void 0,void 0,(function*(){if("sendTransaction"===method){const results=yield Promise.all(this.providerConfigs.map((c=>c.provider.sendTransaction(params.signedTransaction).then((result=>result.hash),(error=>error)))));for(let i=0;i<results.length;i++){const result=results[i];if("string"==typeof result)return result}throw results[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==method&&(yield this.getBlockNumber());const processFunc=getProcessFunc(this,method,params),configs=(0,shuffle.y)(this.providerConfigs.map(properties_lib_esm.shallowCopy));configs.sort(((a,b)=>a.priority-b.priority));const currentBlockNumber=this._highestBlockNumber;let i=0,first=!0;for(;;){const t0=now();let inflightWeight=configs.filter((c=>c.runner&&t0-c.start<c.stallTimeout)).reduce(((accum,c)=>accum+c.weight),0);for(;inflightWeight<this.quorum&&i<configs.length;){const config=configs[i++],rid=nextRid++;config.start=now(),config.staller=stall(config.stallTimeout),config.staller.wait((()=>{config.staller=null})),config.runner=getRunner(config,currentBlockNumber,method,params).then((result=>{config.done=!0,config.result=result,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid,backend:exposeDebugConfig(config,now()),request:{method,params:(0,properties_lib_esm.deepCopy)(params)},provider:this})}),(error=>{config.done=!0,config.error=error,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid,backend:exposeDebugConfig(config,now()),request:{method,params:(0,properties_lib_esm.deepCopy)(params)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid,backend:exposeDebugConfig(config,null),request:{method,params:(0,properties_lib_esm.deepCopy)(params)},provider:this}),inflightWeight+=config.weight}const waiting=[];configs.forEach((c=>{!c.done&&c.runner&&(waiting.push(c.runner),c.staller&&waiting.push(c.staller.getPromise()))})),waiting.length&&(yield Promise.race(waiting));const results=configs.filter((c=>c.done&&null==c.error));if(results.length>=this.quorum){const result=processFunc(results);if(void 0!==result)return configs.forEach((c=>{c.staller&&c.staller.cancel(),c.cancelled=!0})),result;first||(yield stall(100).getPromise()),first=!1}const errors=configs.reduce(((accum,c)=>{if(!c.done||null==c.error)return accum;const code=c.error.code;return ForwardErrors.indexOf(code)>=0&&(accum[code]||(accum[code]={error:c.error,weight:0}),accum[code].weight+=c.weight),accum}),{});if(Object.keys(errors).forEach((errorCode=>{const tally=errors[errorCode];if(tally.weight<this.quorum)return;configs.forEach((c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}));const e=tally.error,props={};ForwardProperties.forEach((name=>{null!=e[name]&&(props[name]=e[name])})),fallback_provider_logger.throwError(e.reason||e.message,errorCode,props)})),0===configs.filter((c=>!c.done)).length)break}return configs.forEach((c=>{c.staller&&c.staller.cancel(),c.cancelled=!0})),fallback_provider_logger.throwError("failed to meet quorum",logger_lib_esm.Logger.errors.SERVER_ERROR,{method,params,results:configs.map((c=>exposeDebugConfig(c))),provider:this})}))}}const IpcProvider=null,infura_provider_logger=new logger_lib_esm.Logger(_version.i),defaultProjectId="84842078b09946638c03157f83405213";class InfuraWebSocketProvider extends WebSocketProvider{constructor(network,apiKey){const provider=new InfuraProvider(network,apiKey),connection=provider.connection;connection.password&&infura_provider_logger.throwError("INFURA WebSocket project secrets unsupported",logger_lib_esm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(connection.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),network),(0,properties_lib_esm.defineReadOnly)(this,"apiKey",provider.projectId),(0,properties_lib_esm.defineReadOnly)(this,"projectId",provider.projectId),(0,properties_lib_esm.defineReadOnly)(this,"projectSecret",provider.projectSecret)}isCommunityResource(){return this.projectId===defaultProjectId}}class InfuraProvider extends UrlJsonRpcProvider{static getWebSocketProvider(network,apiKey){return new InfuraWebSocketProvider(network,apiKey)}static getApiKey(apiKey){const apiKeyObj={apiKey:defaultProjectId,projectId:defaultProjectId,projectSecret:null};return null==apiKey||("string"==typeof apiKey?apiKeyObj.projectId=apiKey:null!=apiKey.projectSecret?(infura_provider_logger.assertArgument("string"==typeof apiKey.projectId,"projectSecret requires a projectId","projectId",apiKey.projectId),infura_provider_logger.assertArgument("string"==typeof apiKey.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),apiKeyObj.projectId=apiKey.projectId,apiKeyObj.projectSecret=apiKey.projectSecret):apiKey.projectId&&(apiKeyObj.projectId=apiKey.projectId),apiKeyObj.apiKey=apiKeyObj.projectId),apiKeyObj}static getUrl(network,apiKey){let host=null;switch(network?network.name:"unknown"){case"homestead":host="mainnet.infura.io";break;case"goerli":host="goerli.infura.io";break;case"sepolia":host="sepolia.infura.io";break;case"matic":host="polygon-mainnet.infura.io";break;case"maticmum":host="polygon-mumbai.infura.io";break;case"optimism":host="optimism-mainnet.infura.io";break;case"optimism-goerli":host="optimism-goerli.infura.io";break;case"arbitrum":host="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":host="arbitrum-goerli.infura.io";break;default:infura_provider_logger.throwError("unsupported network",logger_lib_esm.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:network})}const connection={allowGzip:!0,url:"https://"+host+"/v3/"+apiKey.projectId,throttleCallback:(attempt,url)=>(apiKey.projectId===defaultProjectId&&(0,formatter.vh)(),Promise.resolve(!0))};return null!=apiKey.projectSecret&&(connection.user="",connection.password=apiKey.projectSecret),connection}isCommunityResource(){return this.projectId===defaultProjectId}}class JsonRpcBatchProvider extends json_rpc_provider.r{send(method,params){const request={method,params,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const inflightRequest={request,resolve:null,reject:null},promise=new Promise(((resolve,reject)=>{inflightRequest.resolve=resolve,inflightRequest.reject=reject}));return this._pendingBatch.push(inflightRequest),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const batch=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const request=batch.map((inflight=>inflight.request));return this.emit("debug",{action:"requestBatch",request:(0,properties_lib_esm.deepCopy)(request),provider:this}),(0,web_lib_esm.fetchJson)(this.connection,JSON.stringify(request)).then((result=>{this.emit("debug",{action:"response",request,response:result,provider:this}),batch.forEach(((inflightRequest,index)=>{const payload=result[index];if(payload.error){const error=new Error(payload.error.message);error.code=payload.error.code,error.data=payload.error.data,inflightRequest.reject(error)}else inflightRequest.resolve(payload.result)}))}),(error=>{this.emit("debug",{action:"response",error,request,provider:this}),batch.forEach((inflightRequest=>{inflightRequest.reject(error)}))}))}),10)),promise}}const nodesmith_provider_logger=new logger_lib_esm.Logger(_version.i);class NodesmithProvider extends UrlJsonRpcProvider{static getApiKey(apiKey){return apiKey&&"string"!=typeof apiKey&&nodesmith_provider_logger.throwArgumentError("invalid apiKey","apiKey",apiKey),apiKey||"ETHERS_JS_SHARED"}static getUrl(network,apiKey){nodesmith_provider_logger.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let host=null;switch(network.name){case"homestead":host="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":host="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":host="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":host="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":host="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:nodesmith_provider_logger.throwArgumentError("unsupported network","network",arguments[0])}return host+"?apiKey="+apiKey}}const pocket_provider_logger=new logger_lib_esm.Logger(_version.i);class PocketProvider extends UrlJsonRpcProvider{static getApiKey(apiKey){const apiKeyObj={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==apiKey?apiKeyObj.applicationId="62e1ad51b37b8e00394bda3b":"string"==typeof apiKey?apiKeyObj.applicationId=apiKey:null!=apiKey.applicationSecretKey?(apiKeyObj.applicationId=apiKey.applicationId,apiKeyObj.applicationSecretKey=apiKey.applicationSecretKey):apiKey.applicationId?apiKeyObj.applicationId=apiKey.applicationId:pocket_provider_logger.throwArgumentError("unsupported PocketProvider apiKey","apiKey",apiKey),apiKeyObj}static getUrl(network,apiKey){let host=null;switch(network?network.name:"unknown"){case"goerli":host="eth-goerli.gateway.pokt.network";break;case"homestead":host="eth-mainnet.gateway.pokt.network";break;case"kovan":host="poa-kovan.gateway.pokt.network";break;case"matic":host="poly-mainnet.gateway.pokt.network";break;case"maticmum":host="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":host="eth-rinkeby.gateway.pokt.network";break;case"ropsten":host="eth-ropsten.gateway.pokt.network";break;default:pocket_provider_logger.throwError("unsupported network",logger_lib_esm.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:network})}const connection={headers:{},url:`https://${host}/v1/lb/${apiKey.applicationId}`};return null!=apiKey.applicationSecretKey&&(connection.user="",connection.password=apiKey.applicationSecretKey),connection}isCommunityResource(){return"62e1ad51b37b8e00394bda3b"===this.applicationId}}var web3_provider=__webpack_require__("./node_modules/@ethersproject/providers/lib.esm/web3-provider.js");const lib_esm_logger=new logger_lib_esm.Logger(_version.i);function getDefaultProvider(network,options){if(null==network&&(network="homestead"),"string"==typeof network){const match=network.match(/^(ws|http)s?:/i);if(match)switch(match[1].toLowerCase()){case"http":case"https":return new json_rpc_provider.r(network);case"ws":case"wss":return new WebSocketProvider(network);default:lib_esm_logger.throwArgumentError("unsupported URL scheme","network",network)}}const n=(0,networks_lib_esm.H)(network);return n&&n._defaultProvider||lib_esm_logger.throwError("unsupported getDefaultProvider network",logger_lib_esm.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network}),n._defaultProvider({FallbackProvider,AlchemyProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,JsonRpcProvider:json_rpc_provider.r,NodesmithProvider,PocketProvider,Web3Provider:web3_provider.Q,IpcProvider},options)}var wordlists=__webpack_require__("./node_modules/@ethersproject/wordlists/lib.esm/wordlists.js"),wordlist=__webpack_require__("./node_modules/@ethersproject/wordlists/lib.esm/wordlist.js"),abi_coder=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),fragments=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/fragments.js"),base64_lib_esm=__webpack_require__("./node_modules/@ethersproject/base64/lib.esm/index.js"),basex_lib_esm=__webpack_require__("./node_modules/@ethersproject/basex/lib.esm/index.js"),namehash=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/namehash.js"),message=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/message.js"),id=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/id.js"),typed_data=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/typed-data.js"),hdnode_lib_esm=__webpack_require__("./node_modules/@ethersproject/hdnode/lib.esm/index.js"),inspect=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/inspect.js"),keccak256_lib_esm=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js"),sha2=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/sha2.js"),solidity_lib_esm=__webpack_require__("./node_modules/@ethersproject/solidity/lib.esm/index.js"),random=__webpack_require__("./node_modules/@ethersproject/random/lib.esm/random.js"),rlp_lib_esm=__webpack_require__("./node_modules/@ethersproject/rlp/lib.esm/index.js"),signing_key_lib_esm=__webpack_require__("./node_modules/@ethersproject/signing-key/lib.esm/index.js"),idna=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/idna.js"),utf8=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/utf8.js"),bytes32=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/bytes32.js"),units_lib_esm=__webpack_require__("./node_modules/@ethersproject/units/lib.esm/index.js"),types=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/types.js");const _version_version="ethers/5.7.2",ethers_logger=new logger_lib_esm.Logger(_version_version)},"./node_modules/ethers/lib/utils.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatBytes32String=exports.Utf8ErrorFuncs=exports.toUtf8String=exports.toUtf8CodePoints=exports.toUtf8Bytes=exports._toEscapedUtf8String=exports.nameprep=exports.hexDataSlice=exports.hexDataLength=exports.hexZeroPad=exports.hexValue=exports.hexStripZeros=exports.hexConcat=exports.isHexString=exports.hexlify=exports.base64=exports.base58=exports.TransactionDescription=exports.LogDescription=exports.Interface=exports.SigningKey=exports.HDNode=exports.defaultPath=exports.isBytesLike=exports.isBytes=exports.zeroPad=exports.stripZeros=exports.concat=exports.arrayify=exports.shallowCopy=exports.resolveProperties=exports.getStatic=exports.defineReadOnly=exports.deepCopy=exports.checkProperties=exports.poll=exports.fetchJson=exports._fetchData=exports.RLP=exports.Logger=exports.checkResultErrors=exports.FormatTypes=exports.ParamType=exports.FunctionFragment=exports.EventFragment=exports.ErrorFragment=exports.ConstructorFragment=exports.Fragment=exports.defaultAbiCoder=exports.AbiCoder=void 0,exports.Indexed=exports.Utf8ErrorReason=exports.UnicodeNormalizationForm=exports.SupportedAlgorithm=exports.mnemonicToSeed=exports.isValidMnemonic=exports.entropyToMnemonic=exports.mnemonicToEntropy=exports.getAccountPath=exports.verifyTypedData=exports.verifyMessage=exports.recoverPublicKey=exports.computePublicKey=exports.recoverAddress=exports.computeAddress=exports.getJsonWalletAddress=exports.TransactionTypes=exports.serializeTransaction=exports.parseTransaction=exports.accessListify=exports.joinSignature=exports.splitSignature=exports.soliditySha256=exports.solidityKeccak256=exports.solidityPack=exports.shuffled=exports.randomBytes=exports.sha512=exports.sha256=exports.ripemd160=exports.keccak256=exports.computeHmac=exports.commify=exports.parseUnits=exports.formatUnits=exports.parseEther=exports.formatEther=exports.isAddress=exports.getCreate2Address=exports.getContractAddress=exports.getIcapAddress=exports.getAddress=exports._TypedDataEncoder=exports.id=exports.isValidName=exports.namehash=exports.hashMessage=exports.dnsEncode=exports.parseBytes32String=void 0;var abi_1=__webpack_require__("./node_modules/@ethersproject/abi/lib.esm/index.js");Object.defineProperty(exports,"AbiCoder",{enumerable:!0,get:function(){return abi_1.AbiCoder}}),Object.defineProperty(exports,"checkResultErrors",{enumerable:!0,get:function(){return abi_1.checkResultErrors}}),Object.defineProperty(exports,"ConstructorFragment",{enumerable:!0,get:function(){return abi_1.ConstructorFragment}}),Object.defineProperty(exports,"defaultAbiCoder",{enumerable:!0,get:function(){return abi_1.defaultAbiCoder}}),Object.defineProperty(exports,"ErrorFragment",{enumerable:!0,get:function(){return abi_1.ErrorFragment}}),Object.defineProperty(exports,"EventFragment",{enumerable:!0,get:function(){return abi_1.EventFragment}}),Object.defineProperty(exports,"FormatTypes",{enumerable:!0,get:function(){return abi_1.FormatTypes}}),Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return abi_1.Fragment}}),Object.defineProperty(exports,"FunctionFragment",{enumerable:!0,get:function(){return abi_1.FunctionFragment}}),Object.defineProperty(exports,"Indexed",{enumerable:!0,get:function(){return abi_1.Indexed}}),Object.defineProperty(exports,"Interface",{enumerable:!0,get:function(){return abi_1.Interface}}),Object.defineProperty(exports,"LogDescription",{enumerable:!0,get:function(){return abi_1.LogDescription}}),Object.defineProperty(exports,"ParamType",{enumerable:!0,get:function(){return abi_1.ParamType}}),Object.defineProperty(exports,"TransactionDescription",{enumerable:!0,get:function(){return abi_1.TransactionDescription}});var address_1=__webpack_require__("./node_modules/@ethersproject/address/lib.esm/index.js");Object.defineProperty(exports,"getAddress",{enumerable:!0,get:function(){return address_1.getAddress}}),Object.defineProperty(exports,"getCreate2Address",{enumerable:!0,get:function(){return address_1.getCreate2Address}}),Object.defineProperty(exports,"getContractAddress",{enumerable:!0,get:function(){return address_1.getContractAddress}}),Object.defineProperty(exports,"getIcapAddress",{enumerable:!0,get:function(){return address_1.getIcapAddress}}),Object.defineProperty(exports,"isAddress",{enumerable:!0,get:function(){return address_1.isAddress}});var base64=__importStar(__webpack_require__("./node_modules/@ethersproject/base64/lib.esm/index.js"));exports.base64=base64;var basex_1=__webpack_require__("./node_modules/@ethersproject/basex/lib.esm/index.js");Object.defineProperty(exports,"base58",{enumerable:!0,get:function(){return basex_1.Base58}});var bytes_1=__webpack_require__("./node_modules/@ethersproject/bytes/lib.esm/index.js");Object.defineProperty(exports,"arrayify",{enumerable:!0,get:function(){return bytes_1.arrayify}}),Object.defineProperty(exports,"concat",{enumerable:!0,get:function(){return bytes_1.concat}}),Object.defineProperty(exports,"hexConcat",{enumerable:!0,get:function(){return bytes_1.hexConcat}}),Object.defineProperty(exports,"hexDataSlice",{enumerable:!0,get:function(){return bytes_1.hexDataSlice}}),Object.defineProperty(exports,"hexDataLength",{enumerable:!0,get:function(){return bytes_1.hexDataLength}}),Object.defineProperty(exports,"hexlify",{enumerable:!0,get:function(){return bytes_1.hexlify}}),Object.defineProperty(exports,"hexStripZeros",{enumerable:!0,get:function(){return bytes_1.hexStripZeros}}),Object.defineProperty(exports,"hexValue",{enumerable:!0,get:function(){return bytes_1.hexValue}}),Object.defineProperty(exports,"hexZeroPad",{enumerable:!0,get:function(){return bytes_1.hexZeroPad}}),Object.defineProperty(exports,"isBytes",{enumerable:!0,get:function(){return bytes_1.isBytes}}),Object.defineProperty(exports,"isBytesLike",{enumerable:!0,get:function(){return bytes_1.isBytesLike}}),Object.defineProperty(exports,"isHexString",{enumerable:!0,get:function(){return bytes_1.isHexString}}),Object.defineProperty(exports,"joinSignature",{enumerable:!0,get:function(){return bytes_1.joinSignature}}),Object.defineProperty(exports,"zeroPad",{enumerable:!0,get:function(){return bytes_1.zeroPad}}),Object.defineProperty(exports,"splitSignature",{enumerable:!0,get:function(){return bytes_1.splitSignature}}),Object.defineProperty(exports,"stripZeros",{enumerable:!0,get:function(){return bytes_1.stripZeros}});var hash_1=__webpack_require__("./node_modules/@ethersproject/hash/lib.esm/index.js");Object.defineProperty(exports,"_TypedDataEncoder",{enumerable:!0,get:function(){return hash_1._TypedDataEncoder}}),Object.defineProperty(exports,"dnsEncode",{enumerable:!0,get:function(){return hash_1.dnsEncode}}),Object.defineProperty(exports,"hashMessage",{enumerable:!0,get:function(){return hash_1.hashMessage}}),Object.defineProperty(exports,"id",{enumerable:!0,get:function(){return hash_1.id}}),Object.defineProperty(exports,"isValidName",{enumerable:!0,get:function(){return hash_1.isValidName}}),Object.defineProperty(exports,"namehash",{enumerable:!0,get:function(){return hash_1.namehash}});var hdnode_1=__webpack_require__("./node_modules/@ethersproject/hdnode/lib.esm/index.js");Object.defineProperty(exports,"defaultPath",{enumerable:!0,get:function(){return hdnode_1.defaultPath}}),Object.defineProperty(exports,"entropyToMnemonic",{enumerable:!0,get:function(){return hdnode_1.entropyToMnemonic}}),Object.defineProperty(exports,"getAccountPath",{enumerable:!0,get:function(){return hdnode_1.getAccountPath}}),Object.defineProperty(exports,"HDNode",{enumerable:!0,get:function(){return hdnode_1.HDNode}}),Object.defineProperty(exports,"isValidMnemonic",{enumerable:!0,get:function(){return hdnode_1.isValidMnemonic}}),Object.defineProperty(exports,"mnemonicToEntropy",{enumerable:!0,get:function(){return hdnode_1.mnemonicToEntropy}}),Object.defineProperty(exports,"mnemonicToSeed",{enumerable:!0,get:function(){return hdnode_1.mnemonicToSeed}});var json_wallets_1=__webpack_require__("./node_modules/@ethersproject/json-wallets/lib.esm/index.js");Object.defineProperty(exports,"getJsonWalletAddress",{enumerable:!0,get:function(){return json_wallets_1.getJsonWalletAddress}});var keccak256_1=__webpack_require__("./node_modules/@ethersproject/keccak256/lib.esm/index.js");Object.defineProperty(exports,"keccak256",{enumerable:!0,get:function(){return keccak256_1.keccak256}});var logger_1=__webpack_require__("./node_modules/@ethersproject/logger/lib.esm/index.js");Object.defineProperty(exports,"Logger",{enumerable:!0,get:function(){return logger_1.Logger}});var sha2_1=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/index.js");Object.defineProperty(exports,"computeHmac",{enumerable:!0,get:function(){return sha2_1.computeHmac}}),Object.defineProperty(exports,"ripemd160",{enumerable:!0,get:function(){return sha2_1.ripemd160}}),Object.defineProperty(exports,"sha256",{enumerable:!0,get:function(){return sha2_1.sha256}}),Object.defineProperty(exports,"sha512",{enumerable:!0,get:function(){return sha2_1.sha512}});var solidity_1=__webpack_require__("./node_modules/@ethersproject/solidity/lib.esm/index.js");Object.defineProperty(exports,"solidityKeccak256",{enumerable:!0,get:function(){return solidity_1.keccak256}}),Object.defineProperty(exports,"solidityPack",{enumerable:!0,get:function(){return solidity_1.pack}}),Object.defineProperty(exports,"soliditySha256",{enumerable:!0,get:function(){return solidity_1.sha256}});var random_1=__webpack_require__("./node_modules/@ethersproject/random/lib.esm/index.js");Object.defineProperty(exports,"randomBytes",{enumerable:!0,get:function(){return random_1.randomBytes}}),Object.defineProperty(exports,"shuffled",{enumerable:!0,get:function(){return random_1.shuffled}});var properties_1=__webpack_require__("./node_modules/@ethersproject/properties/lib.esm/index.js");Object.defineProperty(exports,"checkProperties",{enumerable:!0,get:function(){return properties_1.checkProperties}}),Object.defineProperty(exports,"deepCopy",{enumerable:!0,get:function(){return properties_1.deepCopy}}),Object.defineProperty(exports,"defineReadOnly",{enumerable:!0,get:function(){return properties_1.defineReadOnly}}),Object.defineProperty(exports,"getStatic",{enumerable:!0,get:function(){return properties_1.getStatic}}),Object.defineProperty(exports,"resolveProperties",{enumerable:!0,get:function(){return properties_1.resolveProperties}}),Object.defineProperty(exports,"shallowCopy",{enumerable:!0,get:function(){return properties_1.shallowCopy}});var RLP=__importStar(__webpack_require__("./node_modules/@ethersproject/rlp/lib.esm/index.js"));exports.RLP=RLP;var signing_key_1=__webpack_require__("./node_modules/@ethersproject/signing-key/lib.esm/index.js");Object.defineProperty(exports,"computePublicKey",{enumerable:!0,get:function(){return signing_key_1.computePublicKey}}),Object.defineProperty(exports,"recoverPublicKey",{enumerable:!0,get:function(){return signing_key_1.recoverPublicKey}}),Object.defineProperty(exports,"SigningKey",{enumerable:!0,get:function(){return signing_key_1.SigningKey}});var strings_1=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/index.js");Object.defineProperty(exports,"formatBytes32String",{enumerable:!0,get:function(){return strings_1.formatBytes32String}}),Object.defineProperty(exports,"nameprep",{enumerable:!0,get:function(){return strings_1.nameprep}}),Object.defineProperty(exports,"parseBytes32String",{enumerable:!0,get:function(){return strings_1.parseBytes32String}}),Object.defineProperty(exports,"_toEscapedUtf8String",{enumerable:!0,get:function(){return strings_1._toEscapedUtf8String}}),Object.defineProperty(exports,"toUtf8Bytes",{enumerable:!0,get:function(){return strings_1.toUtf8Bytes}}),Object.defineProperty(exports,"toUtf8CodePoints",{enumerable:!0,get:function(){return strings_1.toUtf8CodePoints}}),Object.defineProperty(exports,"toUtf8String",{enumerable:!0,get:function(){return strings_1.toUtf8String}}),Object.defineProperty(exports,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return strings_1.Utf8ErrorFuncs}});var transactions_1=__webpack_require__("./node_modules/@ethersproject/transactions/lib.esm/index.js");Object.defineProperty(exports,"accessListify",{enumerable:!0,get:function(){return transactions_1.accessListify}}),Object.defineProperty(exports,"computeAddress",{enumerable:!0,get:function(){return transactions_1.computeAddress}}),Object.defineProperty(exports,"parseTransaction",{enumerable:!0,get:function(){return transactions_1.parse}}),Object.defineProperty(exports,"recoverAddress",{enumerable:!0,get:function(){return transactions_1.recoverAddress}}),Object.defineProperty(exports,"serializeTransaction",{enumerable:!0,get:function(){return transactions_1.serialize}}),Object.defineProperty(exports,"TransactionTypes",{enumerable:!0,get:function(){return transactions_1.TransactionTypes}});var units_1=__webpack_require__("./node_modules/@ethersproject/units/lib.esm/index.js");Object.defineProperty(exports,"commify",{enumerable:!0,get:function(){return units_1.commify}}),Object.defineProperty(exports,"formatEther",{enumerable:!0,get:function(){return units_1.formatEther}}),Object.defineProperty(exports,"parseEther",{enumerable:!0,get:function(){return units_1.parseEther}}),Object.defineProperty(exports,"formatUnits",{enumerable:!0,get:function(){return units_1.formatUnits}}),Object.defineProperty(exports,"parseUnits",{enumerable:!0,get:function(){return units_1.parseUnits}});var wallet_1=__webpack_require__("./node_modules/@ethersproject/wallet/lib.esm/index.js");Object.defineProperty(exports,"verifyMessage",{enumerable:!0,get:function(){return wallet_1.verifyMessage}}),Object.defineProperty(exports,"verifyTypedData",{enumerable:!0,get:function(){return wallet_1.verifyTypedData}});var web_1=__webpack_require__("./node_modules/@ethersproject/web/lib.esm/index.js");Object.defineProperty(exports,"_fetchData",{enumerable:!0,get:function(){return web_1._fetchData}}),Object.defineProperty(exports,"fetchJson",{enumerable:!0,get:function(){return web_1.fetchJson}}),Object.defineProperty(exports,"poll",{enumerable:!0,get:function(){return web_1.poll}});var sha2_2=__webpack_require__("./node_modules/@ethersproject/sha2/lib.esm/index.js");Object.defineProperty(exports,"SupportedAlgorithm",{enumerable:!0,get:function(){return sha2_2.SupportedAlgorithm}});var strings_2=__webpack_require__("./node_modules/@ethersproject/strings/lib.esm/index.js");Object.defineProperty(exports,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return strings_2.UnicodeNormalizationForm}}),Object.defineProperty(exports,"Utf8ErrorReason",{enumerable:!0,get:function(){return strings_2.Utf8ErrorReason}})},"./node_modules/isomorphic-unfetch/browser.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=self.fetch||(self.fetch=__webpack_require__("./node_modules/unfetch/dist/unfetch.module.js").default||__webpack_require__("./node_modules/unfetch/dist/unfetch.module.js"))},"./node_modules/lodash-es/debounce.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_debounce});var isObject=__webpack_require__("./node_modules/lodash-es/isObject.js"),_root=__webpack_require__("./node_modules/lodash-es/_root.js");const lodash_es_now=function(){return _root.Z.Date.now()};var reWhitespace=/\s/;const _trimmedEndIndex=function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index};var reTrimStart=/^\s+/;const _baseTrim=function baseTrim(string){return string?string.slice(0,_trimmedEndIndex(string)+1).replace(reTrimStart,""):string};var isSymbol=__webpack_require__("./node_modules/lodash-es/isSymbol.js"),reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;const lodash_es_toNumber=function toNumber(value){if("number"==typeof value)return value;if((0,isSymbol.Z)(value))return NaN;if((0,isObject.Z)(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=(0,isObject.Z)(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=_baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value};var nativeMax=Math.max,nativeMin=Math.min;const lodash_es_debounce=function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=lodash_es_now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=lodash_es_now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=lodash_es_toNumber(wait)||0,(0,isObject.Z)(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(lodash_es_toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(lodash_es_now())},debounced}},"./node_modules/lodash-es/throttle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _debounce_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/debounce.js"),_isObject_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/isObject.js");const __WEBPACK_DEFAULT_EXPORT__=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");return(0,_isObject_js__WEBPACK_IMPORTED_MODULE_0__.Z)(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),(0,_debounce_js__WEBPACK_IMPORTED_MODULE_1__.Z)(func,wait,{leading,maxWait:wait,trailing})}},"./node_modules/lodash.isequal/index.js":(module,exports,__webpack_require__)=>{module=__webpack_require__.nmd(module);var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags["[object WeakMap]"]=!1;var freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,symToStringTag=Symbol?Symbol.toStringTag:void 0,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=function overArg(func,transform){return function(arg){return func(transform(arg))}}(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}(value):function objectToString(value){return nativeObjectToString.call(value)}(value)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag)return!1;return stack||(stack=new Stack),function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;var index=objLength;for(;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);var skipCtor=isPartial;for(;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack)}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseKeys(object){if(!function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(key=othIndex,!seen.has(key)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex);var key}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function getAllKeys(object){return function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}(result,symbolsFunc(object))}(object,keys,getSymbols)}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function setCacheHas(value){return this.__data__.has(value)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:function stubArray(){return[]},getTag=baseGetTag;function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!=value&&other!=other}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return"[object WeakMap]"}return result});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray;var isBuffer=nativeIsBuffer||function stubFalse(){return!1};function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isTypedArray=nodeIsTypedArray?function baseUnary(func){return function(value){return func(value)}}(nodeIsTypedArray):function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};function keys(object){return function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}(object)?arrayLikeKeys(object):baseKeys(object)}module.exports=function isEqual(value,other){return baseIsEqual(value,other)}},"./node_modules/pino/browser.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const format=__webpack_require__("./node_modules/quick-format-unescaped/index.js");module.exports=pino;const _console=function pfGlobalThisOrFallback(){function defd(o){return void 0!==o&&o}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return defd(self)||defd(window)||defd(this)||{}}}().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:function asErrValue(err){const obj={type:err.constructor.name,msg:err.message,stack:err.stack};for(const key in err)void 0===obj[key]&&(obj[key]=err[key]);return obj}};function pino(opts){(opts=opts||{}).browser=opts.browser||{};const transmit=opts.browser.transmit;if(transmit&&"function"!=typeof transmit.send)throw Error("pino: transmit option must have a send function");const proto=opts.browser.write||_console;opts.browser.write&&(opts.browser.asObject=!0);const serializers=opts.serializers||{},serialize=function shouldSerialize(serialize,serializers){if(Array.isArray(serialize))return serialize.filter((function(k){return"!stdSerializers.err"!==k}));return!0===serialize&&Object.keys(serializers)}(opts.browser.serialize,serializers);let stdErrSerialize=opts.browser.serialize;Array.isArray(opts.browser.serialize)&&opts.browser.serialize.indexOf("!stdSerializers.err")>-1&&(stdErrSerialize=!1);"function"==typeof proto&&(proto.error=proto.fatal=proto.warn=proto.info=proto.debug=proto.trace=proto),!1===opts.enabled&&(opts.level="silent");const level=opts.level||"info",logger=Object.create(proto);logger.log||(logger.log=noop),Object.defineProperty(logger,"levelVal",{get:function getLevelVal(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(logger,"level",{get:function getLevel(){return this._level},set:function setLevel(level){if("silent"!==level&&!this.levels.values[level])throw Error("unknown level "+level);this._level=level,set(setOpts,logger,"error","log"),set(setOpts,logger,"fatal","error"),set(setOpts,logger,"warn","error"),set(setOpts,logger,"info","log"),set(setOpts,logger,"debug","log"),set(setOpts,logger,"trace","log")}});const setOpts={transmit,serialize,asObject:opts.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:getTimeFunction(opts)};return logger.levels=pino.levels,logger.level=level,logger.setMaxListeners=logger.getMaxListeners=logger.emit=logger.addListener=logger.on=logger.prependListener=logger.once=logger.prependOnceListener=logger.removeListener=logger.removeAllListeners=logger.listeners=logger.listenerCount=logger.eventNames=logger.write=logger.flush=noop,logger.serializers=serializers,logger._serialize=serialize,logger._stdErrSerialize=stdErrSerialize,logger.child=function child(bindings,childOptions){if(!bindings)throw new Error("missing bindings for child Pino");childOptions=childOptions||{},serialize&&bindings.serializers&&(childOptions.serializers=bindings.serializers);const childOptionsSerializers=childOptions.serializers;if(serialize&&childOptionsSerializers){var childSerializers=Object.assign({},serializers,childOptionsSerializers),childSerialize=!0===opts.browser.serialize?Object.keys(childSerializers):serialize;delete bindings.serializers,applySerializers([bindings],childSerialize,childSerializers,this._stdErrSerialize)}function Child(parent){this._childLevel=1+(0|parent._childLevel),this.error=bind(parent,bindings,"error"),this.fatal=bind(parent,bindings,"fatal"),this.warn=bind(parent,bindings,"warn"),this.info=bind(parent,bindings,"info"),this.debug=bind(parent,bindings,"debug"),this.trace=bind(parent,bindings,"trace"),childSerializers&&(this.serializers=childSerializers,this._serialize=childSerialize),transmit&&(this._logEvent=createLogEventShape([].concat(parent._logEvent.bindings,bindings)))}return Child.prototype=this,new Child(this)},transmit&&(logger._logEvent=createLogEventShape()),logger}function set(opts,logger,level,fallback){const proto=Object.getPrototypeOf(logger);logger[level]=logger.levelVal>logger.levels.values[level]?noop:proto[level]?proto[level]:_console[level]||_console[fallback]||noop,function wrap(opts,logger,level){if(!opts.transmit&&logger[level]===noop)return;logger[level]=(write=logger[level],function LOG(){const ts=opts.timestamp(),args=new Array(arguments.length),proto=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var i=0;i<args.length;i++)args[i]=arguments[i];if(opts.serialize&&!opts.asObject&&applySerializers(args,this._serialize,this.serializers,this._stdErrSerialize),opts.asObject?write.call(proto,function asObject(logger,level,args,ts){logger._serialize&&applySerializers(args,logger._serialize,logger.serializers,logger._stdErrSerialize);const argsCloned=args.slice();let msg=argsCloned[0];const o={};ts&&(o.time=ts),o.level=pino.levels.values[level];let lvl=1+(0|logger._childLevel);if(lvl<1&&(lvl=1),null!==msg&&"object"==typeof msg){for(;lvl--&&"object"==typeof argsCloned[0];)Object.assign(o,argsCloned.shift());msg=argsCloned.length?format(argsCloned.shift(),argsCloned):void 0}else"string"==typeof msg&&(msg=format(argsCloned.shift(),argsCloned));return void 0!==msg&&(o.msg=msg),o}(this,level,args,ts)):write.apply(proto,args),opts.transmit){const transmitLevel=opts.transmit.level||logger.level,transmitValue=pino.levels.values[transmitLevel],methodValue=pino.levels.values[level];if(methodValue<transmitValue)return;!function transmit(logger,opts,args){const send=opts.send,ts=opts.ts,methodLevel=opts.methodLevel,methodValue=opts.methodValue,val=opts.val,bindings=logger._logEvent.bindings;applySerializers(args,logger._serialize||Object.keys(logger.serializers),logger.serializers,void 0===logger._stdErrSerialize||logger._stdErrSerialize),logger._logEvent.ts=ts,logger._logEvent.messages=args.filter((function(arg){return-1===bindings.indexOf(arg)})),logger._logEvent.level.label=methodLevel,logger._logEvent.level.value=methodValue,send(methodLevel,logger._logEvent,val),logger._logEvent=createLogEventShape(bindings)}(this,{ts,methodLevel:level,methodValue,transmitLevel,transmitValue:pino.levels.values[opts.transmit.level||logger.level],send:opts.transmit.send,val:logger.levelVal},args)}});var write}(opts,logger,level)}function applySerializers(args,serialize,serializers,stdErrSerialize){for(const i in args)if(stdErrSerialize&&args[i]instanceof Error)args[i]=pino.stdSerializers.err(args[i]);else if("object"==typeof args[i]&&!Array.isArray(args[i]))for(const k in args[i])serialize&&serialize.indexOf(k)>-1&&k in serializers&&(args[i][k]=serializers[k](args[i][k]))}function bind(parent,bindings,level){return function(){const args=new Array(1+arguments.length);args[0]=bindings;for(var i=1;i<args.length;i++)args[i]=arguments[i-1];return parent[level].apply(this,args)}}function createLogEventShape(bindings){return{ts:0,messages:[],bindings:bindings||[],level:{label:"",value:0}}}function getTimeFunction(opts){return"function"==typeof opts.timestamp?opts.timestamp:!1===opts.timestamp?nullTime:epochTime}function mock(){return{}}function passthrough(a){return a}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},pino.stdSerializers=stdSerializers,pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime:function unixTime(){return Math.round(Date.now()/1e3)},isoTime:function isoTime(){return new Date(Date.now()).toISOString()}})},"./node_modules/quick-format-unescaped/index.js":module=>{"use strict";function tryStringify(o){try{return JSON.stringify(o)}catch(e){return'"[Circular]"'}}module.exports=function format(f,args,opts){var ss=opts&&opts.stringify||tryStringify;if("object"==typeof f&&null!==f){var len=args.length+1;if(1===len)return f;var objects=new Array(len);objects[0]=ss(f);for(var index=1;index<len;index++)objects[index]=ss(args[index]);return objects.join(" ")}if("string"!=typeof f)return f;var argLen=args.length;if(0===argLen)return f;for(var str="",a=0,lastPos=-1,flen=f&&f.length||0,i=0;i<flen;){if(37===f.charCodeAt(i)&&i+1<flen){switch(lastPos=lastPos>-1?lastPos:0,f.charCodeAt(i+1)){case 100:case 102:if(a>=argLen)break;if(null==args[a])break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=Number(args[a]),lastPos=i+2,i++;break;case 105:if(a>=argLen)break;if(null==args[a])break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=Math.floor(Number(args[a])),lastPos=i+2,i++;break;case 79:case 111:case 106:if(a>=argLen)break;if(void 0===args[a])break;lastPos<i&&(str+=f.slice(lastPos,i));var type=typeof args[a];if("string"===type){str+="'"+args[a]+"'",lastPos=i+2,i++;break}if("function"===type){str+=args[a].name||"<anonymous>",lastPos=i+2,i++;break}str+=ss(args[a]),lastPos=i+2,i++;break;case 115:if(a>=argLen)break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=String(args[a]),lastPos=i+2,i++;break;case 37:lastPos<i&&(str+=f.slice(lastPos,i)),str+="%",lastPos=i+2,i++,a--}++a}++i}if(-1===lastPos)return f;lastPos<flen&&(str+=f.slice(lastPos));return str}},"./node_modules/scrypt-js/scrypt.js":function(module){"use strict";!function(root){function SHA256(m){const K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let h0=1779033703,h1=3144134277,h2=1013904242,h3=2773480762,h4=1359893119,h5=2600822924,h6=528734635,h7=1541459225;const w=new Uint32Array(64);function blocks(p){let off=0,len=p.length;for(;len>=64;){let u,i,j,t1,t2,a=h0,b=h1,c=h2,d=h3,e=h4,f=h5,g=h6,h=h7;for(i=0;i<16;i++)j=off+4*i,w[i]=(255&p[j])<<24|(255&p[j+1])<<16|(255&p[j+2])<<8|255&p[j+3];for(i=16;i<64;i++)u=w[i-2],t1=(u>>>17|u<<15)^(u>>>19|u<<13)^u>>>10,u=w[i-15],t2=(u>>>7|u<<25)^(u>>>18|u<<14)^u>>>3,w[i]=(t1+w[i-7]|0)+(t2+w[i-16]|0)|0;for(i=0;i<64;i++)t1=(((e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7))+(e&f^~e&g)|0)+(h+(K[i]+w[i]|0)|0)|0,t2=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&b^a&c^b&c)|0,h=g,g=f,f=e,e=d+t1|0,d=c,c=b,b=a,a=t1+t2|0;h0=h0+a|0,h1=h1+b|0,h2=h2+c|0,h3=h3+d|0,h4=h4+e|0,h5=h5+f|0,h6=h6+g|0,h7=h7+h|0,off+=64,len-=64}}blocks(m);let i,bytesLeft=m.length%64,bitLenHi=m.length/536870912|0,bitLenLo=m.length<<3,numZeros=bytesLeft<56?56:120,p=m.slice(m.length-bytesLeft,m.length);for(p.push(128),i=bytesLeft+1;i<numZeros;i++)p.push(0);return p.push(bitLenHi>>>24&255),p.push(bitLenHi>>>16&255),p.push(bitLenHi>>>8&255),p.push(bitLenHi>>>0&255),p.push(bitLenLo>>>24&255),p.push(bitLenLo>>>16&255),p.push(bitLenLo>>>8&255),p.push(bitLenLo>>>0&255),blocks(p),[h0>>>24&255,h0>>>16&255,h0>>>8&255,h0>>>0&255,h1>>>24&255,h1>>>16&255,h1>>>8&255,h1>>>0&255,h2>>>24&255,h2>>>16&255,h2>>>8&255,h2>>>0&255,h3>>>24&255,h3>>>16&255,h3>>>8&255,h3>>>0&255,h4>>>24&255,h4>>>16&255,h4>>>8&255,h4>>>0&255,h5>>>24&255,h5>>>16&255,h5>>>8&255,h5>>>0&255,h6>>>24&255,h6>>>16&255,h6>>>8&255,h6>>>0&255,h7>>>24&255,h7>>>16&255,h7>>>8&255,h7>>>0&255]}function PBKDF2_HMAC_SHA256_OneIter(password,salt,dkLen){password=password.length<=64?password:SHA256(password);const innerLen=64+salt.length+4,inner=new Array(innerLen),outerKey=new Array(64);let i,dk=[];for(i=0;i<64;i++)inner[i]=54;for(i=0;i<password.length;i++)inner[i]^=password[i];for(i=0;i<salt.length;i++)inner[64+i]=salt[i];for(i=innerLen-4;i<innerLen;i++)inner[i]=0;for(i=0;i<64;i++)outerKey[i]=92;for(i=0;i<password.length;i++)outerKey[i]^=password[i];function incrementCounter(){for(let i=innerLen-1;i>=innerLen-4;i--){if(inner[i]++,inner[i]<=255)return;inner[i]=0}}for(;dkLen>=32;)incrementCounter(),dk=dk.concat(SHA256(outerKey.concat(SHA256(inner)))),dkLen-=32;return dkLen>0&&(incrementCounter(),dk=dk.concat(SHA256(outerKey.concat(SHA256(inner))).slice(0,dkLen))),dk}function blockmix_salsa8(BY,Yi,r,x,_X){let i;for(arraycopy(BY,16*(2*r-1),_X,0,16),i=0;i<2*r;i++)blockxor(BY,16*i,_X,16),salsa20_8(_X,x),arraycopy(_X,0,BY,Yi+16*i,16);for(i=0;i<r;i++)arraycopy(BY,Yi+2*i*16,BY,16*i,16);for(i=0;i<r;i++)arraycopy(BY,Yi+16*(2*i+1),BY,16*(i+r),16)}function R(a,b){return a<<b|a>>>32-b}function salsa20_8(B,x){arraycopy(B,0,x,0,16);for(let i=8;i>0;i-=2)x[4]^=R(x[0]+x[12],7),x[8]^=R(x[4]+x[0],9),x[12]^=R(x[8]+x[4],13),x[0]^=R(x[12]+x[8],18),x[9]^=R(x[5]+x[1],7),x[13]^=R(x[9]+x[5],9),x[1]^=R(x[13]+x[9],13),x[5]^=R(x[1]+x[13],18),x[14]^=R(x[10]+x[6],7),x[2]^=R(x[14]+x[10],9),x[6]^=R(x[2]+x[14],13),x[10]^=R(x[6]+x[2],18),x[3]^=R(x[15]+x[11],7),x[7]^=R(x[3]+x[15],9),x[11]^=R(x[7]+x[3],13),x[15]^=R(x[11]+x[7],18),x[1]^=R(x[0]+x[3],7),x[2]^=R(x[1]+x[0],9),x[3]^=R(x[2]+x[1],13),x[0]^=R(x[3]+x[2],18),x[6]^=R(x[5]+x[4],7),x[7]^=R(x[6]+x[5],9),x[4]^=R(x[7]+x[6],13),x[5]^=R(x[4]+x[7],18),x[11]^=R(x[10]+x[9],7),x[8]^=R(x[11]+x[10],9),x[9]^=R(x[8]+x[11],13),x[10]^=R(x[9]+x[8],18),x[12]^=R(x[15]+x[14],7),x[13]^=R(x[12]+x[15],9),x[14]^=R(x[13]+x[12],13),x[15]^=R(x[14]+x[13],18);for(let i=0;i<16;++i)B[i]+=x[i]}function blockxor(S,Si,D,len){for(let i=0;i<len;i++)D[i]^=S[Si+i]}function arraycopy(src,srcPos,dest,destPos,length){for(;length--;)dest[destPos++]=src[srcPos++]}function checkBufferish(o){if(!o||"number"!=typeof o.length)return!1;for(let i=0;i<o.length;i++){const v=o[i];if("number"!=typeof v||v%1||v<0||v>=256)return!1}return!0}function ensureInteger(value,name){if("number"!=typeof value||value%1)throw new Error("invalid "+name);return value}function _scrypt(password,salt,N,r,p,dkLen,callback){if(N=ensureInteger(N,"N"),r=ensureInteger(r,"r"),p=ensureInteger(p,"p"),dkLen=ensureInteger(dkLen,"dkLen"),0===N||0!=(N&N-1))throw new Error("N must be power of 2");if(N>2147483647/128/r)throw new Error("N too large");if(r>2147483647/128/p)throw new Error("r too large");if(!checkBufferish(password))throw new Error("password must be an array or buffer");if(password=Array.prototype.slice.call(password),!checkBufferish(salt))throw new Error("salt must be an array or buffer");salt=Array.prototype.slice.call(salt);let b=PBKDF2_HMAC_SHA256_OneIter(password,salt,128*p*r);const B=new Uint32Array(32*p*r);for(let i=0;i<B.length;i++){const j=4*i;B[i]=(255&b[j+3])<<24|(255&b[j+2])<<16|(255&b[j+1])<<8|(255&b[j+0])<<0}const XY=new Uint32Array(64*r),V=new Uint32Array(32*r*N),Yi=32*r,x=new Uint32Array(16),_X=new Uint32Array(16),totalOps=p*N*2;let i1,Bi,currentOp=0,lastPercent10=null,stop=!1,state=0,i0=0;const limit=callback?parseInt(1e3/r):4294967295,nextTick="undefined"!=typeof setImmediate?setImmediate:setTimeout,incrementalSMix=function(){if(stop)return callback(new Error("cancelled"),currentOp/totalOps);let steps;switch(state){case 0:Bi=32*i0*r,arraycopy(B,Bi,XY,0,Yi),state=1,i1=0;case 1:steps=N-i1,steps>limit&&(steps=limit);for(let i=0;i<steps;i++)arraycopy(XY,0,V,(i1+i)*Yi,Yi),blockmix_salsa8(XY,Yi,r,x,_X);if(i1+=steps,currentOp+=steps,callback){const percent10=parseInt(1e3*currentOp/totalOps);if(percent10!==lastPercent10){if(stop=callback(null,currentOp/totalOps),stop)break;lastPercent10=percent10}}if(i1<N)break;i1=0,state=2;case 2:steps=N-i1,steps>limit&&(steps=limit);for(let i=0;i<steps;i++){const j=XY[16*(2*r-1)]&N-1;blockxor(V,j*Yi,XY,Yi),blockmix_salsa8(XY,Yi,r,x,_X)}if(i1+=steps,currentOp+=steps,callback){const percent10=parseInt(1e3*currentOp/totalOps);if(percent10!==lastPercent10){if(stop=callback(null,currentOp/totalOps),stop)break;lastPercent10=percent10}}if(i1<N)break;if(arraycopy(XY,0,B,Bi,Yi),i0++,i0<p){state=0;break}b=[];for(let i=0;i<B.length;i++)b.push(B[i]>>0&255),b.push(B[i]>>8&255),b.push(B[i]>>16&255),b.push(B[i]>>24&255);const derivedKey=PBKDF2_HMAC_SHA256_OneIter(password,b,dkLen);return callback&&callback(null,1,derivedKey),derivedKey}callback&&nextTick(incrementalSMix)};if(!callback)for(;;){const derivedKey=incrementalSMix();if(null!=derivedKey)return derivedKey}incrementalSMix()}const lib={scrypt:function(password,salt,N,r,p,dkLen,progressCallback){return new Promise((function(resolve,reject){let lastProgress=0;progressCallback&&progressCallback(0),_scrypt(password,salt,N,r,p,dkLen,(function(error,progress,key){if(error)reject(error);else if(key)progressCallback&&1!==lastProgress&&progressCallback(1),resolve(new Uint8Array(key));else if(progressCallback&&progress!==lastProgress)return lastProgress=progress,progressCallback(progress)}))}))},syncScrypt:function(password,salt,N,r,p,dkLen){return new Uint8Array(_scrypt(password,salt,N,r,p,dkLen))}};module.exports=lib}()},"./node_modules/unfetch/dist/unfetch.module.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function __WEBPACK_DEFAULT_EXPORT__(e,n){return n=n||{},new Promise((function(t,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(n.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+","+t:t})),t(a())},s.onerror=r,s.withCredentials="include"==n.credentials,n.headers)s.setRequestHeader(l,n.headers[l]);s.send(n.body||null)}))}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__})},"./node_modules/ws/browser.js":module=>{"use strict";module.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}}]);