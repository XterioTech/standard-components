(self.webpackChunkxterio=self.webpackChunkxterio||[]).push([[7923],{"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":module=>{module.exports=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/ahooks/lib/useBoolean/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");exports.Z=function useBoolean(defaultValue){void 0===defaultValue&&(defaultValue=!1);var _a=(0,_tslib.__read)((0,_useToggle.default)(!!defaultValue),2),state=_a[0],_b=_a[1],toggle=_b.toggle,_set=_b.set,actions=(0,_react.useMemo)((function(){return{toggle,set:function set(v){return _set(!!v)},setTrue:function setTrue(){return _set(!0)},setFalse:function setFalse(){return _set(!1)}}}),[]);return[state,actions]};var _tslib=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_react=__webpack_require__("./node_modules/react/index.js"),_useToggle=_interopRequireDefault(__webpack_require__("./node_modules/ahooks/lib/useToggle/index.js"))},"./node_modules/ahooks/lib/useToggle/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _tslib=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_react=__webpack_require__("./node_modules/react/index.js");var _default=function useToggle(defaultValue,reverseValue){void 0===defaultValue&&(defaultValue=!1);var _a=(0,_tslib.__read)((0,_react.useState)(defaultValue),2),state=_a[0],setState=_a[1];return[state,(0,_react.useMemo)((function(){var reverseValueOrigin=void 0===reverseValue?!defaultValue:reverseValue;return{toggle:function toggle(){return setState((function(s){return s===defaultValue?reverseValueOrigin:defaultValue}))},set:function set(value){return setState(value)},setLeft:function setLeft(){return setState(defaultValue)},setRight:function setRight(){return setState(reverseValueOrigin)}}}),[])]};exports.default=_default},"./src/components/layouts/header/Wallets/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>header_Wallets});var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),chunk_EC5LXVNW=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-EC5LXVNW.mjs"),chunk_O5JINC5D=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-O5JINC5D.mjs"),chunk_YJLYAMGQ=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-YJLYAMGQ.mjs"),chunk_ST3CR3NJ=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-ST3CR3NJ.mjs"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),next_router=__webpack_require__("./node_modules/next/router.js"),components=__webpack_require__("./src/components/index.ts"),contexts=__webpack_require__("./src/contexts/index.ts"),hooks=__webpack_require__("./src/hooks/index.ts"),xterio_icons_esm=__webpack_require__("./node_modules/xterio-icons/dist/xterio-icons.esm.js"),useTimeout=__webpack_require__("./node_modules/ahooks/es/useTimeout/index.js"),useBoolean=__webpack_require__("./node_modules/ahooks/lib/useBoolean/index.js"),global_context_pnWallet=__webpack_require__("./src/contexts/global-context/pnWallet.ts"),WalletAddress=__webpack_require__("./src/components/layouts/header/Wallets/WalletAddress.tsx"),useInitPnWallet=__webpack_require__("./src/components/layouts/header/Wallets/useInitPnWallet.tsx"),PNWalletModal=__webpack_require__("./src/components/pn-wallet/PNWalletModal.tsx"),__jsx=react.createElement,AAWalletCard=function AAWalletCard(_ref){var _userInfo$walletWithP,autoInit=_ref.autoInit,showEntry=_ref.showEntry,extraClass=_ref.extraClass,_useBoolean=(0,useBoolean.Z)(!1),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),pnWalletOpen=_useBoolean2[0],setPnWalletOpenOpen=_useBoolean2[1],_useState=(0,react.useState)(Math.random()),randomParam=_useState[0],setRandomParam=_useState[1],pnWallet=(0,global_context_pnWallet.i)(),userInfo=(0,contexts.bN)().userInfo,initPNWallet=(0,useInitPnWallet.k)().initPNWallet;(0,useTimeout.Z)(initPNWallet,autoInit?100:void 0);var wallet=null===(_userInfo$walletWithP=userInfo.walletWithPnEoa)||void 0===_userInfo$walletWithP?void 0:_userInfo$walletWithP.find((function(i){return 2===i.source}));return __jsx(react.Fragment,null,__jsx(components.jD,{border:!0,borderCls:"bg-xwhite/10 web:group-hover:bg-gradient-to-br from-xwhite/40 to-xwhite/12",cutSize:"1.5rem",className:classnames_default()("h5:w-[calc(100vw-32px)] h5:landscape:w-[292px] h5:landscape:h-[153px] h5:h-[calc((100vw-32px)/1.91+2px)] web:w-[336px] web:h-[176px]",extraClass)},__jsx("div",{onClick:function onClick(){showEntry&&(pnWallet.erc4337On(!0),setRandomParam(Math.random()),setPnWalletOpenOpen.setTrue())},className:classnames_default()("group cursor-pointer","w-full h-full","bg-gradient-to-b","from-[#21213B] to-[#6221EB]")},__jsx("div",{id:"pn_wallet_detail","data-sensors-click":!0,className:"w-full flex bg-contain bg-no-repeat bg-right-top bg-[url(/images/wallet/aa_wallet_bg.svg)] flex-col p-6 justify-between h-full font-termina font-xbold"},showEntry?__jsx(xterio_icons_esm.IconPnWalletEntry24,{onClick:function onClick(){setRandomParam(Math.random()),setPnWalletOpenOpen.setTrue()},className:"absolute right-6 bottom-6 web:group-hover:text-xwhite/60 text-xwhite/30"}):null,__jsx("div",{className:classnames_default()("flex h-4 items-center text-xwhite")},__jsx(xterio_icons_esm.IconLogoScalable,{size:16,color:"#fefefe"}),__jsx("span",{className:"ml-1 text-x-xs !leading-4 font-termina font-xmedium uppercase"},"Xterio Wallet")),__jsx("div",null,wallet?__jsx(WalletAddress.J,{tip:!0,address:wallet.address,isConnect:pnWallet.isLogin}):__jsx("div",{className:"flex items-center"},__jsx(components.gb,{weight:2,size:14}),__jsx("span",{className:"text-xwhite/75 ml-1 font-base leading-none"},"GENERATING")),__jsx("div",{className:classnames_default()("font-poppins font-extralight mt-2 text-xwhite/60 text-x-xs")},"Powered by Particle Network"))))),__jsx(PNWalletModal.q,{isOpen:pnWalletOpen,onClose:setPnWalletOpenOpen.setFalse,randomParam}))};try{AAWalletCard.displayName="AAWalletCard",AAWalletCard.__docgenInfo={description:"",displayName:"AAWalletCard",props:{showEntry:{defaultValue:null,description:"",name:"showEntry",required:!1,type:{name:"boolean"}},extraClass:{defaultValue:null,description:"",name:"extraClass",required:!1,type:{name:"string"}},autoInit:{defaultValue:null,description:"",name:"autoInit",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/pn-wallet/AAWalletCard.tsx#AAWalletCard"]={docgenInfo:AAWalletCard.__docgenInfo,name:"AAWalletCard",path:"src/components/pn-wallet/AAWalletCard.tsx#AAWalletCard"})}catch(__react_docgen_typescript_loader_error){}var XButton=__webpack_require__("./src/components/XButton/index.tsx"),card=__webpack_require__("./src/components/card/index.ts"),AAWalletCreateCard_jsx=react.createElement,AAWalletCreateCard=function AAWalletCreateCard(){var _useInitPnWallet=(0,useInitPnWallet.k)(),initPNWallet=_useInitPnWallet.initPNWallet,loading=_useInitPnWallet.loading;return AAWalletCreateCard_jsx(card.jD,{border:!0,borderWidth:1,borderCls:"bg-gradient-to-b from-[rgba(254,254,254,0.02)] to-[rgba(254,254,254,0.1)]",className:classnames_default()("relative h5:w-[calc(100vw-32px)] web:w-full !h-[92px] bg-gradient-to-b from-[#21213B] to-[#6221EB] p-6 pr-3"),cutSize:"1.5rem"},AAWalletCreateCard_jsx("span",{className:"absolute inset-0 w-full flex bg-cover bg-no-repeat bg-right-top bg-[url(/images/wallet/aa_wallet_bg.svg)] flex-col p-6 justify-between h-full font-termina font-xbold"}),AAWalletCreateCard_jsx("p",{className:"w-full flex text-xwhite/60 mb-2 pt-1"},AAWalletCreateCard_jsx(xterio_icons_esm.IconLogoScalable,{color:"rgb(254 254 254 / 0.6)",size:16}),AAWalletCreateCard_jsx("span",{className:"flex-1 text-x-xs !leading-5 font-termina font-xbold ml-1"},"XTERIO WALLET")),AAWalletCreateCard_jsx("p",{className:"text-xwhite/40 text-x-xs font-poppins font-xextralight"},"Powered by Particle Network"),AAWalletCreateCard_jsx(XButton.z,{onClick:initPNWallet,loading,loadingWeight:2,loadingClassName:"!mr-1",loadingVariant:"white",className:classnames_default()("absolute !w-[92px] !px-0 top-[30px] right-6 !text-xwhite !border-xwhite",loading?"cursor-default web:hover:!text-xwhite web:hover:!bg-transparent":"web:hover:!text-xdarkblue web:hover:!bg-xwhite"),size:"md",btnText:"OBTAIN",type:"ghost",id:"wallet_manage_obtain","data-sensors-click":!0}))};AAWalletCreateCard.displayName="AAWalletCreateCard";const Wallets_AAWalletCreateCard=AAWalletCreateCard;try{AAWalletCreateCard.displayName="AAWalletCreateCard",AAWalletCreateCard.__docgenInfo={description:"",displayName:"AAWalletCreateCard",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layouts/header/Wallets/AAWalletCreateCard.tsx#AAWalletCreateCard"]={docgenInfo:AAWalletCreateCard.__docgenInfo,name:"AAWalletCreateCard",path:"src/components/layouts/header/Wallets/AAWalletCreateCard.tsx#AAWalletCreateCard"})}catch(__react_docgen_typescript_loader_error){}var AAWallet_jsx=react.createElement;function AAWallet(){var _userInfo$walletWithP,_userInfo$walletWithP2,_useGlobalContext=(0,contexts.bN)(),userInfo=_useGlobalContext.userInfo,closeAll=_useGlobalContext.closeAll,hasAAWallet=!(null===(_userInfo$walletWithP=userInfo.walletWithPnEoa)||void 0===_userInfo$walletWithP||!_userInfo$walletWithP.find((function(i){return 2===i.source}))),bindPnWallet=null===(_userInfo$walletWithP2=userInfo.walletWithPnEoa)||void 0===_userInfo$walletWithP2||null===(_userInfo$walletWithP2=_userInfo$walletWithP2.find((function(i){return 1===i.source})))||void 0===_userInfo$walletWithP2?void 0:_userInfo$walletWithP2.address,router=(0,next_router.useRouter)();return AAWallet_jsx("section",{className:"pb-10"},AAWallet_jsx("p",{className:"font-termina font-xmedium text-x-xs text-xwhite/40 mb-3"},"Xterio Wallet (".concat(hasAAWallet?1:0,")")),bindPnWallet&&!hasAAWallet?AAWallet_jsx("div",{className:"bg-xpink/20 p-3 mb-3"},AAWallet_jsx("div",{className:"flex items-center mb-3 text-xpink text-xs"},AAWallet_jsx(xterio_icons_esm.IconWalletInfo12,{className:"mr-2 min-w-[12px]"}),AAWallet_jsx("p",null,'The Platform Wallet has upgraded to Xterio Wallet. Please migrate your assets from the Legacy Platform Wallet to the fresh new Xterio Wallet. You can find your Legacy Xterio Wallet in "',AAWallet_jsx("strong",null,"Account"),'" ',"->",' "',AAWallet_jsx("strong",null,"Wallet"),'" page.')),AAWallet_jsx("div",{onClick:function onClick(){closeAll(),router.push("/settings?tab=wallet")},className:"flex pl-5 web:cursor-pointer items-center uppercase font-poppins text-x-xs text-xpink/60 web:hover:text-xpink group"},"learn more",AAWallet_jsx(xterio_icons_esm.IconDirection12,{className:"ml-1 rotate-[-135deg] web:group-hover:-rotate-90 transition-all duration-100"}))):null,hasAAWallet?AAWallet_jsx(AAWalletCard,{showEntry:!0}):AAWallet_jsx(Wallets_AAWalletCreateCard,null))}AAWallet.displayName="AAWallet";var copy=__webpack_require__("./src/components/layouts/copy.tsx"),Account_jsx=react.createElement;function Account(){var _useGlobalContext=(0,contexts.bN)(),userInfo=_useGlobalContext.userInfo,closeWallets=_useGlobalContext.closeWallets,uuid=userInfo.uuid,router=(0,next_router.useRouter)();return Account_jsx("div",{className:"pb-2 border-b border-xwhite/10 mb-4"},Account_jsx("div",{className:"flex justify-between items-center font-termina"},Account_jsx("p",{className:"text-xwhite text-x-xl font-xbold"},"Accounts"),Account_jsx("p",{onClick:function onClick(){router.push("/settings?tab=wallet"),closeWallets()},className:"text-xcyan text-x-xs font-xmedium web:hover:underline web:cursor-pointer"},"Manage")),Account_jsx("p",{className:"mt-0.5 flex items-center text-xwhite/40 font-termina text-x-xs font-xmedium"},"UID: ",null==uuid?void 0:uuid.slice(0,4),"...",null==uuid?void 0:uuid.slice(-4),Account_jsx(copy.Z,{text:uuid||"",size:32,className:"inline-block p-1 web:hover:text-xwhite web:hover:bg-xwhite/10 text-xwhite/40 cursor-pointer rounded-full"})))}Account.displayName="Account";var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),connect_wallet_portal_with_loading=__webpack_require__("./src/components/connect-wallet-portal-with-loading/index.tsx"),AddWalletCard_jsx=react.createElement;function AddWalletCard(_ref){var onClick=_ref.onClick;return AddWalletCard_jsx(react.Fragment,null,AddWalletCard_jsx(card.jD,{border:!0,borderWidth:1,borderCls:"bg-xwhite/10",className:classnames_default()("relative w-full !h-[92px] web:hover:bg-xwhite/10"),cutSize:"1.5rem"},AddWalletCard_jsx("div",{onClick,className:classnames_default()("group cursor-pointer font-termina font-xbold text-x-xs text-xwhite/60 uppercase ","w-full h-full flex items-center justify-center")},AddWalletCard_jsx(xterio_icons_esm.IconPlus16,{className:"mr-2"}),"add WALLET")))}try{AddWalletCard.displayName="AddWalletCard",AddWalletCard.__docgenInfo={description:"",displayName:"AddWalletCard",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layouts/header/Wallets/AddWalletCard.tsx#AddWalletCard"]={docgenInfo:AddWalletCard.__docgenInfo,name:"AddWalletCard",path:"src/components/layouts/header/Wallets/AddWalletCard.tsx#AddWalletCard"})}catch(__react_docgen_typescript_loader_error){}var PairedWalletCard=__webpack_require__("./src/components/layouts/header/Wallets/PairedWalletCard.tsx"),useAutoBindWallet=__webpack_require__("./src/components/layouts/header/Wallets/useAutoBindWallet.tsx"),PairedWallet_jsx=react.createElement;function PairedWallet(){var _linkWallet$find,userInfo=(0,contexts.bN)().userInfo,_useAutoBindWallet=(0,useAutoBindWallet.T)(),isPortalShow=_useAutoBindWallet.isPortalShow,loadingKey=_useAutoBindWallet.loadingKey,onClose=_useAutoBindWallet.onClose,onOpen=_useAutoBindWallet.onOpen,onConnectItem=_useAutoBindWallet.onConnectItem,linkWallet=userInfo.walletWithPnEoa.filter((function(i){return 0===i.source})),hasConnected=null===(_linkWallet$find=linkWallet.find((function(i){return i.isConnect})))||void 0===_linkWallet$find?void 0:_linkWallet$find.address;return PairedWallet_jsx("section",{className:"pb-10 w-full"},PairedWallet_jsx("p",{className:classnames_default()("font-termina font-xmedium text-x-xs text-xwhite/40 flex justify-between items-center relative",!hasConnected&&linkWallet.length?"pb-[22px] relative":"pb-3")},"Paired Wallet (".concat(linkWallet.length,")"),!hasConnected&&linkWallet.length?PairedWallet_jsx(components.zx,{onClick:onOpen,icon:PairedWallet_jsx(xterio_icons_esm.IconWalletConnect12,{className:"mr-1"}),size:"md",className:"!capitalize !px-3 !font-poppins font-xmedium absolute right-0 -top-2.5",btnText:"Connect",type:"ghost"}):null),PairedWallet_jsx("ul",{className:"grid grid-col-1 gap-3"},linkWallet.length?linkWallet.sort((function(a,b){return+new Date(b.created_at)-+new Date(a.created_at)})).sort((function(a){return a.isConnect?-1:1})).sort((function(i){return i.is_invalid?1:-1})).map((function(i){return PairedWallet_jsx(PairedWalletCard.Z,(0,esm_extends.Z)({},i,{key:i.address}))})):PairedWallet_jsx(AddWalletCard,{onClick:onOpen})),PairedWallet_jsx(connect_wallet_portal_with_loading.P,{isOpen:isPortalShow,onConnectItem,onClose,loadingKey}))}PairedWallet.displayName="PairedWallet";var Wallets_jsx=react.createElement,WalletContainer=function WalletContainer(){var _useResponsive=(0,hooks.Fs)("md"),isLargeThanMdSize=(0,slicedToArray.Z)(_useResponsive,1)[0],pathname=(0,next_router.useRouter)().pathname,_useGlobalContext=(0,contexts.bN)(),walletsOpen=_useGlobalContext.walletsOpen,closeWallets=_useGlobalContext.closeWallets,sniffer=_useGlobalContext.sniffer,walletWithPnEoa=_useGlobalContext.userInfo.walletWithPnEoa,linkWallet=walletWithPnEoa.filter((function(i){return 2!==i.source})),aaWallet=walletWithPnEoa.filter((function(i){return 2===i.source}));return(0,react.useEffect)((function(){closeWallets()}),[pathname]),Wallets_jsx(chunk_EC5LXVNW.d,{isOpen:walletsOpen,placement:"right",onClose:closeWallets,autoFocus:!1},Wallets_jsx(chunk_O5JINC5D.Z,{top:isLargeThanMdSize?"66px":0,zIndex:"49"}),Wallets_jsx(chunk_YJLYAMGQ.s,{marginTop:isLargeThanMdSize?"66px":0,maxW:isLargeThanMdSize||sniffer.landscape?"400px":"100vw",background:isLargeThanMdSize?"#21213B":"#141430",padding:"0"},Wallets_jsx(chunk_ST3CR3NJ.f,{className:classnames_default()(isLargeThanMdSize?"custom-scrollbar":"!pt-16"),padding:0,m:0},Wallets_jsx(components.H5,null,Wallets_jsx("div",{className:"text-xwhite h-16 items-center z-20 bg-background absolute top-0 pl-4 flex justify-between w-[calc(100vw-16px)]"},Wallets_jsx("p",{className:"inline-block font-termina font-xbold text-x-base uppercase"},"wallet"),Wallets_jsx(xterio_icons_esm.IconClose24,{onClick:closeWallets,className:"text-xwhite/40"}))),Wallets_jsx("section",{className:"h5:relative h5:z-10 mb-20 web:px-8 web:pt-6 h5:pt-2.5 h5:pl-4  h5:w-[calc(100vw-16px)] "},Wallets_jsx(Account,null),linkWallet.length||aaWallet.length?null:Wallets_jsx("p",{className:"flex items-center mb-4 h-7 text-xpink bg-xpink/20 text-x-xs"},Wallets_jsx(xterio_icons_esm.IconWalletInfo12,{className:"ml-3 mr-2"})," Set up your wallet for the full experience"),Wallets_jsx("div",{className:classnames_default()("flex pt-2",!aaWallet.length&&linkWallet.length?"flex-col-reverse":"flex-col")},Wallets_jsx(AAWallet,null),Wallets_jsx(PairedWallet,null))))))};WalletContainer.displayName="WalletContainer";const header_Wallets=WalletContainer;try{Wallets.displayName="Wallets",Wallets.__docgenInfo={description:"",displayName:"Wallets",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layouts/header/Wallets/index.tsx#Wallets"]={docgenInfo:Wallets.__docgenInfo,name:"Wallets",path:"src/components/layouts/header/Wallets/index.tsx#Wallets"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/react-image-file-resizer/build/index.js":module=>{(()=>{"use strict";var e={d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>n});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var r;return r=[{key:"changeHeightWidth",value:function(e,t,a,r,n,i){return a>r&&(e=Math.round(e*r/a),a=r),e>t&&(a=Math.round(a*t/e),e=t),n&&a<n&&(e=Math.round(e*n/a),a=n),i&&e<i&&(a=Math.round(a*i/e),e=i),{height:e,width:a}}},{key:"resizeAndRotateImage",value:function(e,t,a,r,n){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpeg",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=(arguments.length>6&&void 0!==arguments[6]?arguments[6]:100)/100,g=document.createElement("canvas"),u=e.width,d=e.height,c=this.changeHeightWidth(d,a,u,t,r,n);!l||90!==l&&270!==l?(g.width=c.width,g.height=c.height):(g.width=c.height,g.height=c.width),u=c.width,d=c.height;var s=g.getContext("2d");return s.fillStyle="rgba(0, 0, 0, 0)",s.fillRect(0,0,u,d),s.imageSmoothingEnabled&&s.imageSmoothingQuality&&(s.imageSmoothingQuality="high"),l&&(s.rotate(l*Math.PI/180),90===l?s.translate(0,-g.width):180===l?s.translate(-g.width,-g.height):270===l?s.translate(-g.height,0):0!==l&&360!==l||s.translate(0,0)),s.drawImage(e,0,0,u,d),g.toDataURL("image/".concat(i),h)}},{key:"b64toByteArrays",value:function(e,t){t=t||"image/jpeg";for(var a=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),r=[],n=0;n<a.length;n+=512){for(var i=a.slice(n,n+512),o=new Array(i.length),l=0;l<i.length;l++)o[l]=i.charCodeAt(l);var h=new Uint8Array(o);r.push(h)}return r}},{key:"b64toBlob",value:function(e,t){var a=this.b64toByteArrays(e,t);return new Blob(a,{type:t,lastModified:new Date})}},{key:"b64toFile",value:function(e,t,a){var r=this.b64toByteArrays(e,a);return new File(r,t,{type:a,lastModified:new Date})}},{key:"createResizedImage",value:function(t,a,r,n,i,o,l){var h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=new FileReader;if(!t)throw Error("File Not Found!");if(t.type&&!t.type.includes("image"))throw Error("File Is NOT Image!");d.readAsDataURL(t),d.onload=function(){var c=new Image;c.src=d.result,c.onload=function(){var d=e.resizeAndRotateImage(c,a,r,g,u,n,i,o),s="image/".concat(n);switch(h){case"blob":var f=e.b64toBlob(d,s);l(f);break;case"base64":default:l(d);break;case"file":var b=t.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(n.toString()),v=e.b64toFile(d,b,s);l(v)}}},d.onerror=function(e){throw Error(e)}}}],r&&function a(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,r),e}();const n={imageFileResizer:function(e,t,a,n,i,o,l,h,g,u){return r.createResizedImage(e,t,a,n,i,o,l,h,g,u)}};module.exports=t})()}}]);