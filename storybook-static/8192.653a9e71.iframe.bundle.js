"use strict";(self.webpackChunkxterio=self.webpackChunkxterio||[]).push([[8192],{"./src/components/layouts/header/PersonalCenter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PersonalCenter:()=>PersonalCenter});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),chunk_KRPLQIP4=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),js_cookie=__webpack_require__("./node_modules/js-cookie/dist/js.cookie.mjs"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),next_router=__webpack_require__("./node_modules/next/router.js"),config_login=__webpack_require__("./src/common/config/login.tsx"),noti=__webpack_require__("./src/common/noti/index.tsx"),check=__webpack_require__("./src/common/service/login/check.ts"),components=__webpack_require__("./src/components/index.ts"),flex_box=__webpack_require__("./src/components/flex-box/index.tsx"),contexts=__webpack_require__("./src/contexts/index.ts"),hooks=__webpack_require__("./src/hooks/index.ts"),index_umd=__webpack_require__("./node_modules/react-horizontal-scrolling-menu/dist/index.umd.js"),xterio_icons_esm=__webpack_require__("./node_modules/xterio-icons/dist/xterio-icons.esm.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),possibleConstructorReturn=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),getPrototypeOf=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),utils=__webpack_require__("./src/common/utils/index.ts"),responsive=__webpack_require__("./src/components/responsive/index.tsx"),dapp_context=__webpack_require__("./src/contexts/dapp-context/index.tsx"),hooks_useEasyTranslation=__webpack_require__("./src/hooks/useEasyTranslation.tsx"),_excluded=["className","disabled"],__jsx=react.createElement;function _callSuper(t,o,e){return o=(0,getPrototypeOf.Z)(o),(0,possibleConstructorReturn.Z)(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],(0,getPrototypeOf.Z)(t).constructor):o.apply(t,e))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var LoginTitle=function LoginTitle(_ref){var text=_ref.text,className=_ref.className;return(0,hooks.Nt)()?__jsx("span",{className:classnames_default()("text-2xl py-3 text-xwhite leading-none font-xbold",className)},text):__jsx(react.Fragment,null,__jsx(responsive.ph,null,__jsx("span",{className:classnames_default()("text-[32px] py-4 text-xwhite leading-none font-xbold",className)},text)),__jsx(responsive.H5,null,__jsx("span",{className:classnames_default()("text-2xl py-3 text-xwhite leading-none font-xbold",className)},text)))},LoginSubTitle=function LoginSubTitle(_ref2){var text=_ref2.text,className=_ref2.className;return useMobileOrientation()?__jsx("p",{dangerouslySetInnerHTML:{__html:text},className:classNames("text-base py-3 text-xwhite text-center font-xbold leading-snug",className)}):__jsx(React.Fragment,null,__jsx(Web,null,__jsx("p",{dangerouslySetInnerHTML:{__html:text},className:classNames("text-[24px] py-4 text-xwhite text-center leading-none font-xbold",className)})),__jsx(H5,null,__jsx("p",{dangerouslySetInnerHTML:{__html:text},className:classNames("text-base py-3 text-xwhite text-center font-xbold leading-snug",className)})))},CodeSendButton=function(_React$Component){function CodeSendButton(){var _this;(0,classCallCheck.Z)(this,CodeSendButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_callSuper(this,CodeSendButton,[].concat(args)),(0,defineProperty.Z)(_this,"state",{time:0,sended:!1}),(0,defineProperty.Z)(_this,"maxTime",60),(0,defineProperty.Z)(_this,"timer",void 0),(0,defineProperty.Z)(_this,"handleClick",(function(e){(_this.props.onClick?Promise.resolve(_this.props.onClick(e)):Promise.resolve()).then((function(){_this.setState({sended:!0}),_this.startTime()})).catch((function(){}))})),_this}return(0,inherits.Z)(CodeSendButton,_React$Component),(0,createClass.Z)(CodeSendButton,[{key:"startTime",value:function startTime(){var _this2=this;this.setState({time:this.maxTime}),this.clearTimeout(),this.timer=setInterval((function(){_this2.setState({time:_this2.state.time-1}),1===_this2.state.time&&_this2.clearTimeout()}),1e3)}},{key:"clearTimeout",value:function(_clearTimeout){function clearTimeout(){return _clearTimeout.apply(this,arguments)}return clearTimeout.toString=function(){return _clearTimeout.toString()},clearTimeout}((function(){clearTimeout(this.timer)}))},{key:"componentWillUnmount",value:function componentWillUnmount(){this.clearTimeout()}},{key:"render",value:function render(){var _this$props=this.props,className=_this$props.className,disabled=_this$props.disabled,rest=(0,objectWithoutProperties.Z)(_this$props,_excluded),_this$state=this.state,sended=_this$state.sended,time=_this$state.time,abled=!disabled&&0===time;return __jsx(react.Fragment,null,__jsx(responsive.ph,null,__jsx("button",(0,esm_extends.Z)({className:classnames_default()("".concat(abled?"text-xcyan font-xbold":"text-xwhite/40"," text-x-base leading-none"),className),disabled:!abled},rest,{onClick:this.handleClick}),sended?"RESEND":"SEND",0!==time&&__jsx("span",null,"(",time,")"))),__jsx(responsive.H5,null,__jsx("button",(0,esm_extends.Z)({className:classnames_default()("".concat(abled?"text-xcyan font-xbold":"text-xwhite/40"," text-x-sm text-center leading-none"),className),disabled:!abled},rest,{onClick:this.handleClick}),sended?"RESEND":"SEND",0!==time&&__jsx("span",null,"(",time,")"))))}}])}(react.Component);CodeSendButton.displayName="CodeSendButton";var LoginDesc=function LoginDesc(_ref3){var text=_ref3.text,className=_ref3.className;return(0,hooks.Nt)()?__jsx("p",{className:classnames_default()("text-xs text-center pb-2 text-xwhite/60 leading-none",className)},text):__jsx(react.Fragment,null,__jsx(responsive.ph,null,__jsx("p",{className:classnames_default()("text-sm pb-2 text-xwhite/60 !leading-none",className)},text)),__jsx(responsive.H5,null,__jsx("p",{className:classnames_default()("text-xs text-center pb-2 text-xwhite/60 leading-none",className)},text)))},LoginOtherProviders=function LoginOtherProviders(_ref4){_ref4.text;var className=_ref4.className,openConnectModal=(0,dapp_context.OU)().openConnectModal;return __jsx("div",{onClick:function onClick(){null==openConnectModal||openConnectModal()},className:classnames_default()("text-xcyan text-base leading-none font-xbold mt-10 cursor-pointer",className)},"OTHER WALLET PROVIDERS",__jsx(xterio_icons_esm.IconArrow16,{className:"-rotate-90 ml-1",size:18}))};LoginOtherProviders.displayName="LoginOtherProviders";var LoginLabel=function LoginLabel(_ref5){var _ref5$text=_ref5.text,text=void 0===_ref5$text?"":_ref5$text,className=_ref5.className;return __jsx("div",{className:classnames_default()("text-xwhite/30 web:w-[400px] h5:w-full mx-auto text-left text-xs leading-none font-xbold web:mb-4 h5:mb-2 mt-10",className)},text)};LoginLabel.displayName="LoginLabel";var CheckBox=function CheckBox(_ref6){var value=_ref6.value,onChange=_ref6.onChange,className=_ref6.className,_useResponsive=(0,hooks.Fs)("md"),isLargerThanMD=(0,slicedToArray.Z)(_useResponsive,1)[0];return(0,hooks.Nt)()?__jsx("span",{onClick:function onClick(){return null==onChange?void 0:onChange(!value)},className:classnames_default()("relative cursor-pointer inline-block w-4 h-4 transition-all",value?"bg-xcyan":"",className)},value?__jsx("span",{className:"inline-flex w-full h-full text-center justify-center items-center"},__jsx(xterio_icons_esm.IconCheckRight12,{className:"inline-block w-3 text-xdarkblue"})):__jsx("span",{className:"absolute web:hover:border-xcyan left-0 top-0 inline-block w-full h-full border border-xwhite/20"})):__jsx("span",{onClick:function onClick(){return null==onChange?void 0:onChange(!value)},className:classnames_default()("relative cursor-pointer inline-block web:w-5 web:h-5 h5:w-4 h5:h-4 transition-all",value?"bg-xcyan":"",className)},value?__jsx("span",{className:"inline-flex w-full h-full text-center justify-center items-center"},isLargerThanMD?__jsx(xterio_icons_esm.IconChecked16,{className:"inline-block w-4 text-xdarkblue"}):__jsx(xterio_icons_esm.IconCheckRight12,{className:"inline-block w-3 text-xdarkblue"})):__jsx("span",{className:"absolute web:hover:border-xcyan left-0 top-0 inline-block w-full h-full border border-xwhite/20"}))};CheckBox.displayName="CheckBox";var WalletCard=function WalletCard(_ref7){var account=_ref7.account,connected=_ref7.connected,linked=_ref7.linked,showLink=_ref7.showLink,className=_ref7.className,onLink=_ref7.onLink,borderCls=connected&&linked?"bg-gradient-to-b from-xlightcyan to-xlightpink":"",t=(0,hooks_useEasyTranslation.Z)().t;return __jsx(components.jD,{borderCls,cutSize:"md",border:!0,cutType:"double",className:classnames_default()("w-[400px] my-4",className,showLink?"h-[79px]":"h-[95px]","backdrop-blur-2xl bg-gradient-to-r from-xlightcyan/[.03] to-xlightpink/[.03]")},__jsx("div",{className:classnames_default()("web:pl-10 h5:pl-6 h5:pr-3 web:pr-6 relative",showLink?"pt-4":"pt-6")},__jsx("div",{className:"flex items-center h-4"},linked?__jsx(xterio_icons_esm.IconLinkedWallet16,{className:"text-xwhite/30"}):__jsx("div",{className:"web:w-2 web:h-2 h5:w-[6px] h5:h-[6px] bg-xgreen m-1 rounded-full"}),__jsx("div",{className:"text-xwhite/30 text-xs inline-block font-termina font-xbold pl-[5px] flex-1"},t(linked?"common.pairedWallet":"login.connectedWallet")),connected?linked&&__jsx(react.Fragment,null,__jsx("div",{className:"w-[6px] h-[6px] bg-xgreen m-1 rounded-full"}),__jsx("span",{className:"text-xwhite/30 text-xs"},t("login.connected"))):__jsx(react.Fragment,null,__jsx("div",{className:"w-[6px] h-[6px] bg-xwhite/20 m-1 rounded-full"}),__jsx("span",{className:"text-xwhite/30 text-xs"},t("login.notConnected")))),showLink&&!linked?__jsx("div",{onClick:onLink,className:"absolute text-xs cursor-pointer text-xcyan right-6 flex items-center"},__jsx(xterio_icons_esm.IconLinkedWalletThin12,{className:"text-xcyan mr-[3px]"}),t("login.link.btnText")):null,__jsx("p",{className:classnames_default()("text-xwhite mt-3 font-poppins text-xl pl-5 leading-none font-xbold")},(0,utils.vD)(account))))};WalletCard.displayName="WalletCard";var Ani=function Ani(_ref8){var show=_ref8.show,children=_ref8.children,heightClass=_ref8.heightClass,_ref8$ani=_ref8.ani,ani=void 0===_ref8$ani?"height":_ref8$ani;return __jsx(react.Fragment,null,"height"===ani?__jsx("div",{className:classnames_default()("transition-all overflow-hidden h5:w-full",show?heightClass+" h-auto":"max-h-0")},children):null)};try{LoginTitle.displayName="LoginTitle",LoginTitle.__docgenInfo={description:"",displayName:"LoginTitle",props:{text:{defaultValue:{value:""},description:"",name:"text",required:!1,type:{name:"string | Element"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/index.tsx#LoginTitle"]={docgenInfo:LoginTitle.__docgenInfo,name:"LoginTitle",path:"src/pages/login/components/base/index.tsx#LoginTitle"})}catch(__react_docgen_typescript_loader_error){}try{LoginSubTitle.displayName="LoginSubTitle",LoginSubTitle.__docgenInfo={description:"",displayName:"LoginSubTitle",props:{text:{defaultValue:{value:""},description:"",name:"text",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/index.tsx#LoginSubTitle"]={docgenInfo:LoginSubTitle.__docgenInfo,name:"LoginSubTitle",path:"src/pages/login/components/base/index.tsx#LoginSubTitle"})}catch(__react_docgen_typescript_loader_error){}try{CodeSendButton.displayName="CodeSendButton",CodeSendButton.__docgenInfo={description:"",displayName:"CodeSendButton",props:{a:{defaultValue:null,description:"",name:"a",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/index.tsx#CodeSendButton"]={docgenInfo:CodeSendButton.__docgenInfo,name:"CodeSendButton",path:"src/pages/login/components/base/index.tsx#CodeSendButton"})}catch(__react_docgen_typescript_loader_error){}try{LoginDesc.displayName="LoginDesc",LoginDesc.__docgenInfo={description:"",displayName:"LoginDesc",props:{text:{defaultValue:{value:""},description:"",name:"text",required:!1,type:{name:"string | Element"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/index.tsx#LoginDesc"]={docgenInfo:LoginDesc.__docgenInfo,name:"LoginDesc",path:"src/pages/login/components/base/index.tsx#LoginDesc"})}catch(__react_docgen_typescript_loader_error){}try{LoginOtherProviders.displayName="LoginOtherProviders",LoginOtherProviders.__docgenInfo={description:"",displayName:"LoginOtherProviders",props:{text:{defaultValue:{value:""},description:"",name:"text",required:!1,type:{name:"string | Element"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/index.tsx#LoginOtherProviders"]={docgenInfo:LoginOtherProviders.__docgenInfo,name:"LoginOtherProviders",path:"src/pages/login/components/base/index.tsx#LoginOtherProviders"})}catch(__react_docgen_typescript_loader_error){}try{LoginLabel.displayName="LoginLabel",LoginLabel.__docgenInfo={description:"",displayName:"LoginLabel",props:{text:{defaultValue:{value:""},description:"",name:"text",required:!1,type:{name:"string | Element"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/index.tsx#LoginLabel"]={docgenInfo:LoginLabel.__docgenInfo,name:"LoginLabel",path:"src/pages/login/components/base/index.tsx#LoginLabel"})}catch(__react_docgen_typescript_loader_error){}try{CheckBox.displayName="CheckBox",CheckBox.__docgenInfo={description:"",displayName:"CheckBox",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((val: boolean) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/index.tsx#CheckBox"]={docgenInfo:CheckBox.__docgenInfo,name:"CheckBox",path:"src/pages/login/components/base/index.tsx#CheckBox"})}catch(__react_docgen_typescript_loader_error){}try{WalletCard.displayName="WalletCard",WalletCard.__docgenInfo={description:"",displayName:"WalletCard",props:{account:{defaultValue:null,description:"",name:"account",required:!0,type:{name:"string"}},connected:{defaultValue:null,description:"",name:"connected",required:!1,type:{name:"boolean"}},linked:{defaultValue:null,description:"",name:"linked",required:!1,type:{name:"boolean"}},showLink:{defaultValue:null,description:"",name:"showLink",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onLink:{defaultValue:null,description:"",name:"onLink",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/index.tsx#WalletCard"]={docgenInfo:WalletCard.__docgenInfo,name:"WalletCard",path:"src/pages/login/components/base/index.tsx#WalletCard"})}catch(__react_docgen_typescript_loader_error){}try{Ani.displayName="Ani",Ani.__docgenInfo={description:"",displayName:"Ani",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},heightClass:{defaultValue:null,description:"",name:"heightClass",required:!1,type:{name:"string"}},ani:{defaultValue:{value:"height"},description:"",name:"ani",required:!1,type:{name:"enum",value:[{value:'"height"'},{value:'"translate"'},{value:'"zoom"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/index.tsx#Ani"]={docgenInfo:Ani.__docgenInfo,name:"Ani",path:"src/pages/login/components/base/index.tsx#Ani"})}catch(__react_docgen_typescript_loader_error){}react.createElement;var es_useBoolean=__webpack_require__("./node_modules/ahooks/es/useBoolean/index.js"),es_useRequest=__webpack_require__("./node_modules/ahooks/es/useRequest/index.js"),aws_federated_login=__webpack_require__("./src/common/lib/aws-federated-login.ts"),error=__webpack_require__("./src/common/utils/error.ts"),fetchers=__webpack_require__("./src/fetchers/index.ts"),Combination=__webpack_require__("./node_modules/react-remove-scroll/dist/es2015/Combination.js"),LoginLoading_jsx=react.createElement;function LoginLoading(_ref){var className=_ref.className;return LoginLoading_jsx(Combination.Z,{enabled:!0},LoginLoading_jsx("div",{className:classnames_default()("web:absolute h5:fixed left-0 z-20 top-0 bottom-0 right-0 flex items-center bg-background/70 justify-center",className)},LoginLoading_jsx(components.IV,{size:68,variant:"color"})))}LoginLoading.displayName="LoginLoading";try{LoginLoading.displayName="LoginLoading",LoginLoading.__docgenInfo={description:"",displayName:"LoginLoading",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/LoginLoading.tsx#LoginLoading"]={docgenInfo:LoginLoading.__docgenInfo,name:"LoginLoading",path:"src/pages/login/components/LoginLoading.tsx#LoginLoading"})}catch(__react_docgen_typescript_loader_error){}var AgreeProtocol_jsx=react.createElement,AgreeProtocol=function AgreeProtocol(_ref){var onChange=_ref.onChange,value=_ref.value,className=_ref.className,text=_ref.text,disabled=_ref.disabled,id=_ref.id;return(0,hooks.Nt)()?AgreeProtocol_jsx("div",{className:classnames_default()("w-full mt-[38px] text-xs leading-[1.6] text-left relative",disabled?"h5:pl-4 text-xwhite/40":"h5:pl-[30px] text-xwhite/60",className)},AgreeProtocol_jsx("span",{onClick:function onClick(){!disabled&&onChange&&onChange(!value)},className:disabled?"":"cursor-pointer",id,"data-sensors-click":!0,"data-sensors-param":JSON.stringify({is_subscribe:value?0:1})},disabled?AgreeProtocol_jsx(xterio_icons_esm.IconWalletInfo12,{className:"!absolute top-1 left-0"}):AgreeProtocol_jsx(CheckBox,{className:"!absolute h5:top-0.5 left-0",value}),AgreeProtocol_jsx("span",{className:"break-word",dangerouslySetInnerHTML:{__html:text}}))):AgreeProtocol_jsx("div",{className:classnames_default()("w-full mt-[38px] web:text-sm h5:text-xs web:leading-5 h5:leading-[1.6] text-left relative web:pr-5",disabled?"pl-4 text-xwhite/40":"h5:pl-7 web:pl-7 text-xwhite/60",className)},AgreeProtocol_jsx("span",{onClick:function onClick(){!disabled&&onChange&&onChange(!value)},className:disabled?"":"cursor-pointer",id,"data-sensors-click":!0,"data-sensors-param":JSON.stringify({is_subscribe:value?0:1})},disabled?AgreeProtocol_jsx(xterio_icons_esm.IconWalletInfo12,{className:"absolute web:left-0 top-1 h5:left-0"}):AgreeProtocol_jsx(CheckBox,{className:"!absolute top-0 left-0",value}),AgreeProtocol_jsx("span",{className:"break-word web:leading-5 h5:leading-4",dangerouslySetInnerHTML:{__html:text}})))};AgreeProtocol.displayName="AgreeProtocol";try{AgreeProtocol.displayName="AgreeProtocol",AgreeProtocol.__docgenInfo={description:"",displayName:"AgreeProtocol",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((agreeProtocol: boolean) => void)"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/AgreeProtocol.tsx#AgreeProtocol"]={docgenInfo:AgreeProtocol.__docgenInfo,name:"AgreeProtocol",path:"src/pages/login/components/base/AgreeProtocol.tsx#AgreeProtocol"})}catch(__react_docgen_typescript_loader_error){}var BindEmailModal=__webpack_require__("./src/pages/settings/components/BindEmailModal.tsx"),service=__webpack_require__("./src/pages/settings/service.ts"),CancelSubscribe_jsx=react.createElement,CancelSubscribe=function CancelSubscribe(_ref){var _ref$isOpen=_ref.isOpen,isOpen=void 0!==_ref$isOpen&&_ref$isOpen,onClose=_ref.onClose,login=(0,contexts.bN)().login,_useBoolean=(0,es_useBoolean.Z)(!1),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),loading=_useBoolean2[0],_useBoolean2$=_useBoolean2[1],setFalse=_useBoolean2$.setFalse,setTrue=_useBoolean2$.setTrue,onConfirm=(0,react.useCallback)((0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setTrue(),_context.next=3,(0,service.xY)();case 3:return _context.next=5,login();case 5:noti.Z.noti("success","You have unsubscribed."),onClose(),setFalse();case 8:case"end":return _context.stop()}}),_callee)}))),[login,noti.Z.noti,onClose,setFalse,setTrue]);return CancelSubscribe_jsx(components.$o,{onConfirm,btnLoading:loading,isOpen,onClose},CancelSubscribe_jsx("div",{className:"flex flex-col items-center gap-3 mt-10 mx-10"},CancelSubscribe_jsx("h1",{className:"font-termina font-xbold text-base leading-xsnug uppercase text-xdarkblue text-center"},"confirm unsubscribe"),CancelSubscribe_jsx("div",{className:"font-poppins font-xextralight text-sm leading-xsnug text-black/60 text-center"},"If you unsubscribe, you will not receive any notifications from Xterio. Please confirm if you would like to unsubscribe.")))};CancelSubscribe.displayName="CancelSubscribe";try{CancelSubscribe.displayName="CancelSubscribe",CancelSubscribe.__docgenInfo={description:"",displayName:"CancelSubscribe",props:{isOpen:{defaultValue:{value:"false"},description:"",name:"isOpen",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/CancelSubscribe.tsx#CancelSubscribe"]={docgenInfo:CancelSubscribe.__docgenInfo,name:"CancelSubscribe",path:"src/pages/settings/components/CancelSubscribe.tsx#CancelSubscribe"})}catch(__react_docgen_typescript_loader_error){}var FontHeader_jsx=react.createElement,FontHeader_FontHeader=function FontHeader(_ref){var text=_ref.text,className=_ref.className;return FontHeader_jsx("div",{className:classnames_default()("relative overflow-hidden whitespace-nowrap","web:h-20","h5:h-14",className)},FontHeader_jsx("span",{className:classnames_default()("inline-block font-termina font-hollow font-xbold","web:ml-16 web:text-x-20","h5:ml-14 h5:text-x-14")},text),FontHeader_jsx("span",{className:classnames_default()("absolute top-1/2 -translate-y-1/2 z-10 text-xgradient1 font-termina font-xbold","web:left-0 web:text-5xl","h5:left-4 h5:text-2xl h5:leading-6")},text))};FontHeader_FontHeader.displayName="FontHeader";const components_FontHeader=FontHeader_FontHeader;try{FontHeader_FontHeader.displayName="FontHeader",FontHeader_FontHeader.__docgenInfo={description:"",displayName:"FontHeader",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/FontHeader.tsx#FontHeader"]={docgenInfo:FontHeader_FontHeader.__docgenInfo,name:"FontHeader",path:"src/pages/settings/components/FontHeader.tsx#FontHeader"})}catch(__react_docgen_typescript_loader_error){}var TwitterAuthorize_jsx=react.createElement,TwitterAuthorize=function TwitterAuthorize(_ref){var hasAuth=_ref.hasAuth,text=_ref.text,className=_ref.className,id=_ref.id,disabled=_ref.disabled,triggerAuthorize=_ref.triggerAuthorize,updateUserInfo=_ref.updateUserInfo,_useState=(0,react.useState)(!1),isChecked=_useState[0],setIsChecked=_useState[1],_useState2=(0,react.useState)(!1),isNeedAuthorize=_useState2[0],setIsNeedAuthorize=_useState2[1];(0,react.useEffect)((function(){setIsChecked(hasAuth),setIsNeedAuthorize(!hasAuth)}),[hasAuth]);var _useRequest=(0,es_useRequest.Z)(service.gY,{manual:!0,onSuccess:function onSuccess(res,params){updateUserInfo(),setIsNeedAuthorize(!1)},onError:function onError(err){if((0,error.hF)(err)&&11610===err.err_code)setIsNeedAuthorize(!0)}}),isUpdatingIdentify=_useRequest.loading,updateIdentifyInfo=_useRequest.run;return TwitterAuthorize_jsx("div",{className:classnames_default()("w-full",className)},TwitterAuthorize_jsx("div",{className:classnames_default()("relative text-xs web:leading-5 h5:leading-[1.6] text-left web:pr-5 font-poppins font-medium",disabled?"pl-4 text-xwhite/40":"h5:pl-7 web:pl-7 text-xwhite/60")},TwitterAuthorize_jsx("span",{onClick:function onClick(){disabled||setIsChecked((function(pre){var _isChecked=!pre;return updateIdentifyInfo(config_login.Io.Twitter,_isChecked),_isChecked}))},className:disabled?"":"cursor-pointer",id,"data-sensors-click":!0,"data-sensors-param":JSON.stringify({auth:isChecked?1:0})},disabled?TwitterAuthorize_jsx(xterio_icons_esm.IconWalletInfo12,{className:"absolute web:left-0 top-1 h5:left-0"}):TwitterAuthorize_jsx(CheckBox,{className:"!absolute top-0 left-0",value:isChecked}),TwitterAuthorize_jsx("span",{className:"break-word web:leading-5 h5:leading-4",dangerouslySetInnerHTML:{__html:text}}))),!isUpdatingIdentify&&isNeedAuthorize&&isChecked?TwitterAuthorize_jsx("div",{className:"flex items-center px-3 py-2 h5:mt-2 web:mt-[14px] font-poppins font-medium text-xs text-xpink bg-xpink/20"},TwitterAuthorize_jsx("span",null,"In order to display your twitter information, you need to authorize Xterio to fetch the number of your followers."),TwitterAuthorize_jsx(components.zx,{onClick:function onClick(){triggerAuthorize((function(){return updateIdentifyInfo(config_login.Io.Twitter,isChecked)}),(function(){return noti.Z.noti("success","Authorize succeeded.")}))},type:"white",size:"sm",className:"!px-2 h5:ml-5 web:ml-6 !font-poppins text-xwhite !bg-xpink"},"authorize")):null)};TwitterAuthorize.displayName="TwitterAuthorize";const components_TwitterAuthorize=TwitterAuthorize;try{TwitterAuthorize.displayName="TwitterAuthorize",TwitterAuthorize.__docgenInfo={description:"",displayName:"TwitterAuthorize",props:{hasAuth:{defaultValue:null,description:"",name:"hasAuth",required:!0,type:{name:"boolean"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},triggerAuthorize:{defaultValue:null,description:"",name:"triggerAuthorize",required:!0,type:{name:"(callback?: (() => void) | undefined, successNoti?: (() => void) | undefined) => void"}},updateUserInfo:{defaultValue:null,description:"",name:"updateUserInfo",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/TwitterAuthorize.tsx#TwitterAuthorize"]={docgenInfo:TwitterAuthorize.__docgenInfo,name:"TwitterAuthorize",path:"src/pages/settings/components/TwitterAuthorize.tsx#TwitterAuthorize"})}catch(__react_docgen_typescript_loader_error){}var AccountInfo_jsx=react.createElement,AccountInfo_AccountInfo=function AccountInfo(){var _useResponsive=(0,hooks.Fs)(["md"]),isLargerThanMD=(0,slicedToArray.Z)(_useResponsive,1)[0];(0,hooks.Aw)("account_setting");var _useGlobalContext=(0,contexts.bN)(),userInfo=_useGlobalContext.userInfo,login=_useGlobalContext.login,bindEmail=userInfo.email,subscribe=userInfo.subscribe,_userInfo$identity=userInfo.identity,identity=void 0===_userInfo$identity?[]:_userInfo$identity,userIdentityMap=(0,react.useMemo)((function(){var _userIdentityMap=new Map;return null==identity||identity.forEach((function(item){var provider=item.provider;_userIdentityMap.set(provider,item)})),_userIdentityMap}),[identity]),_useBoolean=(0,es_useBoolean.Z)(!1),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),ifSubscribe=_useBoolean2[0],_useBoolean2$=_useBoolean2[1],setSubscribeTrue=_useBoolean2$.setTrue,setSubscribeFalse=_useBoolean2$.setFalse;(0,react.useEffect)((function(){subscribe?setSubscribeTrue():setSubscribeFalse()}),[setSubscribeFalse,setSubscribeTrue,subscribe]);var _useBoolean3=(0,es_useBoolean.Z)(!1),_useBoolean4=(0,slicedToArray.Z)(_useBoolean3,2),showCancelModal=_useBoolean4[0],_useBoolean4$=_useBoolean4[1],setFalse=_useBoolean4$.setFalse,setTrue=_useBoolean4$.setTrue,_useBoolean5=(0,es_useBoolean.Z)(),_useBoolean6=(0,slicedToArray.Z)(_useBoolean5,2),loading=_useBoolean6[0],loadAction=_useBoolean6[1],_useState=(0,react.useState)(""),emailBtnText=_useState[0],setEmailBtnText=_useState[1];(0,react.useEffect)((function(){setEmailBtnText(bindEmail?"REPLACE":"BIND")}),[bindEmail]);var str,words,capitalizedWords,_useState2=(0,react.useState)(""),hoverType=_useState2[0],setHoverType=_useState2[1],onSubscribeChange=(0,react.useCallback)((0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!userInfo.subscribe){_context.next=4;break}setTrue(),_context.next=11;break;case 4:return loadAction.setTrue(),_context.next=7,(0,service.HH)();case 7:return _context.next=9,login();case 9:noti.Z.noti("success","Congratulations, you have successfully subscribed."),loadAction.setFalse();case 11:case"end":return _context.stop()}}),_callee)}))),[loadAction,login,noti.Z.noti,setTrue,userInfo.subscribe]),_useBoolean7=(0,es_useBoolean.Z)(!1),_useBoolean8=(0,slicedToArray.Z)(_useBoolean7,2),bindModalState=_useBoolean8[0],_useBoolean8$=_useBoolean8[1],closeBindModal=_useBoolean8$.setFalse,openBindModal=_useBoolean8$.setTrue,_useState3=(0,react.useState)(),currentIdentify=_useState3[0],setCurrentIdentiry=_useState3[1],_useXDebounceFn=(0,hooks.C3)(function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(code,bindType,successNoti){var result,type;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,service.t$)(code);case 2:if(result=_context2.sent,!(0,error.hF)(result)){_context2.next=13;break}_context2.t0=result.err_code,_context2.next=11121===_context2.t0?7:10;break;case 7:return type=bindType===config_login.Io.Twitter?"twitter":bindType,noti.Z.noti("error","This ".concat(type," account is bound to another account. ")),_context2.abrupt("break",11);case 10:noti.Z.noti("error",result.err_msg);case 11:_context2.next=15;break;case 13:null==successNoti||successNoti(),login();case 15:case"end":return _context2.stop()}}),_callee2)})));return function(_x,_x2,_x3){return _ref2.apply(this,arguments)}}()),bindCallback=_useXDebounceFn.run,_useState4=(0,react.useState)(!1),isConfirmUnbind=_useState4[0],setIsConfirmUnbind=_useState4[1],clientIdData=(0,es_useRequest.Z)((function(){return(0,fetchers.pv)("/account/v1/identity/providers")})).data,_useXDebounceFn2=(0,hooks.C3)(function(){var _ref4=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee3(_ref3){var provider,provider_sub,result,awsAuthorizedUrl,_logout_uri,iframe;return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return provider=_ref3.provider,provider_sub=_ref3.provider_sub,_context3.next=3,(0,service.tX)({provider,provider_sub});case 3:if(result=_context3.sent,!(0,error.hF)(result)){_context3.next=13;break}_context3.t0=result.err_code,_context3.next=11502===_context3.t0?8:10;break;case 8:return noti.Z.noti("error","Cannot unbind your very last login method."),_context3.abrupt("break",11);case 10:noti.Z.noti("error",result.err_msg);case 11:_context3.next=23;break;case 13:setIsConfirmUnbind(!1),noti.Z.noti("success","Unbind succeeded."),localStorage.setItem("isNew",""),awsAuthorizedUrl=config_login.wv.awsAuthorizedUrl,_logout_uri="".concat(location.origin),(iframe=document.createElement("iframe")).style.display="none",iframe.src="".concat(awsAuthorizedUrl,"?client_id=").concat((null==clientIdData?void 0:clientIdData.default_client_id)||"","&logout_uri=").concat(encodeURIComponent(_logout_uri)),document.body.appendChild(iframe),iframe.onload=function(){login(),document.body.removeChild(iframe)};case 23:case"end":return _context3.stop()}}),_callee3)})));return function(_x4){return _ref4.apply(this,arguments)}}()),unbind=_useXDebounceFn2.run;return AccountInfo_jsx("main",null,AccountInfo_jsx(components_FontHeader,{text:"ACCOUNT",className:"h5:mt-8"}),AccountInfo_jsx("section",{className:"h5:mt-6 web:mt-[18px] h5:mx-4"},AccountInfo_jsx(react.Fragment,null,AccountInfo_jsx(components.jD,{className:"flex items-center justify-between web:w-[640px] h5:h-[64px] web:h-[80px] h5:px-4 web:px-6 bg-xwhite/5 text-xwhite/75",cutSize:isLargerThanMD?"lg":"sm"},AccountInfo_jsx("span",{className:"flex items-center"},AccountInfo_jsx("span",{className:"flex items-center justify-center h5:w-8 h5:h-8 web:w-10 web:h-10 rounded-full bg-xwhite text-xdarkblue"},AccountInfo_jsx(xterio_icons_esm.IconEmail24,{size:isLargerThanMD?24:16})),AccountInfo_jsx("span",{className:"ml-3"},AccountInfo_jsx("p",{className:"web:text-x-base h5:text-x-sm font-bold"},"Email"),AccountInfo_jsx("p",{className:classnames_default()("font-termina font-medium h5:w-[44vw] text-x-xs text-xwhite/40 break-all line-clamp-2",{"web:mt-2 h5:mt-1":!!bindEmail})},bindEmail))),AccountInfo_jsx(components.zx,{type:bindEmail?"ghost":"linear",width:isLargerThanMD?112:88,styles:{minWidth:88,cursor:"pointer"},size:isLargerThanMD?"lg":"md",onClick:function onClick(){openBindModal(),setCurrentIdentiry(void 0)},onMouseOver:function onMouseOver(){bindEmail&&setEmailBtnText("REPLACE")},onMouseOut:function onMouseOut(){setEmailBtnText(bindEmail?"REPLACE":"BIND")}},emailBtnText)),AccountInfo_jsx(AgreeProtocol,{className:"web:!mt-3 h5:!mt-2 !text-x-xs font-poppins text-xwhite/60",id:"account_subscribe",value:ifSubscribe,onChange:onSubscribeChange,disabled:!bindEmail,text:"Subscribe to updates via email"}),AccountInfo_jsx(CancelSubscribe,{isOpen:showCancelModal,onClose:setFalse}),loading?AccountInfo_jsx(LoginLoading,{className:"web:!fixed"}):null),AccountInfo_jsx("div",{className:"mt-6 web:text-sm h5:text-xs space-y-2"},Array.from(config_login.OP.entries()).map((function(_ref5){var _ref6=(0,slicedToArray.Z)(_ref5,2),type=_ref6[0],_ref6$=_ref6[1],Icon=_ref6$.Icon,bgCircleColor=_ref6$.bgCircleColor,identity=userIdentityMap.get(type),hasType=!!identity,onBind=function onBind(_callback,successNoti){var _callback2,awsAuthorizedUrl=config_login.H5.awsAuthorizedUrl,redirect_uri=config_login.H5.redirect_uri,response_type=config_login.H5.response_type,scope=config_login.H5.scope,mode=config_login.H5.mode,_redirect_uri="".concat(location.origin).concat(redirect_uri);(0,aws_federated_login.A)({awsAuthorizedUrl:awsAuthorizedUrl||"".concat("https://api.playvrs.net","/op/v1/").concat(type,"/auth/authorize"),client_id:"8599836199636224",redirect_uri:_redirect_uri,response_type,scope,mode,callback:(_callback2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee4(response){return regenerator_default().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(null==response||!response.code){_context4.next=4;break}return _context4.next=3,bindCallback(response.code,type,successNoti);case 3:null==_callback||_callback();case 4:case"end":return _context4.stop()}}),_callee4)}))),function callback(_x5){return _callback2.apply(this,arguments)})})};return AccountInfo_jsx("div",{key:type},AccountInfo_jsx(components.jD,{className:"flex items-center justify-between web:w-[640px] h5:h-[64px] web:h-[80px] h5:px-4 web:px-6 bg-xwhite/5 text-xwhite/75",cutSize:isLargerThanMD?"lg":"sm"},AccountInfo_jsx("span",{className:"flex items-center"},AccountInfo_jsx("span",{className:"flex items-center justify-center web:w-10 web:h-10 h5:w-8 h5:h-8 rounded-full",style:{backgroundColor:bgCircleColor}},AccountInfo_jsx(Icon,{size:isLargerThanMD?24:16,color:"white"})),AccountInfo_jsx("span",{className:"ml-3"},AccountInfo_jsx("span",{className:classnames_default()("block web:text-x-base h5:text-x-sm text-xwhite/75 font-bold capitalize")},type.includes("twitter")?"twitter":type),hasType?AccountInfo_jsx("span",{className:"block mt-[3px] web:max-w-[400px] h5:max-w-[45vw] truncate ... text-xs text-xwhite/40"},identity.username):null)),hasType?AccountInfo_jsx(components.zx,{type:"ghost",width:isLargerThanMD?112:88,styles:{minWidth:88,cursor:"pointer"},size:isLargerThanMD?"lg":"md",onClick:function onClick(){setCurrentIdentiry(identity),setIsConfirmUnbind(!0)},onMouseOver:function onMouseOver(){setHoverType(type)},onMouseOut:function onMouseOut(){setHoverType("")}},type===hoverType&&isLargerThanMD?"Unbind":"Bound"):AccountInfo_jsx(components.zx,{onClick:function onClick(){onBind(void 0,(function(){return noti.Z.noti("success","Bind succeeded.")}))},width:isLargerThanMD?112:88,styles:{minWidth:88,cursor:"pointer"},size:isLargerThanMD?"lg":"md"},"BIND")),type.includes("twitter")&&hasType?AccountInfo_jsx(components_TwitterAuthorize,{hasAuth:!!hasType&&identity.auth,updateUserInfo:login,triggerAuthorize:onBind,text:"Display your twitter information on Xter.AI to attract more users to hold shards of your work.",className:"web:w-[640px] mt-2 mb-6"}):null)})))),AccountInfo_jsx(BindEmailModal.f,{isOpen:bindModalState,onClose:closeBindModal,title:"BIND EMAIL",desc:null!=currentIdentify&&currentIdentify.provider?"Before unbinding your ".concat((str=null!=currentIdentify&&currentIdentify.provider.includes("twitter")?"twitter":null==currentIdentify?void 0:currentIdentify.provider,words=str.split("_"),capitalizedWords=words.map((function(word){return word.charAt(0).toUpperCase()+word.slice(1)})),capitalizedWords.join(""))," account, you need to bind an email address to your account, which can be used to login."):"Bind email address to your account",onSuccess:closeBindModal}),AccountInfo_jsx(components.$o,{className:"!px-4 !mt-0 !pt-0",isOpen:isConfirmUnbind,contentClass:"!bg-[#eee] !text-xdarkblue",onClose:function onClose(){setIsConfirmUnbind(!1)},cancelTitle:"cancel",onConfirm:function onConfirm(){var _ref7=currentIdentify||{},_ref7$provider=_ref7.provider,provider=void 0===_ref7$provider?"":_ref7$provider,_ref7$provider_sub=_ref7.provider_sub,provider_sub=void 0===_ref7$provider_sub?"":_ref7$provider_sub;if(setIsConfirmUnbind(!1),!userInfo.email)return openBindModal();provider&&unbind({provider,provider_sub})}},AccountInfo_jsx("div",{className:"pt-9 text-right"},AccountInfo_jsx("div",{className:"uppercase font-termina text-center font-xbold text-base mb-3"},"UNBIND CONFIRM")),AccountInfo_jsx("p",{className:"font-poppins px-8 font-xextralight text-center text-sm text-black/60"},"Confirm to unbind this ".concat(null!=currentIdentify&&currentIdentify.provider.includes("twitter")?"twitter":null==currentIdentify?void 0:currentIdentify.provider," account"))))};AccountInfo_AccountInfo.displayName="AccountInfo";try{AccountInfo_AccountInfo.displayName="AccountInfo",AccountInfo_AccountInfo.__docgenInfo={description:"",displayName:"AccountInfo",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/AccountInfo.tsx#AccountInfo"]={docgenInfo:AccountInfo_AccountInfo.__docgenInfo,name:"AccountInfo",path:"src/pages/settings/AccountInfo.tsx#AccountInfo"})}catch(__react_docgen_typescript_loader_error){}var LoginModal_const=__webpack_require__("./src/components/LoginModal/const.ts"),useDebounceFn=__webpack_require__("./node_modules/ahooks/es/useDebounceFn/index.js"),global_context=__webpack_require__("./src/contexts/global-context/index.tsx"),PasswordTips_jsx=react.createElement,CheckItem=function CheckItem(_ref){var _ref$text=_ref.text,text=void 0===_ref$text?"":_ref$text,_ref$pass=_ref.pass;return PasswordTips_jsx("div",{className:"flex items-center h5:mb-4 web:mb-3 last:mb-0"},void 0!==_ref$pass&&_ref$pass?PasswordTips_jsx(xterio_icons_esm.IconCheckRight12,{className:"text-xcyan"}):PasswordTips_jsx(xterio_icons_esm.IconCheckError12,{className:"text-xpink"}),PasswordTips_jsx("span",{className:"flex-1 pl-2 font-poppins text-xwhite/60 font-xlight text-xs leading-none"},text))};CheckItem.displayName="CheckItem";var PasswordTips=function PasswordTips(_ref2){var password=_ref2.password,t=(0,hooks_useEasyTranslation.Z)().t,checkList=(0,react.useMemo)((function(){return[{checkFn:function checkFn(val){return val.length>=8},text:t("login.password.length")},{checkFn:function checkFn(val){return/\d/.test(val)},text:t("login.password.number")},{checkFn:function checkFn(val){return/[A-Z]/.test(val)},text:t("login.password.upper")},{checkFn:function checkFn(val){return!val.includes(" ")},text:t("login.password.spaces")}]}),[t]);return PasswordTips_jsx(react.Fragment,null,PasswordTips_jsx(components.ph,null,PasswordTips_jsx(components.jD,{cutSize:"sm",className:"w-[185px] bg-darkblue inline-block h-[116px] p-4 bg-black-op30 text-xwhite !absolute z-20 -top-[26px] -right-[197px]",border:!0},checkList.map((function(i){return PasswordTips_jsx(CheckItem,{key:i.text,text:i.text,pass:i.checkFn(password)})})))),PasswordTips_jsx(components.H5,null,PasswordTips_jsx(components.jD,{cutSize:"sm",className:"w-full bg-darkblue flex-wrap inline-flex pb-0 flex-row h-auto p-4 pl-2 pr-0 bg-black-op30 text-xwhite mt-2 right-0",border:!0},checkList.map((function(i){return PasswordTips_jsx("div",{key:i.text,className:"min-w-[50%] flex-1 mb-4 pl-2"},PasswordTips_jsx(CheckItem,{text:i.text,pass:i.checkFn(password)}))})))))};try{PasswordTips.displayName="PasswordTips",PasswordTips.__docgenInfo={description:"",displayName:"PasswordTips",props:{password:{defaultValue:null,description:"",name:"password",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/PasswordTips.tsx#PasswordTips"]={docgenInfo:PasswordTips.__docgenInfo,name:"PasswordTips",path:"src/pages/login/components/base/PasswordTips.tsx#PasswordTips"})}catch(__react_docgen_typescript_loader_error){}var Input_excluded=["value","errorMsg","isError"],Input_jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var InputTheme={normal:{text:"text-xwhite",caret:"caret-xcyan",borderWithoutHover:"border-xwhite/20",border:"border-xwhite/20 md:hover:border-xcyan",font:"font-termina font-xbold",placeholder:"web:text-base h5:text-sm h5:landscape:text-sm placeholder-xwhite/40 placeholder:font-xlight",placeholderSpan:"text-xwhite/40",focusBorder:"border-xcyan",errorBorder:"border-error"},dark:{text:"text-xdarkblue",caret:"caret-xgray",borderWithoutHover:"border-xgray/40",border:"border-xgray/40 md:hover:border-xgray",font:"font-termina font-xbold",placeholder:"web:text-base h5:text-sm h5:landscape:text-sm placeholder-xgray/40 placeholder:font-xlight",placeholderSpan:"text-xgray/40",focusBorder:"border-xcyan",errorBorder:"border-error"},disabled:{text:"text-xwhite/20",caret:"caret-xcyan",borderWithoutHover:"border-xwhite/10",border:"border-xwhite/10 md:hover:border-xcyan",font:"font-termina font-xbold",placeholder:"web:text-base h5:text-sm h5:landscape:text-sm placeholder-xwhite/20 placeholder:font-xlight",placeholderSpan:"text-xwhite/20",focusBorder:"border-xcyan",errorBorder:"border-error"}},Input_LoginInput=function LoginInput(_ref){var placeholder=_ref.placeholder,value=_ref.value,_ref$errorMsg=_ref.errorMsg,errorMsg=void 0===_ref$errorMsg?"":_ref$errorMsg,_ref$theme=_ref.theme,theme=void 0===_ref$theme?"normal":_ref$theme,_ref$type=_ref.type,type=void 0===_ref$type?"email":_ref$type,_ref$typeHide=_ref.typeHide,typeHide=void 0!==_ref$typeHide&&_ref$typeHide,showPasswordTips=_ref.showPasswordTips,_ref$autoComplete=_ref.autoComplete,autoComplete=void 0===_ref$autoComplete?"on":_ref$autoComplete,className=_ref.className,_ref$inputClassName=_ref.inputClassName,inputClassName=void 0===_ref$inputClassName?"":_ref$inputClassName,_ref$suffix=_ref.suffix,suffix=void 0===_ref$suffix?null:_ref$suffix,onChange=_ref.onChange,onClear=_ref.onClear,onBlur=_ref.onBlur,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,searchInputRef=(0,react.useRef)(null),_useState=(0,react.useState)(!1),focus=_useState[0],setFocus=_useState[1],_useResponsive=(0,hooks.Fs)("md"),isLargerThanMD=(0,slicedToArray.Z)(_useResponsive,1)[0],sniffer=(0,global_context.bN)().sniffer,themeStyle=(0,react.useMemo)((function(){return disabled?InputTheme.disabled:InputTheme[theme]}),[disabled,theme]),_useBoolean=(0,es_useBoolean.Z)("password"===type),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),hide=_useBoolean2[0],hideActions=_useBoolean2[1],error=!!errorMsg&&!!value&&!focus,isMobileLandscape=(0,hooks.Nt)(),_useDebounceFn=(0,useDebounceFn.Z)((function(){setFocus(!1)}),{wait:50}),run=_useDebounceFn.run,cancel=_useDebounceFn.cancel;(0,react.useEffect)((function(){var _searchInputRef$curre;"editControl"===type&&!1===disabled&&(null===(_searchInputRef$curre=searchInputRef.current)||void 0===_searchInputRef$curre||_searchInputRef$curre.focus())}),[type,disabled]);var onFocus=(0,react.useCallback)((function(){cancel(),setFocus(!0)}),[cancel]),isUp=focus||value;return Input_jsx("div",{className:classnames_default()(className,"w-full")},Input_jsx("div",{className:classnames_default()("w-full border rounded-full mx-auto group relative",isLargerThanMD&&!isMobileLandscape?"pr-6 pl-10 h-16":"pr-4 pl-8 h-12",disabled&&themeStyle.borderWithoutHover,error&&!disabled&&themeStyle.errorBorder,!focus&&!error&&!disabled&&themeStyle.border,focus&&!error&&!disabled&&themeStyle.focusBorder,{"cursor-text":!disabled,"cursor-not-allowed bg-xwhite/5":!!disabled})},"verifyCode"!==type&&!1===typeHide?Input_jsx("span",{className:classnames_default()("transition-all absolute leading-none",isLargerThanMD&&!isMobileLandscape?"left-10":"left-8",isUp?isLargerThanMD&&!isMobileLandscape?"top-[14px] left-10 text-xs":"top-2 left-8 text-xs":isLargerThanMD&&!isMobileLandscape?"text-base top-6":"text-sm top-4",themeStyle.placeholderSpan),onClick:function onClick(){var _searchInputRef$curre2;null===(_searchInputRef$curre2=searchInputRef.current)||void 0===_searchInputRef$curre2||_searchInputRef$curre2.focus()}},placeholder):null,Input_jsx("div",{className:classnames_default()("h-full w-full flex items-center"),onClick:function onClick(){var _searchInputRef$curre3;null===(_searchInputRef$curre3=searchInputRef.current)||void 0===_searchInputRef$curre3||_searchInputRef$curre3.focus()}},Input_jsx("input",{type:hide&&("off"!==autoComplete||value)?"password":"text",onFocus,autoComplete,onBlur:function(_onBlur){function onBlur(){return _onBlur.apply(this,arguments)}return onBlur.toString=function(){return _onBlur.toString()},onBlur}((function(){run(),onBlur&&onBlur()})),placeholder:"verifyCode"!==type&&!1===typeHide?"":placeholder,ref:searchInputRef,className:classnames_default()("outline-none w-full pr-4 bg-transparent leading-none autofill:bg-transparent",isLargerThanMD&&!isMobileLandscape?"text-base":"text-sm",{"cursor-not-allowed":!!disabled},(0,defineProperty.Z)({},themeStyle.text,themeStyle.text),(0,defineProperty.Z)({},themeStyle.caret,themeStyle.caret),(0,defineProperty.Z)({},themeStyle.font,themeStyle.font),(0,defineProperty.Z)({},themeStyle.placeholder,themeStyle.placeholder),"verifyCode"!==type&&"self-start","verifyCode"!==type?null!=sniffer&&sniffer.isSafari?isLargerThanMD&&!isMobileLandscape?"".concat(typeHide?"mt-[20px]":"mt-[30px]"):"".concat(typeHide?"mt-[13px]":"mt-[22px]"," "):isLargerThanMD&&!isMobileLandscape?"".concat(typeHide?"mt-[24px]":"mt-[34px]"," h-[18px]"):"".concat(typeHide?"mt-[16px]":"mt-[26px]"," h-[16px]"):"",inputClassName),value,onChange,onKeyDown:function onKeyDown(e){var _searchInputRef$curre4;"Enter"===e.key&&(null===(_searchInputRef$curre4=searchInputRef.current)||void 0===_searchInputRef$curre4||_searchInputRef$curre4.blur())},disabled:!!disabled}),Input_jsx("div",{className:"flex h5:gap-4 web:gap-6 landscape:gap-4 items-center",onMouseDown:function onMouseDown(e){e.stopPropagation(),e.preventDefault()}},value&&focus&&!1===disabled?Input_jsx(xterio_icons_esm.IconClose24,{onClick:function onClick(){null==onClear||onClear()},className:"text-xwhite/20 cursor-pointer web:hover:text-xwhite/40"}):null,"password"===type?hide?Input_jsx(xterio_icons_esm.IconShow24,{onClick:function onClick(){hideActions.setFalse()},className:"text-xwhite/20 cursor-pointer web:hover:text-xwhite/40"}):Input_jsx(xterio_icons_esm.IconHide24,{onClick:function onClick(){hideActions.setTrue()},className:"text-xwhite/20 cursor-pointer web:hover:text-xwhite/40"}):null,suffix)),showPasswordTips&&value&&focus&&isLargerThanMD&&!isMobileLandscape?Input_jsx(PasswordTips,{password:value}):null),isLargerThanMD&&!isMobileLandscape||!showPasswordTips?null:Input_jsx(Ani,{heightClass:"max-h-[120px]",show:!(!value||!focus)},Input_jsx(PasswordTips,{password:value})),Input_jsx(Ani,{heightClass:"max-h-8",show:error},Input_jsx("div",{className:"text-error text-xs leading-none pb-[2px] font-termina font-xlight pt-[8px] break-words"},errorMsg)))};function CheckErrorLoginInput(props){var _useState2=(0,react.useState)(""),error=_useState2[0],setErrorMsg=_useState2[1],value=props.value,errorMsg=props.errorMsg,isError=props.isError,rest=(0,objectWithoutProperties.Z)(props,Input_excluded),onCheck=(0,useDebounceFn.Z)((function(value,isError,errorMsg){"function"!=typeof isError&&"boolean"!=typeof isError||(("function"==typeof isError?isError(value):isError)?("string"==typeof errorMsg&&setErrorMsg(errorMsg),"function"==typeof errorMsg&&setErrorMsg(errorMsg(_objectSpread(_objectSpread({},rest),{},{value})))):setErrorMsg(""))}),{wait:500});return(0,react.useEffect)((function(){setErrorMsg(""),onCheck.run(value,isError,errorMsg)}),[onCheck.run,value,isError,errorMsg]),Input_jsx(Input_LoginInput,(0,esm_extends.Z)({errorMsg:error,value},rest))}Input_LoginInput.displayName="LoginInput",CheckErrorLoginInput.displayName="CheckErrorLoginInput";try{CheckErrorLoginInput.displayName="CheckErrorLoginInput",CheckErrorLoginInput.__docgenInfo={description:"",displayName:"CheckErrorLoginInput",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},type:{defaultValue:{value:"email"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"email"'},{value:'"password"'},{value:'"verifyCode"'},{value:'"editControl"'}]}},inputClassName:{defaultValue:{value:""},description:"",name:"inputClassName",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"on"},description:"",name:"autoComplete",required:!1,type:{name:"enum",value:[{value:'"on"'},{value:'"off"'}]}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},suffix:{defaultValue:{value:"null"},description:"",name:"suffix",required:!1,type:{name:"Element | null"}},theme:{defaultValue:{value:"normal"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"dark"'}]}},showPasswordTips:{defaultValue:null,description:"",name:"showPasswordTips",required:!1,type:{name:"boolean"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},typeHide:{defaultValue:{value:"false"},description:"",name:"typeHide",required:!1,type:{name:"boolean"}},errorMsg:{defaultValue:{value:""},description:"",name:"errorMsg",required:!1,type:{name:"string | ((props: LoginInputProps) => string)"}},isError:{defaultValue:null,description:"",name:"isError",required:!1,type:{name:"boolean | ((value: string) => boolean)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/Input.tsx#CheckErrorLoginInput"]={docgenInfo:CheckErrorLoginInput.__docgenInfo,name:"CheckErrorLoginInput",path:"src/pages/login/components/base/Input.tsx#CheckErrorLoginInput"})}catch(__react_docgen_typescript_loader_error){}try{Input_LoginInput.displayName="LoginInput",Input_LoginInput.__docgenInfo={description:"",displayName:"LoginInput",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},inputClassName:{defaultValue:{value:""},description:"",name:"inputClassName",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"on"},description:"",name:"autoComplete",required:!1,type:{name:"enum",value:[{value:'"on"'},{value:'"off"'}]}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},suffix:{defaultValue:{value:"null"},description:"",name:"suffix",required:!1,type:{name:"Element | null"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},errorMsg:{defaultValue:{value:""},description:"",name:"errorMsg",required:!1,type:{name:"string"}},type:{defaultValue:{value:"email"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"email"'},{value:'"password"'},{value:'"verifyCode"'},{value:'"editControl"'}]}},typeHide:{defaultValue:{value:"false"},description:"",name:"typeHide",required:!1,type:{name:"boolean"}},theme:{defaultValue:{value:"normal"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"dark"'}]}},showPasswordTips:{defaultValue:null,description:"",name:"showPasswordTips",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/login/components/base/Input.tsx#LoginInput"]={docgenInfo:Input_LoginInput.__docgenInfo,name:"LoginInput",path:"src/pages/login/components/base/Input.tsx#LoginInput"})}catch(__react_docgen_typescript_loader_error){}var ChangePassword_jsx=react.createElement,ChangePassword_ChangePassword=function ChangePassword(){var t=useEasyTranslation().t,_useResponsive=(useRouter(),useResponsive(["md"])),isLargerThanMD=_slicedToArray(_useResponsive,1)[0],_useBoolean=useBoolean(!1),_useBoolean2=_slicedToArray(_useBoolean,2),ifSetAccountPassword=_useBoolean2[0],setPasswordTrue=_useBoolean2[1].setTrue,_useGlobalContext=useGlobalContext(),userInfo=_useGlobalContext.userInfo,login=_useGlobalContext.login,signInModalState=_useGlobalContext.signInModalState,bindEmail=userInfo.email,password=userInfo.password,source=userInfo.source,noPwd=useMemo((function(){return 0===password&&0!==source}),[password,source]),hasEmailNoPwd=useMemo((function(){return bindEmail&&noPwd}),[bindEmail,noPwd]);usePageMountTrack("password_setting");var _useState=useState(""),oldPassword=_useState[0],setOldPassword=_useState[1],_useState2=useState(""),oldPasswordErrMsg=_useState2[0],setOldPasswordErrMsg=_useState2[1];useEffect((function(){setOldPasswordErrMsg("")}),[oldPassword]);var _useState3=useState(""),newPassword=_useState3[0],setNewPassword=_useState3[1],newPasswordErrMsg=useMemo((function(){return checkPassword(newPassword,t("login.errMsg.password"))}),[newPassword,t]),_useState4=useState(""),confirmPassword=_useState4[0],setConfirmPassword=_useState4[1],confirmPasswordErrMsg=useMemo((function(){return confirmPassword===newPassword?"":t("login.errMsg.match")}),[confirmPassword,newPassword,t]),_useState5=useState(""),code=_useState5[0],setCode=_useState5[1],_useState6=useState(""),codeErrorMsg=_useState6[0],setCodeErrorMsg=_useState6[1];useEffect((function(){setCodeErrorMsg(isRightCode(code)?"":"Invalid code.")}),[code]);var _useState7=useState(""),email=_useState7[0],setEmail=_useState7[1];useEffect((function(){setEmail(bindEmail||"")}),[bindEmail]);var _useState8=useState(!1),isSended=_useState8[0],setIsSended=_useState8[1],_useState9=useState(""),emailErrMsg=_useState9[0],setEmailErrMsg=_useState9[1];useEffect((function(){setIsSended(!1),setEmailErrMsg(isEmail(email)?"":"Invalid email.")}),[email]);var _useSecondsCountdown=useSecondsCountdown(),seconds=_useSecondsCountdown.seconds,startCountdown=_useSecondsCountdown.start,_useRequest=(_useSecondsCountdown.stop,useRequest((function(email){return bindEmail?sendCode(email):sendCodeToEmail(email)}),{debounceWait:300,manual:!0,onSuccess:function onSuccess(res){if(isResultError(res))switch(res.err_code){case 11105:setEmailErrMsg("This email address is bound to another account.");break;case 11008:setEmailErrMsg("Please enter a new email address.");break;case 10001:setEmailErrMsg("Invalid email.");break;default:setEmailErrMsg(res.err_msg)}else startCountdown(),setIsSended(!0)}})),getEmailCode=_useRequest.run,_useState10=useState(!0),isPwdBtnDisable=_useState10[0],setIsPwdBtnDisable=_useState10[1];useEffect((function(){!bindEmail&&noPwd?setIsPwdBtnDisable(!(email&&code&&newPassword&&confirmPassword&&!emailErrMsg&&!codeErrorMsg&&!newPasswordErrMsg&&!confirmPasswordErrMsg)):hasEmailNoPwd?setIsPwdBtnDisable(!(code&&newPassword&&confirmPassword&&!codeErrorMsg&&!newPasswordErrMsg&&!confirmPasswordErrMsg)):noPwd||setIsPwdBtnDisable(!(oldPassword&&newPassword&&confirmPassword&&!oldPasswordErrMsg&&!newPasswordErrMsg&&!confirmPasswordErrMsg))}),[bindEmail,code,codeErrorMsg,confirmPassword,confirmPasswordErrMsg,email,emailErrMsg,hasEmailNoPwd,newPassword,newPasswordErrMsg,noPwd,oldPassword,oldPasswordErrMsg,password]);var _useRequest2=useRequest((function(_ref){var email=_ref.email,code=_ref.code,oldPassword=_ref.oldPassword,newPassword=_ref.newPassword;return!bindEmail&&noPwd?postBindEmailAndChangePwd({code,password:newPassword}):hasEmailNoPwd?resetPassword(email,code,newPassword):noPwd?Promise.resolve():updatePassword({password:oldPassword,new_password:newPassword})}),{debounceWait:300,manual:!0,onSuccess:function onSuccess(res,params){isResultError(res)?11001===res.err_code?setOldPasswordErrMsg("Failed, wrong password."):11111===res.err_code?setCodeErrorMsg("Invalid verification code."):(TOAST.noti("error","Failed, please try again later."),eventTrack("ChangePassword",{is_success:!1,fail_reason:res.err_code+res.err_msg})):(!params[0].email&&params[0].code?TOAST.noti("success","Account email and password set successfully."):params[0].email?TOAST.noti("success","You have successfully set your password."):TOAST.noti("success","Password changed."),bindEmail||setEmail(""),setCode(""),setOldPassword(""),setNewPassword(""),setConfirmPassword(""),login())},onError:function onError(err){11001===(null==err?void 0:err.err_code)?setOldPasswordErrMsg("Failed, wrong password."):11111===(null==err?void 0:err.err_code)?setCodeErrorMsg("Invalid verification code."):TOAST.noti("error","Failed, please try again later."),eventTrack("ChangePassword",{is_success:!1,fail_reason:err})}}),isSubmitting=_useRequest2.loading,changePassword=_useRequest2.run;return ChangePassword_jsx(React.Fragment,null,ChangePassword_jsx(FontHeader,{text:"PASSWORD",className:"h5:mt-8"}),ChangePassword_jsx("main",{className:"web:mt-10 h5:mt-6 h5:mx-4"},bindEmail||ifSetAccountPassword?ChangePassword_jsx(React.Fragment,null,noPwd?ChangePassword_jsx(React.Fragment,null,ChangePassword_jsx("h3",{className:"web:text-x-2xl h5:text-x-xl font-bold uppercase"},"Set Account Password"),bindEmail?ChangePassword_jsx("div",{className:"flex web:flex-row h5:flex-col web:mt-4 h5:mt-2 font-medium text-x-xs text-xwhite/60"},ChangePassword_jsx("span",null,"The bound email address is: "),ChangePassword_jsx("span",{className:"h5:mt-1"},bindEmail)):null,ChangePassword_jsx("div",null,bindEmail?null:ChangePassword_jsx(LoginInput,{type:"email",errorMsg:emailErrMsg,className:"web:w-[640px] web:mt-6 h5:w-full h5:mt-4",value:email,onClear:function onClear(){return setEmail("")},onChange:function onChange(e){return setEmail(e.target.value.replaceAll(" ",""))},placeholder:"EMAIL",autoComplete:"off"}),ChangePassword_jsx(LoginInput,{errorMsg:codeErrorMsg,onClear:function onClear(){return setCode("")},value:code,className:classNames("web:w-[640px] web:mt-6 h5:w-full",{"h5:mt-3":bindEmail,"h5:mt-4":!bindEmail}),type:"verifyCode",onChange:function onChange(e){return setCode(e.target.value.replace(/[^0-9]/gi,"").slice(0,6))},placeholder:isSended?"VERIFICATIO...":"VERIFICATION CODE",autoComplete:"off",suffix:seconds?ChangePassword_jsx("span",{className:" text-xwhite/40 font-termina leading-none font-xlight h5:text-sm web:text-base"},t("login.verify.resendTime",{time:seconds})):ChangePassword_jsx("span",{onClick:function onClick(){getEmailCode(email),eventTrack("code_send_button",{email:bindEmail})},className:classNames("font-termina leading-none h5:text-sm web:text-base",isEmail(email)?"text-xcyan font-xbold cursor-pointer":"text-xwhite-op40")},isSended?"RESEND":"SEND")}))):ChangePassword_jsx(React.Fragment,null,ChangePassword_jsx("h3",{className:"web:text-x-2xl h5:text-x-xl font-bold uppercase"},"Change Password"),ChangePassword_jsx(LoginInput,{disabled:!bindEmail,className:"web:w-[640px] h5:w-full web:mt-[30px] h5:mt-6",type:"password",showPasswordTips:!0,errorMsg:oldPasswordErrMsg,onClear:function onClear(){return setOldPassword("")},onChange:function onChange(e){return setOldPassword(e.target.value)},value:oldPassword,placeholder:"OLD PASSWORD",autoComplete:"off"}),ChangePassword_jsx("span",{className:classNames("inline-block mt-3 text-xcyan self-end web:pr-5 web:text-sm h5:text-xs !leading-none text-right",{"opacity-30 cursor-not-allowed":!bindEmail,"cursor-pointer web:hover:underline":!!bindEmail}),onClick:function onClick(){return!!bindEmail&&signInModalState.toLogin(LoginModalEnumEleType.Reset)}},"FORGET PASSWORD")),ChangePassword_jsx(LoginInput,{className:"web:w-[640px] web:mt-6 h5:w-full h5:mt-4",type:"password",showPasswordTips:!0,errorMsg:newPasswordErrMsg,onClear:function onClear(){return setNewPassword("")},onChange:function onChange(e){return setNewPassword(e.target.value)},value:newPassword,placeholder:"NEW PASSWORD",autoComplete:"off"}),ChangePassword_jsx(LoginInput,{className:"web:w-[640px] web:mt-6 h5:w-full h5:mt-4",type:"password",errorMsg:confirmPasswordErrMsg,onClear:function onClear(){return setConfirmPassword("")},onChange:function onChange(e){return setConfirmPassword(e.target.value)},value:confirmPassword,placeholder:"CONFIRM PASSWORD",autoComplete:"off"}),ChangePassword_jsx(Button,{type:"linear",size:"max",loadingVariant:"blue",onClick:function onClick(){!bindEmail&&noPwd?changePassword({code,newPassword}):hasEmailNoPwd?changePassword({email:bindEmail,code,newPassword}):noPwd||changePassword({oldPassword,newPassword}),eventTrack("password_submit",{email:bindEmail})},disabled:isPwdBtnDisable||isSubmitting,loading:isSubmitting,className:classNames("web:!w-[285px] web:h-[64px] web:mt-10 web:text-base web:leading-[48px]","h5:!w-full h5:h-12 h5:mt-8")},"SUBMIT")):ChangePassword_jsx(React.Fragment,null,ChangePassword_jsx("h3",{className:"web:text-x-2xl h5:text-x-xl font-bold uppercase"},"MY Account Password"),ChangePassword_jsx("p",{className:"web:mt-4 h5:mt-3 web:text-sm h5:text-xs font-medium"},"Account password not set yet. Setup your account password to enable email and password sign in."),ChangePassword_jsx(Button,{onClick:setPasswordTrue,width:isLargerThanMD?421:"100%",className:"web:mt-6 h5:mt-4",size:"max"},ChangePassword_jsx("span",{className:"web:text-lg h5:text-sm"},"Setup Account Password")))))};try{ChangePassword_ChangePassword.displayName="ChangePassword",ChangePassword_ChangePassword.__docgenInfo={description:"",displayName:"ChangePassword",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/ChangePassword.tsx#ChangePassword"]={docgenInfo:ChangePassword_ChangePassword.__docgenInfo,name:"ChangePassword",path:"src/pages/settings/ChangePassword.tsx#ChangePassword"})}catch(__react_docgen_typescript_loader_error){}var isEmpty=__webpack_require__("./node_modules/lodash-es/isEmpty.js"),lib=__webpack_require__("./node_modules/react-copy-to-clipboard/lib/index.js"),lib_default=__webpack_require__.n(lib),wrapNativeSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js"),dist_compressor=__webpack_require__("./node_modules/compressorjs/dist/compressor.js"),compressor_default=__webpack_require__.n(dist_compressor),console=__webpack_require__("./node_modules/console-browserify/index.js"),utils_excluded=["quality"];function utils_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function utils_callSuper(t,o,e){return o=(0,getPrototypeOf.Z)(o),(0,possibleConstructorReturn.Z)(t,utils_isNativeReflectConstruct()?Reflect.construct(o,e||[],(0,getPrototypeOf.Z)(t).constructor):o.apply(t,e))}function utils_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(utils_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var UploadAjaxError=function(_Error){function UploadAjaxError(message,status,method,url){var _this;return(0,classCallCheck.Z)(this,UploadAjaxError),_this=utils_callSuper(this,UploadAjaxError,[message]),(0,defineProperty.Z)(_this,"status",void 0),(0,defineProperty.Z)(_this,"method",void 0),(0,defineProperty.Z)(_this,"url",void 0),_this.status=status,_this.method=method,_this.url=url,_this}return(0,inherits.Z)(UploadAjaxError,_Error),(0,createClass.Z)(UploadAjaxError)}((0,wrapNativeSuper.Z)(Error)),ajaxUpload=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(options){var requestUrl,data,file,onError,onSuccess,onFinish,onProgress,_yield$postFetcher$ca,url,staticUrl,xhr;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return requestUrl=options.url,data=options.data,file=options.file,onError=options.onError,onSuccess=options.onSuccess,onFinish=options.onFinish,onProgress=options.onProgress,_context.next=3,(0,fetchers.UT)(requestUrl,null!=data?data:{}).catch((function(e){return{url:"",static:""}}));case 3:if(_yield$postFetcher$ca=_context.sent,url=_yield$postFetcher$ca.url,staticUrl=_yield$postFetcher$ca.static,url){_context.next=9;break}return null==onError||onError(new UploadAjaxError("get staticUrl failed.",void 0,"POST",requestUrl)),_context.abrupt("return","");case 9:(xhr=new XMLHttpRequest).upload&&xhr.upload.addEventListener("progress",(function(e){var progress=e.total>0?e.loaded/e.total:0;null==onProgress||onProgress(progress)})),xhr.addEventListener("error",(function(){null==onError||onError(new UploadAjaxError(xhr.statusText||"upload aws failed.",xhr.status,"PUT",url))})),xhr.addEventListener("load",(function(){if(xhr.status<200||xhr.status>=300)return null==onError?void 0:onError(new UploadAjaxError(xhr.statusText||"upload aws failed.",xhr.status,"PUT",url));null==onSuccess||onSuccess({staticUrl})})),xhr.addEventListener("loadend",(function(){null==onFinish||onFinish({staticUrl:200===xhr.status?staticUrl:""})})),xhr.open("PUT",url,!0),xhr.send(file);case 16:case"end":return _context.stop()}}),_callee)})));return function ajaxUpload(_x){return _ref.apply(this,arguments)}}(),checkFileLimit=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(file,config){var type,width,height,aspectRatio,size,duration,ext,img,video;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(type=config.type,width=config.width,height=config.height,aspectRatio=config.aspectRatio,size=config.size,duration=config.duration,ext=config.ext,!(size&&file.size/1024/1024>size)){_context2.next=3;break}return _context2.abrupt("return",{valid:!1,attr:"size"});case 3:if(!ext||null==ext||!ext[0]||ext.some((function(i){return file.type.endsWith(i)}))){_context2.next=5;break}return _context2.abrupt("return",{valid:!1,attr:"ext"});case 5:if(!file.type.includes("image")){_context2.next=29;break}if(!(type||aspectRatio||width||height)){_context2.next=27;break}return _context2.next=9,getImage(file);case 9:if(img=_context2.sent,"proportion"!==type||!aspectRatio||img.width/img.height===aspectRatio){_context2.next=14;break}return _context2.abrupt("return",{valid:!1,attr:"proportion"});case 14:if("equal"!==type||!width&&!height){_context2.next=21;break}if(!width||img.width===width){_context2.next=17;break}return _context2.abrupt("return",{valid:!1,attr:"equal"});case 17:if(!height||img.height===height){_context2.next=19;break}return _context2.abrupt("return",{valid:!1,attr:"equal"});case 19:_context2.next=27;break;case 21:if("vertical"!==type||img.width<img.height){_context2.next=25;break}return _context2.abrupt("return",{valid:!1,attr:"vertical"});case 25:if("horizontal"!==type||img.width>img.height){_context2.next=27;break}return _context2.abrupt("return",{valid:!1,attr:"horizontal"});case 27:_context2.next=44;break;case 29:if(!file.type.includes("video")){_context2.next=44;break}if(!(duration||width||height)){_context2.next=44;break}return _context2.next=33,getVideo(file);case 33:if(video=_context2.sent,!(duration&&Math.floor(video.duration)>duration)){_context2.next=38;break}return _context2.abrupt("return",{valid:!1,attr:"duration"});case 38:if(!width||video.videoWidth===width){_context2.next=42;break}return _context2.abrupt("return",{valid:!1,attr:"equal"});case 42:if(!height||video.videoHeight===height){_context2.next=44;break}return _context2.abrupt("return",{valid:!1,attr:"equal"});case 44:return _context2.abrupt("return",{valid:!0});case 45:case"end":return _context2.stop()}}),_callee2)})));return function checkFileLimit(_x2,_x3){return _ref2.apply(this,arguments)}}(),getImage=function getImage(file){var _URL=window.URL||window.webkitURL;return new Promise((function(resolve,reject){var img=new Image;img.onload=function(){resolve(img)},img.src=_URL.createObjectURL(file)}))},getVideo=function getVideo(file){var _URL=window.URL||window.webkitURL;return new Promise((function(resolve,reject){var video=document.createElement("video");video.onloadeddata=function(){resolve(video)},video.onerror=function(){reject(null)},video.setAttribute("preload","auto"),video.src=_URL.createObjectURL(file)}))},compressor=function compressor(rawFile,option){var _ref4=null!=option?option:{},_ref4$quality=_ref4.quality,quality=void 0===_ref4$quality?.6:_ref4$quality,rest=(0,objectWithoutProperties.Z)(_ref4,utils_excluded);return new Promise((function(resolve){new(compressor_default())(rawFile,function utils_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?utils_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):utils_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({success:function success(result){console.log("[upload]---upload compressor success=",result);var file=result instanceof File?result:new File([result],rawFile.name,{type:rawFile.type});resolve(file)},error:function(_error){function error(_x4){return _error.apply(this,arguments)}return error.toString=function(){return _error.toString()},error}((function(error){console.log("[upload]---upload compressor error=",error),resolve(rawFile)})),quality},rest))}))},covertHeicFileToPng=function(){var _ref5=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee4(file,ext){return regenerator_default().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",new Promise((function(resolve){__webpack_require__.e(1616).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/heic2any/dist/heic2any.js",23)).then(function(){var _ref6=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee3(module){var defaultExport,blob,newFile;return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return defaultExport=module.default,_context3.next=3,defaultExport({blob:file,toType:"image/".concat(null!=ext?ext:"jpeg"),quality:.8});case 3:blob=_context3.sent,Array.isArray(blob)&&(blob=blob[0]),console.log("image covert success, ",file.type,"--\x3e",null!=ext?ext:"jpeg",blob.type),newFile=new File([blob],file.name,{type:blob.type}),resolve(newFile);case 8:case"end":return _context3.stop()}}),_callee3)})));return function(_x7){return _ref6.apply(this,arguments)}}())})));case 1:case"end":return _context4.stop()}}),_callee4)})));return function covertHeicFileToPng(_x5,_x6){return _ref5.apply(this,arguments)}}(),upload_console=__webpack_require__("./node_modules/console-browserify/index.js"),upload_jsx=react.createElement;function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var UploadView=function UploadView(props,ref){var multiple=props.multiple,accept=props.accept,_props$capture=props.capture,capture=void 0===_props$capture||_props$capture,disabled=props.disabled,limit=props.limit,fileAvaliableCount=props.fileAvaliableCount,_props$autoUpload=props.autoUpload,autoUpload=void 0===_props$autoUpload||_props$autoUpload,limitConfig=props.limitConfig,compress=props.compress,_props$compressQualit=props.compressQuality,compressQuality=void 0===_props$compressQualit?.8:_props$compressQualit,onExceed=props.onExceed,onStart=props.onStart,beforeUpload=props.beforeUpload,onRemove=props.onRemove,_props$httpRequest=props.httpRequest,httpRequest=void 0===_props$httpRequest?ajaxUpload:_props$httpRequest,onSuccess=props.onSuccess,onFinish=props.onFinish,onError=props.onError,onProgress=props.onProgress,onCheckLimit=props.onCheckLimit,data=props.data,_props$requestUrl=props.requestUrl,requestUrl=void 0===_props$requestUrl?"/resource/v1/file/upload/url":_props$requestUrl,children=props.children,className=props.className;(0,react.useImperativeHandle)(ref,(function(){return{click:handleUpload,upload}}));var _inputRef=(0,react.useRef)(null),fileId=1,genFileId=(0,react.useCallback)((function(){return Date.now()+fileId++}),[fileId]),doUpload=(0,react.useCallback)((function(rawFile){upload_console.log("[upload]---upload to server");var options={url:requestUrl,file:rawFile,data,onSuccess:function(_onSuccess){function onSuccess(_x){return _onSuccess.apply(this,arguments)}return onSuccess.toString=function(){return _onSuccess.toString()},onSuccess}((function(p){upload_console.log("[upload]---upload success",p,rawFile),null==onSuccess||onSuccess(p,rawFile)})),onError:function(_onError){function onError(_x2){return _onError.apply(this,arguments)}return onError.toString=function(){return _onError.toString()},onError}((function(p){upload_console.log("[upload]---upload failed",p,rawFile),null==onError||onError(p,rawFile)})),onFinish:function(_onFinish){function onFinish(_x3){return _onFinish.apply(this,arguments)}return onFinish.toString=function(){return _onFinish.toString()},onFinish}((function(p){upload_console.log("[upload]---upload finished.",p,rawFile),null==onFinish||onFinish(p,rawFile)})),onProgress:function(_onProgress){function onProgress(_x4){return _onProgress.apply(this,arguments)}return onProgress.toString=function(){return _onProgress.toString()},onProgress}((function(p){null==onProgress||onProgress(p)}))};httpRequest(options)}),[data,httpRequest,onError,onFinish,onProgress,onSuccess,requestUrl]),upload=(0,react.useCallback)(function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(rawFile){var _yield$checkFileLimit,valid,attr,hookResult,file;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_inputRef.current&&(_inputRef.current.value=""),!limitConfig){_context.next=12;break}return _context.next=4,checkFileLimit(rawFile,limitConfig);case 4:if(_yield$checkFileLimit=_context.sent,valid=_yield$checkFileLimit.valid,attr=_yield$checkFileLimit.attr,valid){_context.next=12;break}return upload_console.log("[upload]---upload illegal0"),null==onCheckLimit||onCheckLimit({valid,attr}),null==onRemove||onRemove(rawFile),_context.abrupt("return");case 12:if(beforeUpload){_context.next=14;break}return _context.abrupt("return",doUpload(rawFile));case 14:return upload_console.log("[upload]---before upload"),_context.prev=15,_context.next=18,beforeUpload(rawFile);case 18:hookResult=_context.sent,_context.next=24;break;case 21:_context.prev=21,_context.t0=_context.catch(15),hookResult=!1;case 24:if(!1!==hookResult){_context.next=28;break}return upload_console.log("[upload]---upload illegal1"),null==onRemove||onRemove(rawFile),_context.abrupt("return");case 28:file=rawFile,hookResult instanceof Blob&&(file=hookResult instanceof File?hookResult:new File([hookResult],rawFile.name,{type:rawFile.type})),doUpload(Object.assign(file,{uid:rawFile.uid}));case 31:case"end":return _context.stop()}}),_callee,null,[[15,21]])})));return function(_x5){return _ref.apply(this,arguments)}}(),[beforeUpload,doUpload,limitConfig,onCheckLimit,onRemove]),uploadFiles=(0,react.useCallback)(function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(files){var _iterator,_step,_file,rawFile;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(files.length){_context2.next=2;break}return _context2.abrupt("return");case 2:if(!(limit&&fileAvaliableCount&&fileAvaliableCount+files.length>limit)){_context2.next=5;break}return null==onExceed||onExceed(files),_context2.abrupt("return");case 5:multiple||(files=files.slice(0,1)),_iterator=_createForOfIteratorHelper(files),_context2.prev=7,_iterator.s();case 9:if((_step=_iterator.n()).done){_context2.next=22;break}if(_file=_step.value,rawFile=_file,upload_console.log("[upload]---upload ready",rawFile),!(compress&&_file.type.includes("image")&&null!=limitConfig&&limitConfig.size&&_file.size/1024/1024>(null==limitConfig?void 0:limitConfig.size))){_context2.next=17;break}return _context2.next=16,compressor(_file,{quality:Math.min(compressQuality,1)});case 16:rawFile=_context2.sent;case 17:rawFile.uid=genFileId(),null==onStart||onStart(rawFile),autoUpload&&upload(rawFile);case 20:_context2.next=9;break;case 22:_context2.next=27;break;case 24:_context2.prev=24,_context2.t0=_context2.catch(7),_iterator.e(_context2.t0);case 27:return _context2.prev=27,_iterator.f(),_context2.finish(27);case 30:case"end":return _context2.stop()}}),_callee2,null,[[7,24,27,30]])})));return function(_x6){return _ref2.apply(this,arguments)}}(),[autoUpload,compress,compressQuality,fileAvaliableCount,genFileId,limit,null==limitConfig?void 0:limitConfig.size,multiple,onExceed,onStart,upload]),handleUpload=(0,react.useCallback)((function(){var _inputRef$current;disabled||_inputRef.current&&(_inputRef.current.value="",null===(_inputRef$current=_inputRef.current)||void 0===_inputRef$current||_inputRef$current.click())}),[disabled]),handleChange=(0,react.useCallback)((function(e){var _e$target,files=null===(_e$target=e.target)||void 0===_e$target?void 0:_e$target.files;uploadFiles(Array.from(null!=files?files:[]))}),[uploadFiles]);return upload_jsx("div",{onClick:handleUpload,className:classnames_default()(className)},children||upload_jsx("span",{className:"text-xl text-xwhite"},"测试上传"),upload_jsx("input",{ref:_inputRef,className:"hidden",multiple,accept,capture,type:"file",onChange:handleChange}))};UploadView.displayName="UploadView";const components_upload=(0,react.forwardRef)(UploadView);try{upload.displayName="upload",upload.__docgenInfo={description:"",displayName:"upload",props:{multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}},accept:{defaultValue:null,description:"",name:"accept",required:!1,type:{name:"string"}},capture:{defaultValue:null,description:"",name:"capture",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},fileAvaliableCount:{defaultValue:null,description:"",name:"fileAvaliableCount",required:!1,type:{name:"number"}},autoUpload:{defaultValue:null,description:"",name:"autoUpload",required:!1,type:{name:"boolean"}},limitConfig:{defaultValue:null,description:"",name:"limitConfig",required:!1,type:{name:"UploadLimitConfig"}},compress:{defaultValue:null,description:"",name:"compress",required:!1,type:{name:"boolean"}},compressQuality:{defaultValue:null,description:"",name:"compressQuality",required:!1,type:{name:"number"}},onExceed:{defaultValue:null,description:"",name:"onExceed",required:!1,type:{name:"((files: File[]) => void)"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"((file: File & { uid?: string | number; }) => void)"}},beforeUpload:{defaultValue:null,description:"",name:"beforeUpload",required:!1,type:{name:"((file: File & { uid?: string | number; }) => void)"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"((file: File & { uid?: string | number; }) => void)"}},httpRequest:{defaultValue:null,description:"",name:"httpRequest",required:!1,type:{name:"((options?: IAjaxUploadOptions) => void)"}},onSuccess:{defaultValue:null,description:"",name:"onSuccess",required:!1,type:{name:"((res: { staticUrl: string; }, file: File) => void)"}},onFinish:{defaultValue:null,description:"",name:"onFinish",required:!1,type:{name:"((res: { staticUrl: string; }, file: File) => void)"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: UploadAjaxError, file: File) => void)"}},onProgress:{defaultValue:null,description:"",name:"onProgress",required:!1,type:{name:"((progress: number) => void)"}},onCheckLimit:{defaultValue:null,description:"",name:"onCheckLimit",required:!1,type:{name:'((p: { valid: boolean; attr?: "size" | "vertical" | "horizontal" | "duration" | "ext" | "proportion" | "equal"; }) => void)'}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"{ module: string; suffix: string; }"}},requestUrl:{defaultValue:null,description:"",name:"requestUrl",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/upload/index.tsx#upload"]={docgenInfo:upload.__docgenInfo,name:"upload",path:"src/components/upload/index.tsx#upload"})}catch(__react_docgen_typescript_loader_error){}var chunk_6KSEUUNN=__webpack_require__("./node_modules/@chakra-ui/slider/dist/chunk-6KSEUUNN.mjs"),dist=__webpack_require__("./node_modules/react-avatar-editor/dist/index.js"),dist_default=__webpack_require__.n(dist),XButton=__webpack_require__("./src/components/XButton/index.tsx"),components_image=__webpack_require__("./src/components/image/index.tsx"),xmodal=__webpack_require__("./src/components/xmodal/index.tsx"),initialDistance=0,currentDistance=0,CropImg_jsx=react.createElement;function CropImg_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CropImg_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CropImg_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CropImg_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Progress=function Progress(_ref){var max=_ref.max,min=_ref.min,value=_ref.value,step=_ref.step,_onChange=_ref.onChange;return CropImg_jsx("div",{className:"relative flex items-center h-0.5 mx-3 flex-1 bg-lightblue"},CropImg_jsx(chunk_6KSEUUNN.iR,{"aria-label":"slider-ex-1",value,min,max,step,onChange:function onChange(val){_onChange(val)}},CropImg_jsx(chunk_6KSEUUNN.Uj,{bgColor:"#9598B9",h:"2px"},CropImg_jsx(chunk_6KSEUUNN.Ms,{bgColor:"#0a1161"})),CropImg_jsx(chunk_6KSEUUNN.gs,{bgColor:"#0a1161",boxSize:"8px"})))};Progress.displayName="Progress";var resetSpecPixelImage=function resetSpecPixelImage(_ref2){var source=_ref2.source,width=_ref2.width,height=_ref2.height;return new Promise((function(resolve,reject){var canvas=function getCanvas(_ref3){var width=_ref3.width,height=_ref3.height,canvas=document.createElement("canvas");return canvas.width=width,canvas.height=height,document.body.appendChild(canvas),canvas}({width,height}),ctx=canvas.getContext("2d");null==ctx||ctx.drawImage(source,0,0,canvas.width,canvas.height),canvas.toBlob((function(blob){resolve(blob||null),canvas.remove()}))}))},XCropperImg=function XCropperImg(_ref3){var width=_ref3.width,imgWidth=_ref3.imgWidth,imgHeight=_ref3.imgHeight,_ref3$title=(_ref3.cropperWrapperClass,_ref3.title),title=void 0===_ref3$title?"EDIT AVATAR":_ref3$title,_ref3$description=_ref3.description,description=void 0===_ref3$description?"Adjust the size and position of your avatar":_ref3$description,source=_ref3.source,_ref3$cropWidth=_ref3.cropWidth,cropWidth=void 0===_ref3$cropWidth?160:_ref3$cropWidth,_ref3$cropHeight=_ref3.cropHeight,cropHeight=void 0===_ref3$cropHeight?160:_ref3$cropHeight,_ref3$border=_ref3.border,border=void 0===_ref3$border?40:_ref3$border,_ref3$cropRadius=_ref3.cropRadius,cropRadius=void 0===_ref3$cropRadius?0:_ref3$cropRadius,_ref3$scale=_ref3.scale,initScale=void 0===_ref3$scale?1:_ref3$scale,_ref3$maxScale=_ref3.maxScale,maxScale=void 0===_ref3$maxScale?2:_ref3$maxScale,_ref3$minScale=_ref3.minScale,minScale=void 0===_ref3$minScale?1:_ref3$minScale,_ref3$stepScale=_ref3.stepScale,stepScale=void 0===_ref3$stepScale?.01:_ref3$stepScale,_ref3$rotate=_ref3.rotate,rotate=void 0===_ref3$rotate?0:_ref3$rotate,_ref3$color=_ref3.color,color=void 0===_ref3$color?[215,215,215,.7]:_ref3$color,onSubmit=(_ref3.ext,_ref3.onSubmit),isOpen=_ref3.isOpen,onClose=_ref3.onClose,_editor=(0,react.useRef)(null),_useState=(0,react.useState)(""),url=_useState[0],setUrl=_useState[1],_useState2=(0,react.useState)({scale:initScale}),scale=_useState2[0].scale,setState=_useState2[1],onStep=(0,react.useCallback)((function(tag){if("minus"===tag){var _s=Math.max(minScale,scale-stepScale);setState((function(p){return CropImg_objectSpread(CropImg_objectSpread({},p),{},{scale:Number(_s.toFixed(2))})}))}else if("plus"===tag){var _s2=Math.min(maxScale,scale+stepScale);setState((function(p){return CropImg_objectSpread(CropImg_objectSpread({},p),{},{scale:Number(_s2.toFixed(2))})}))}}),[maxScale,minScale,scale,stepScale]);return(0,react.useEffect)((function(){isOpen&&setState({scale:initScale})}),[initScale,isOpen]),(0,react.useEffect)((function(){setState((function(p){return CropImg_objectSpread(CropImg_objectSpread({},p),{},{scale:initScale})}))}),[initScale]),CropImg_jsx(xmodal.$,{width,isOpen,cancelTitle:"CANCEL",confirmTitle:"SAVE",onConfirm:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){var _editor$current,canvasSource,blob;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(canvasSource=null===(_editor$current=_editor.current)||void 0===_editor$current?void 0:_editor$current.getImage(),_context.t0=canvasSource,!_context.t0){_context.next=6;break}return _context.next=5,resetSpecPixelImage({source:canvasSource,width:imgWidth||cropWidth,height:imgHeight||cropHeight});case 5:_context.t0=_context.sent;case 6:(blob=_context.t0)&&(null==onSubmit||onSubmit(blob)),setUrl(""),null==onClose||onClose();case 10:case"end":return _context.stop()}}),_callee)}))),onClose},CropImg_jsx("div",{className:"text-center mt-8 text-x-base text-xdarkblue font-bold font-termina uppercase"},title),CropImg_jsx("div",{className:"text-center mt-2 text-sm text-black/60 font-xlight font-poppins"},description),CropImg_jsx("div",{className:"mt-6 flex flex-col items-center"},CropImg_jsx(dist_default(),{ref:_editor,image:source,width:cropWidth,height:cropHeight,border,borderRadius:cropRadius,color,scale,rotate}),url&&CropImg_jsx(components_image.z,{placeholderType:"auto",rectClassName:"mt-4 w-[".concat(cropWidth,"px] h-[").concat(cropHeight,"px] overflow-hidden"),src:url})),CropImg_jsx("div",{className:"mt-6 w-[240px] mx-auto flex flex-row items-center"},CropImg_jsx("div",{onClick:function onClick(){return onStep("minus")},className:"w-6 h-6 rounded-full inline-flex items-center justify-center border-[1px] border-lightblue group hover:border-xdarkblue"},CropImg_jsx(xterio_icons_esm.IconMinus16,{className:"text-lightblue group-hover:text-xdarkblue"})),CropImg_jsx(Progress,{value:scale,min:minScale,max:maxScale,step:stepScale,onChange:function onChange(val){setState((function(p){return CropImg_objectSpread(CropImg_objectSpread({},p),{},{scale:val})}))}}),CropImg_jsx("div",{onClick:function onClick(){return onStep("plus")},className:"w-6 h-6 rounded-full inline-flex items-center justify-center border-[1px] border-lightblue group hover:border-xdarkblue"},CropImg_jsx(xterio_icons_esm.IconPlus16,{className:"text-lightblue group-hover:text-xdarkblue"}))))};XCropperImg.displayName="XCropperImg";var XCropperImgGesture=function XCropperImgGesture(_ref5){var source=_ref5.source,initCropRadius=_ref5.cropRadius,_ref5$cropPercent=_ref5.cropPercent,initCropPercent=void 0===_ref5$cropPercent?.9:_ref5$cropPercent,_ref5$scale=_ref5.scale,initScale=void 0===_ref5$scale?1:_ref5$scale,_ref5$maxScale=_ref5.maxScale,maxScale=void 0===_ref5$maxScale?2:_ref5$maxScale,_ref5$minScale=_ref5.minScale,minScale=void 0===_ref5$minScale?1:_ref5$minScale,_ref5$rotate=_ref5.rotate,rotate=void 0===_ref5$rotate?0:_ref5$rotate,_ref5$color=_ref5.color,color=void 0===_ref5$color?[0,0,0,.7]:_ref5$color,_ref5$imgWidth=(_ref5.ext,_ref5.imgWidth),imgWidth=void 0===_ref5$imgWidth?0:_ref5$imgWidth,_ref5$imgHeight=_ref5.imgHeight,imgHeight=void 0===_ref5$imgHeight?0:_ref5$imgHeight,onSubmit=_ref5.onSubmit,isOpen=_ref5.isOpen,onClose=_ref5.onClose,_editor=(0,react.useRef)(null),_useState3=(0,react.useState)(""),setUrl=(_useState3[0],_useState3[1]),_useState4=(0,react.useState)({scale:initScale}),_useState4$=_useState4[0],scale=_useState4$.scale,_useState4$$cropWidth=_useState4$.cropWidth,cropWidth=void 0===_useState4$$cropWidth?0:_useState4$$cropWidth,_useState4$$cropHeigh=_useState4$.cropHeight,cropHeight=void 0===_useState4$$cropHeigh?0:_useState4$$cropHeigh,border=_useState4$.border,cropRadius=_useState4$.cropRadius,setState=_useState4[1],_usePinchGesture=function usePinchGesture(initScale){var _useState=(0,react.useState)(1),scale=_useState[0],setScale=_useState[1],getDistance=function getDistance(touch1,touch2){var dx=touch1.clientX-touch2.clientX,dy=touch1.clientY-touch2.clientY;return Math.sqrt(dx*dx+dy*dy)};return(0,react.useEffect)((function(){}),[initScale]),{scale,onTouchStart:function handleTouchStart(event){var touches=event.touches;2===touches.length&&(initialDistance=getDistance(touches[0],touches[1]))},onTouchMove:function handleTouchMove(event){var touches=event.touches;2===touches.length&&(currentDistance=getDistance(touches[0],touches[1]),setScale(currentDistance/initialDistance))}}}(scale),onTouchStart=_usePinchGesture.onTouchStart,onTouchMove=_usePinchGesture.onTouchMove,_pinchScale=_usePinchGesture.scale;return(0,react.useEffect)((function(){var editH=window.innerHeight-80-74,editW=window.innerWidth,cropSize=editW*initCropPercent,borderRadius=null!=initCropRadius?initCropRadius:cropSize/2;setState((function(p){return CropImg_objectSpread(CropImg_objectSpread({},p),{},{cropWidth:cropSize,cropHeight:cropSize,border:[(editW-cropSize)/2,(editH-cropSize)/2],cropRadius:borderRadius})}))}),[initCropRadius,initCropPercent]),(0,react.useEffect)((function(){setState((function(p){return CropImg_objectSpread(CropImg_objectSpread({},p),{},{scale:initScale})}))}),[initScale]),(0,react.useEffect)((function(){var _s=_pinchScale*scale;_s>maxScale&&(_s=maxScale),_s<minScale&&(_s=minScale),setState((function(p){return CropImg_objectSpread(CropImg_objectSpread({},p),{},{scale:_s})}))}),[_pinchScale,maxScale,minScale,scale]),isOpen?CropImg_jsx("div",{className:"fixed top-[80px] left-0 right-0 bottom-0 bg-background flex flex-col z-50"},CropImg_jsx("div",{className:"flex-1",onTouchStart,onTouchMove},CropImg_jsx(dist_default(),{className:"cropavatar",ref:_editor,image:source,width:cropWidth,height:cropHeight,border,borderRadius:cropRadius,color,scale,rotate})),CropImg_jsx("div",{className:"px-4 h-[74px] bg-background flex flex-row items-center justify-between"},CropImg_jsx(XButton.z,{type:"ghost",size:"lg",onClick:onClose,className:"!w-[44vw] text-base"},"CANCEL"),CropImg_jsx(XButton.z,{size:"lg",onClick:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(){var _editor$current2,canvasSource,blob;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(canvasSource=null===(_editor$current2=_editor.current)||void 0===_editor$current2?void 0:_editor$current2.getImage(),_context2.t0=canvasSource,!_context2.t0){_context2.next=6;break}return _context2.next=5,resetSpecPixelImage({source:canvasSource,width:imgWidth||cropWidth,height:imgHeight||cropHeight});case 5:_context2.t0=_context2.sent;case 6:(blob=_context2.t0)&&(null==onSubmit||onSubmit(blob)),setUrl(""),null==onClose||onClose();case 10:case"end":return _context2.stop()}}),_callee2)}))),className:"!w-[44vw] text-base"},"SAVE"))):null};try{XCropperImg.displayName="XCropperImg",XCropperImg.__docgenInfo={description:"裁剪图像工具(计步器缩放)",displayName:"XCropperImg",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},source:{defaultValue:null,description:"",name:"source",required:!0,type:{name:"string"}},cropWidth:{defaultValue:{value:"160"},description:"",name:"cropWidth",required:!1,type:{name:"number"}},cropHeight:{defaultValue:{value:"160"},description:"",name:"cropHeight",required:!1,type:{name:"number"}},cropRadius:{defaultValue:{value:"0"},description:"",name:"cropRadius",required:!1,type:{name:"number"}},border:{defaultValue:{value:"40"},description:"",name:"border",required:!1,type:{name:"number | number[]"}},scale:{defaultValue:null,description:"",name:"scale",required:!1,type:{name:"number"}},maxScale:{defaultValue:{value:"2"},description:"",name:"maxScale",required:!1,type:{name:"number"}},minScale:{defaultValue:{value:"1"},description:"",name:"minScale",required:!1,type:{name:"number"}},stepScale:{defaultValue:{value:"0.01"},description:"",name:"stepScale",required:!1,type:{name:"number"}},rotate:{defaultValue:{value:"0"},description:"",name:"rotate",required:!1,type:{name:"number"}},color:{defaultValue:{value:"[0, 0, 0, 0.7]"},description:"",name:"color",required:!1,type:{name:"number[]"}},ext:{defaultValue:{value:"jpeg"},description:"",name:"ext",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},imgWidth:{defaultValue:{value:"0"},description:"",name:"imgWidth",required:!1,type:{name:"number"}},imgHeight:{defaultValue:{value:"0"},description:"",name:"imgHeight",required:!1,type:{name:"number"}},cropperWrapperClass:{defaultValue:null,description:"",name:"cropperWrapperClass",required:!1,type:{name:"string"}},title:{defaultValue:{value:"EDIT AVATAR"},description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:{value:"Adjust the size and position of your avatar"},description:"",name:"description",required:!1,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"((blob?: Blob) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/upload/CropImg.tsx#XCropperImg"]={docgenInfo:XCropperImg.__docgenInfo,name:"XCropperImg",path:"src/components/upload/CropImg.tsx#XCropperImg"})}catch(__react_docgen_typescript_loader_error){}try{XCropperImgGesture.displayName="XCropperImgGesture",XCropperImgGesture.__docgenInfo={description:"",displayName:"XCropperImgGesture",props:{cropPercent:{defaultValue:null,description:"",name:"cropPercent",required:!0,type:{name:"number"}},title:{defaultValue:{value:"EDIT AVATAR"},description:"",name:"title",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},color:{defaultValue:{value:"[0, 0, 0, 0.7]"},description:"",name:"color",required:!1,type:{name:"number[]"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},scale:{defaultValue:null,description:"",name:"scale",required:!1,type:{name:"number"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"((blob?: Blob) => void)"}},source:{defaultValue:null,description:"",name:"source",required:!0,type:{name:"string"}},description:{defaultValue:{value:"Adjust the size and position of your avatar"},description:"",name:"description",required:!1,type:{name:"string"}},imgWidth:{defaultValue:{value:"0"},description:"",name:"imgWidth",required:!1,type:{name:"number"}},imgHeight:{defaultValue:{value:"0"},description:"",name:"imgHeight",required:!1,type:{name:"number"}},cropperWrapperClass:{defaultValue:null,description:"",name:"cropperWrapperClass",required:!1,type:{name:"string"}},cropRadius:{defaultValue:{value:"0"},description:"",name:"cropRadius",required:!1,type:{name:"number"}},maxScale:{defaultValue:{value:"2"},description:"",name:"maxScale",required:!1,type:{name:"number"}},minScale:{defaultValue:{value:"1"},description:"",name:"minScale",required:!1,type:{name:"number"}},rotate:{defaultValue:{value:"0"},description:"",name:"rotate",required:!1,type:{name:"number"}},ext:{defaultValue:{value:"jpeg"},description:"",name:"ext",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/upload/CropImg.tsx#XCropperImgGesture"]={docgenInfo:XCropperImgGesture.__docgenInfo,name:"XCropperImgGesture",path:"src/components/upload/CropImg.tsx#XCropperImgGesture"})}catch(__react_docgen_typescript_loader_error){}var card=__webpack_require__("./src/components/card/index.ts"),xpopover=__webpack_require__("./src/components/xpopover/index.tsx"),box_jsx=react.createElement;function box_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function box_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?box_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):box_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var XSelectBox=function XSelectBox(_ref){var _type=_ref.type,_ref$varient=_ref.varient,varient=void 0===_ref$varient?"menu":_ref$varient,trigger=_ref.trigger,triggerClass=_ref.triggerClass,placeholderText=_ref.placeholderText,gradientBorder=_ref.gradientBorder,contentClassName=_ref.contentClassName,popWidth=_ref.popWidth,modalTitle=_ref.modalTitle,renderItem=_ref.renderItem,options=_ref.options,selectKey=_ref.selectKey,onChange=_ref.onChange,sniffer=(0,contexts.bN)().sniffer,_useBoolean=(0,es_useBoolean.Z)(),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),open=_useBoolean2[0],openAction=_useBoolean2[1],_useState=(0,react.useState)(null==options?void 0:options.find((function(it){return it.key===selectKey}))),selected=_useState[0],setSelected=_useState[1],isSelector=(0,react.useMemo)((function(){return"select"===varient}),[varient]),type=(0,react.useMemo)((function(){return _type||(sniffer.isMobile?"actionsheet":"popover")}),[_type,sniffer.isMobile]),_placeText=(0,react.useMemo)((function(){return isSelector&&((null==selected?void 0:selected.title)||(null==selected?void 0:selected.key))||placeholderText}),[isSelector,placeholderText,null==selected?void 0:selected.key,null==selected?void 0:selected.title]),_onChange=(0,react.useCallback)((function(key,item){null==onChange||onChange(item),setSelected(null==options?void 0:options.find((function(it){return it.key===key}))),openAction.setFalse()}),[onChange,openAction,options]);return(0,react.useEffect)((function(){setSelected(null==options?void 0:options.find((function(it){return it.key===selectKey})))}),[options,selectKey]),box_jsx("section",null,"popover"===type?box_jsx(xpopover.t,{width:null!=popWidth?popWidth:"auto",isOpen:open,placement:"bottom",onOpen:openAction.setTrue,onClose:openAction.setFalse,trigger:box_jsx("div",{className:classnames_default()("h-10 px-4 border-[2px] border-xwhite text-xwhite text-sm font-bold font-termina rounded-full flex flex-row items-center",triggerClass),onClick:openAction.toggle},trigger||box_jsx(react.Fragment,null,box_jsx("span",{className:"line-clamp-1 flex-1 text-left"},_placeText),isSelector?box_jsx(xterio_icons_esm.IconArrow16,{className:"ml-1 ".concat(open?"rotate-180":"rotate-0")}):void 0))},box_jsx("div",{className:classnames_default()("bg-darkblue p-4",contentClassName)},gradientBorder&&box_jsx(card.jD,{cutSize:"0rem",border:!0,borderCls:"bg-gradient-to-r from-xlightcyan/[.2] to-xlightpink/[.2]",className:"!absolute top-0 bottom-0 left-0 right-0 z-10"}),box_jsx("div",{className:"z-30 relative"},null==options?void 0:options.map((function(item,index){var icon=item.icon,title=item.title,key=item.key,isSelected=key===(null==selected?void 0:selected.key);return renderItem&&renderItem(box_objectSpread(box_objectSpread({},item),{},{selected:isSelected})),box_jsx("div",{key:key||index,className:"web:hover:bg-xwhite/10 cursor-pointer h-10 p-2 text-xwhite font-bold text-xs font-termina flex items-center",onClick:function onClick(){return _onChange(key,item)}},icon,box_jsx("span",{className:"ml-2"},title))}))))):box_jsx(react.Fragment,null,box_jsx("div",{className:classnames_default()("h-10 px-4 border-[2px] border-xwhite text-xwhite text-sm font-bold font-termina rounded-full flex flex-row items-center",triggerClass),onClick:openAction.toggle},trigger||box_jsx(react.Fragment,null,box_jsx("span",{className:"line-clamp-1 flex-1 text-left"},_placeText),isSelector?box_jsx(xterio_icons_esm.IconArrow16,{className:"ml-1 ".concat(open?"rotate-180":"rotate-0")}):void 0)),box_jsx(xmodal.$,{className:"overflow-y-auto py-3",contentClass:"flex flex-col",title:modalTitle,hideButtons:!0,isOpen:open,onClose:openAction.setFalse},null==options?void 0:options.map((function(item,index){var icon=item.icon,title=item.title,key=item.key,isSelected=key===(null==selected?void 0:selected.key);return renderItem&&renderItem(box_objectSpread(box_objectSpread({},item),{},{selected:isSelected})),box_jsx("div",{key:key||index,className:"px-4 h-16 flex items-center text-xdarkblue text-sm font-bold font-termina",onClick:function onClick(){return _onChange(key,item)}},icon,box_jsx("span",{className:"ml-2"},title))})))))};XSelectBox.displayName="XSelectBox";try{XSelectBox.displayName="XSelectBox",XSelectBox.__docgenInfo={description:"",displayName:"XSelectBox",props:{type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"actionsheet"'},{value:'"popover"'}]}},varient:{defaultValue:{value:"menu"},description:"",name:"varient",required:!1,type:{name:"enum",value:[{value:'"select"'},{value:'"menu"'}]}},trigger:{defaultValue:null,description:"",name:"trigger",required:!1,type:{name:"ReactNode"}},triggerClass:{defaultValue:null,description:"",name:"triggerClass",required:!1,type:{name:"string"}},placeholderText:{defaultValue:null,description:"",name:"placeholderText",required:!1,type:{name:"string"}},gradientBorder:{defaultValue:null,description:"",name:"gradientBorder",required:!1,type:{name:"boolean"}},contentClassName:{defaultValue:null,description:"",name:"contentClassName",required:!1,type:{name:"string"}},popWidth:{defaultValue:null,description:"",name:"popWidth",required:!1,type:{name:"string | number"}},modalTitle:{defaultValue:null,description:"",name:"modalTitle",required:!1,type:{name:"string"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!1,type:{name:"((p: T & { selected?: boolean; }) => Element)"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"({ key: string; title: string; icon?: Element | undefined; } & T)[]"}},selectKey:{defaultValue:null,description:"",name:"selectKey",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((p: T) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/xselect/box.tsx#XSelectBox"]={docgenInfo:XSelectBox.__docgenInfo,name:"XSelectBox",path:"src/components/xselect/box.tsx#XSelectBox"})}catch(__react_docgen_typescript_loader_error){}var ChangeAvatar_jsx=react.createElement,webOptions=[{key:"generate",title:"GENERATE",icon:ChangeAvatar_jsx(xterio_icons_esm.IconGenerate24,{size:24})},{key:"upload",title:"UPLOAD",icon:ChangeAvatar_jsx(xterio_icons_esm.IconGallery24,{size:24})}],h5Options=[{key:"generate",title:"GENERATE AVATAR",icon:ChangeAvatar_jsx(xterio_icons_esm.IconGenerate24,{size:24})},{key:"upload",title:"SELECT FROM GALLERY",icon:ChangeAvatar_jsx(xterio_icons_esm.IconGallery24,{size:24})},{key:"take",title:"TAKE PHOTO",icon:ChangeAvatar_jsx(xterio_icons_esm.IconTakephoto24,{size:24})}],ChangeAvatar=function ChangeAvatar(_ref){var _onChange=_ref.onChange,sniffer=(0,contexts.bN)().sniffer,_useState=(0,react.useState)(""),selectKey=_useState[0],setSelectKey=_useState[1],_uploadRef=(0,react.useRef)(null),_useState2=(0,react.useState)({url:"",name:"",type:"image/png"}),cropperState=_useState2[0],setCropperState=_useState2[1],_useBoolean=(0,es_useBoolean.Z)(!1),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),openCrop=_useBoolean2[0],openCropAction=_useBoolean2[1],options=(0,react.useMemo)((function(){return sniffer.isMobile?h5Options:webOptions}),[sniffer.isMobile]);return ChangeAvatar_jsx(react.Fragment,null,ChangeAvatar_jsx(XSelectBox,{options,modalTitle:"CHANGE AVATAR",placeholderText:"CHANGE AVATAR",popWidth:186,gradientBorder:!0,onChange:function onChange(_ref2){_ref2.title;var key=_ref2.key;setSelectKey(key),"upload"===key||"take"===key?setTimeout((function(){var _uploadRef$current;null===(_uploadRef$current=_uploadRef.current)||void 0===_uploadRef$current||_uploadRef$current.click()}),0):"generate"===key&&(null==_onChange||_onChange("generate"))}}),ChangeAvatar_jsx(components_upload,{ref:_uploadRef,accept:"image/heic,image/heif,image/*",capture:"take"===selectKey,limit:1,data:{module:"avatar",suffix:"jpeg"},limitConfig:{size:1},onSuccess:function onSuccess(_ref3){var staticUrl=_ref3.staticUrl;null==_onChange||_onChange("upload",staticUrl)},onCheckLimit:function onCheckLimit(){noti.Z.noti("info","Maximum file size is 1MB. Please resize the image and try again.")},autoUpload:!1,onStart:function onStart(file){if(file.type.startsWith("image/")){var _URL=window.URL||window.webkitURL;file.type.includes("heic")||file.type.includes("heif")?covertHeicFileToPng(file,"jpeg").then((function(u){u instanceof File&&(setCropperState({url:_URL.createObjectURL(u),name:u.name,type:u.type}),openCropAction.setTrue())})):(setCropperState({url:_URL.createObjectURL(file),name:file.name,type:file.type}),openCropAction.setTrue())}else noti.Z.noti("info","The file type is currently not supported.")}},ChangeAvatar_jsx("div",{className:"hidden"})),ChangeAvatar_jsx(components.ph,null,ChangeAvatar_jsx(XCropperImg,{scale:1.2,maxScale:2,minScale:1,stepScale:.01,cropWidth:160,cropHeight:160,cropRadius:80,border:40,isOpen:openCrop,onClose:openCropAction.setFalse,source:cropperState.url,onSubmit:function onSubmit(blob){if(blob){var _uploadRef$current2,newFile=new File([blob],cropperState.name,{type:blob.type});null===(_uploadRef$current2=_uploadRef.current)||void 0===_uploadRef$current2||_uploadRef$current2.upload(newFile)}}})),ChangeAvatar_jsx(components.H5,null,ChangeAvatar_jsx(XCropperImgGesture,{scale:1.2,maxScale:2,minScale:1,cropPercent:.9,isOpen:openCrop,onClose:openCropAction.setFalse,source:cropperState.url,onSubmit:function onSubmit(blob){if(blob){var _uploadRef$current3,newFile=new File([blob],cropperState.name,{type:blob.type});null===(_uploadRef$current3=_uploadRef.current)||void 0===_uploadRef$current3||_uploadRef$current3.upload(newFile)}}})))};try{ChangeAvatar.displayName="ChangeAvatar",ChangeAvatar.__docgenInfo={description:"",displayName:"ChangeAvatar",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((key: string, url?: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/ChangeAvatar.tsx#ChangeAvatar"]={docgenInfo:ChangeAvatar.__docgenInfo,name:"ChangeAvatar",path:"src/pages/settings/components/ChangeAvatar.tsx#ChangeAvatar"})}catch(__react_docgen_typescript_loader_error){}var InputEdit_jsx=react.createElement,InputEdit=function InputEdit(props){var _props$type=props.type,type=void 0===_props$type?"input":_props$type,value=props.value,placeholder=props.placeholder,disabled=props.disabled,maxLength=props.maxLength,onSubmit=props.onSubmit,onCancel=props.onCancel,onChange=props.onChange,_useState=(0,react.useState)(value||""),name=_useState[0],setName=_useState[1],_useState2=(0,react.useState)(),inputDisabled=_useState2[0],setInputDisabled=_useState2[1],_useState3=(0,react.useState)(),loading=_useState3[0],setLoading=_useState3[1],btnDisabled=(0,react.useMemo)((function(){return!name||name===value||disabled}),[name,value,disabled]),onSave=(0,react.useCallback)((function(){setInputDisabled(!0),setLoading(!0),null==onSubmit||onSubmit(name)}),[name,onSubmit]);return(0,react.useEffect)((function(){!1===disabled&&(setInputDisabled(!1),setLoading(!1))}),[disabled]),(0,react.useEffect)((function(){setName(value)}),[value]),InputEdit_jsx(react.Fragment,null,"input"===type?InputEdit_jsx(Input_LoginInput,{typeHide:!0,placeholder,disabled:inputDisabled,className:"h5:w-full web:w-[640px] mt-3",inputClassName:"text-xwhite/60 font-medium focus:text-xwhite focus:font-xbold",value:name,onClear:function onClear(){return setName("")},onChange:function(_onChange){function onChange(_x){return _onChange.apply(this,arguments)}return onChange.toString=function(){return _onChange.toString()},onChange}((function(e){var v=maxLength?e.target.value.trim().substring(0,maxLength):e.target.value.trim();setName(v),null==onChange||onChange(v)}))}):InputEdit_jsx("textarea",{placeholder,disabled:inputDisabled,value:name,rows:4,onChange:function(_onChange2){function onChange(_x2){return _onChange2.apply(this,arguments)}return onChange.toString=function(){return _onChange2.toString()},onChange}((function(e){var v=maxLength?e.target.value.trimStart().substring(0,maxLength):e.target.value.trimStart();setName(v),null==onChange||onChange(v)})),className:classnames_default()("bg-xwhite/5 mt-3 p-6 h5:w-full web:w-[640px] text-xwhite/60 font-medium outline-none resize-none focus:text-xwhite focus:border-xcyan focus:border-[1px] hover:border-xcyan hover:border-[1px]","placeholder:text-xwhite/30 h5:placeholder:text-sm h5:text-sm")}),InputEdit_jsx("div",{className:"h5:flex h5:justify-between h5:mt-6"},InputEdit_jsx(components.zx,{size:"max",disabled:btnDisabled,loading,loadingVariant:"blue",onClick:onSave,className:classnames_default()("web:!w-[285px] web:mt-6 web:text-base web:leading-[48px]","h5:!w-[44vw] h5:text-base h5:leading-4")},"SAVE"),InputEdit_jsx(components.zx,{type:"ghost",size:"max",onClick:onCancel,className:classnames_default()("web:!w-[187px] web:ml-6 web:text-base","h5:!w-[44vw] h5:text-base")},"CANCEL")))},InputEditRead=function InputEditRead(_ref){var value=_ref.value,defaultValue=_ref.defaultValue,onClick=_ref.onClick;return InputEdit_jsx("div",{className:"flex items-center mt-3 font-medium text-xwhite/60"},InputEdit_jsx("span",{className:classnames_default()("h5:text-sm web:text-x-base break-all whitespace-pre-wrap",value?"":"text-xwhite/30")},value||defaultValue||"Unnamed"),InputEdit_jsx("span",{onClick,className:classnames_default()("relative inline-block ml-1 web:hover:text-xwhite cursor-pointer","after:hidden web:after:hover:block after:absolute after:-top-1 after:-left-1 after:w-8 after:h-8 after:bg-xwhite/10 after:rounded-full")},InputEdit_jsx(xterio_icons_esm.IconEdit24,{className:"relative",size:"24"})))};InputEditRead.displayName="InputEditRead";var InputUpdate=function InputUpdate(props){var value=props.value,defaultValue=props.defaultValue,editable=props.editable,onInputVisible=props.onInputVisible,_useState4=(0,react.useState)(!1),isEdit=_useState4[0],editAction=_useState4[1];return(0,react.useEffect)((function(){editAction(!!editable)}),[editable]),isEdit?InputEdit_jsx(InputEdit,(0,esm_extends.Z)({onCancel:function onCancel(){editAction(!1),null==onInputVisible||onInputVisible(!1)}},props)):InputEdit_jsx(InputEditRead,{value,defaultValue,onClick:function onClick(){editAction(!0),null==onInputVisible||onInputVisible(!0)}})};try{InputEdit.displayName="InputEdit",InputEdit.__docgenInfo={description:"",displayName:"InputEdit",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((p: string) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"input"'},{value:'"textarea"'}]}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"((p: string) => void)"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},rows:{defaultValue:null,description:"",name:"rows",required:!1,type:{name:"number"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/InputEdit.tsx#InputEdit"]={docgenInfo:InputEdit.__docgenInfo,name:"InputEdit",path:"src/pages/settings/components/InputEdit.tsx#InputEdit"})}catch(__react_docgen_typescript_loader_error){}try{InputEditRead.displayName="InputEditRead",InputEditRead.__docgenInfo={description:"",displayName:"InputEditRead",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/InputEdit.tsx#InputEditRead"]={docgenInfo:InputEditRead.__docgenInfo,name:"InputEditRead",path:"src/pages/settings/components/InputEdit.tsx#InputEditRead"})}catch(__react_docgen_typescript_loader_error){}try{InputUpdate.displayName="InputUpdate",InputUpdate.__docgenInfo={description:"",displayName:"InputUpdate",props:{type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"input"'},{value:'"textarea"'}]}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},rows:{defaultValue:null,description:"",name:"rows",required:!1,type:{name:"number"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"((p: string) => void)"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((p: string) => void)"}},onInputVisible:{defaultValue:null,description:"",name:"onInputVisible",required:!1,type:{name:"((v: boolean) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/InputEdit.tsx#InputUpdate"]={docgenInfo:InputUpdate.__docgenInfo,name:"InputUpdate",path:"src/pages/settings/components/InputEdit.tsx#InputUpdate"})}catch(__react_docgen_typescript_loader_error){}var ProfileSetting_jsx=react.createElement,ProfileSetting_ProfileSetting=function ProfileSetting(_ref){var avatars=_ref.avatars;(0,hooks.tO)().t;(0,hooks.Aw)("account_setting");var _useGlobalContext=(0,contexts.bN)(),userInfo=_useGlobalContext.userInfo,login=_useGlobalContext.login,_userInfo$uuid=userInfo.uuid,uuid=void 0===_userInfo$uuid?"":_userInfo$uuid,_userInfo$username=userInfo.username,username=void 0===_userInfo$username?"":_userInfo$username,created_at=userInfo.created_at,_userInfo$about=userInfo.about,about=void 0===_userInfo$about?"":_userInfo$about,onCopy=(0,hooks.C3)((function(){noti.Z.toast("Copied")})).run,_useRandom=(0,hooks.ig)({frequency:150,begin:0,end:avatars.length-1}),randomValue=_useRandom.randomValue,generateRandomToggle=_useRandom.toggle,_useState=(0,react.useState)(!1),isImgGenerating=_useState[0],setIsImgGenerating=_useState[1],_useState2=(0,react.useState)(""),randomImgUrl=_useState2[0],setRandomImgUrl=_useState2[1],_useState3=(0,react.useState)(),isLoadingAvatar=_useState3[0],setIsLoadingAvatar=_useState3[1];(0,react.useEffect)((function(){isImgGenerating&&setRandomImgUrl(avatars[randomValue])}),[randomValue,isImgGenerating,avatars]);var _useState4=(0,react.useState)(username),nickname=_useState4[0],setNickname=_useState4[1],_useState5=(0,react.useState)(!1),ifChangeNickname=_useState5[0],setIfChangeNickname=_useState5[1],_useBoolean=(0,es_useBoolean.Z)(),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),ifChangeAbout=_useBoolean2[0],setIfChangeAbout=_useBoolean2[1],_useState6=(0,react.useState)(""),aboutValue=_useState6[0],setAboutValue=_useState6[1],_useRequest=(0,es_useRequest.Z)((function(tag,data){var _data$avatar,_userInfo$avatar,_data$nickname,_data$about,params={avatar:(null!==(_data$avatar=null==data?void 0:data.avatar)&&void 0!==_data$avatar?_data$avatar:randomImgUrl)||(null!==(_userInfo$avatar=userInfo.avatar)&&void 0!==_userInfo$avatar?_userInfo$avatar:""),username:null!==(_data$nickname=null==data?void 0:data.nickname)&&void 0!==_data$nickname?_data$nickname:nickname,about:null!==(_data$about=null==data?void 0:data.about)&&void 0!==_data$about?_data$about:about};return(0,service.Ii)(params)}),{manual:!0,onSuccess:function onSuccess(saveRes,params){(0,isEmpty.Z)(saveRes)?("avatar"===params[0]&&setRandomImgUrl(""),"nickname"===params[0]&&(noti.Z.noti("success","Nickname change succeeded."),setIfChangeNickname(!1)),"about"===params[0]&&(noti.Z.noti("success","About change succeeded."),setIfChangeAbout.setFalse()),login()):11303===(null==saveRes?void 0:saveRes.err_code)?noti.Z.noti("error","The nickname is taken. Please try another one."):11301===(null==saveRes?void 0:saveRes.err_code)?noti.Z.noti("error","Save failed, the nickname failed to pass the review."):11302===(null==saveRes?void 0:saveRes.err_code)?noti.Z.noti("error","Save failed, the profile image failed to pass the review."):11304===(null==saveRes?void 0:saveRes.err_code)&&noti.Z.noti("error","Save failed, the profile about failed to pass the review.")},onFinally:function onFinally(params){"avatar"===params[0]&&setTimeout((function(){setIsLoadingAvatar(!1)}),1e3)}}),isProfileBtnPending=_useRequest.loading,onProfileChange=_useRequest.run,onGenerate=(0,react.useCallback)((function(){if(!isImgGenerating&&!isProfileBtnPending){generateRandomToggle(),setIsImgGenerating((function(pre){return!pre}));var timer=setTimeout((function(){generateRandomToggle(),setIsImgGenerating((function(pre){return!pre})),onProfileChange("avatar"),clearTimeout(timer)}),1e3)}}),[generateRandomToggle,isImgGenerating,isProfileBtnPending,onProfileChange]);return ProfileSetting_jsx("main",null,ProfileSetting_jsx(components_FontHeader,{text:"PROFILE",className:"h5:mt-8"}),ProfileSetting_jsx("section",{className:"h5:mx-4"},ProfileSetting_jsx("section",{className:"web:mt-8 h5:mt-6"},ProfileSetting_jsx("div",{className:"flex web:items-center web:mt-6 h5:flex-col h5:items-center h5:mt-6"},ProfileSetting_jsx("span",{className:"inline-block w-[120px] h-[120px] rounded-full bg-xwhite-op20 bg-[url('/icons/icon_default_avatar.svg')] bg-center bg-no-repeat"},ProfileSetting_jsx("span",{style:{backgroundImage:"url(".concat(randomImgUrl||userInfo.avatar||avatars[0],")")},className:"inline-flex items-center justify-center w-[120px] h-[120px] rounded-full bg-cover opacity-100"},isLoadingAvatar?ProfileSetting_jsx(components.gb,{size:24}):null)),ProfileSetting_jsx("div",{className:"relative text-sm web:ml-6 h5:mt-4"},ProfileSetting_jsx(ChangeAvatar,{onChange:function onChange(key,url){"generate"===key?onGenerate():(setIsLoadingAvatar(!0),null==onProfileChange||onProfileChange("avatar",{avatar:url}))}})))),ProfileSetting_jsx("section",{className:"mt-10"},ProfileSetting_jsx("h3",{className:"font-termina font-bold web:text-xl h5:text-base !leading-none"},"UID"),ProfileSetting_jsx("div",{className:"flex items-center mt-3 font-medium text-xwhite/60"},ProfileSetting_jsx("span",{className:"max-w-[84vw] h5:text-sm web:text-x-base break-all"},uuid),ProfileSetting_jsx(lib_default(),{text:uuid,onCopy},ProfileSetting_jsx("span",{className:classnames_default()("relative inline-block ml-1 web:hover:text-xwhite cursor-pointer","after:hidden web:after:hover:block after:absolute after:-top-1 after:-left-1 after:w-8 after:h-8 after:bg-xwhite/10 after:rounded-full")},ProfileSetting_jsx(xterio_icons_esm.IconCopy24,{className:"relative",size:"24"})))),ProfileSetting_jsx("h3",{className:"mt-10 font-termina font-bold web:text-xl h5:text-base !leading-none"},"NICKNAME"),ifChangeNickname?ProfileSetting_jsx(react.Fragment,null,ProfileSetting_jsx(Input_LoginInput,{typeHide:!0,disabled:!ifChangeNickname||isProfileBtnPending,placeholder:"ENTER NICKNAME",className:"h5:w-full web:w-[640px] mt-3",inputClassName:"text-xwhite/60 font-medium focus:text-xwhite focus:font-xbold",value:nickname,onClear:function onClear(){return setNickname("")},onChange:function onChange(e){return setNickname(e.target.value.trim().substring(0,50))}}),ProfileSetting_jsx("div",{className:"h5:flex h5:justify-between h5:mt-6"},ProfileSetting_jsx(components.zx,{onClick:function onClick(){onProfileChange("nickname")},loadingVariant:"blue",size:"max",disabled:!nickname||nickname===username||isProfileBtnPending,loading:isProfileBtnPending,className:classnames_default()("web:!w-[285px] web:mt-6 web:text-base web:leading-[48px]","h5:!w-[44vw] h5:text-base h5:leading-4")},"SAVE"),ProfileSetting_jsx("button",{onClick:function onClick(){setIfChangeNickname(!1),setNickname(username||"")},className:classnames_default()("align-bottom border-2 rounded-full text-xwhite font-bold","web:w-[187px] web:h-16 web:ml-6 web:hover:text-background web:hover:bg-xwhite web:hover:border-0 web:text-xl web:leading-none","h5:w-[44vw] h5:h-12 h5:text-base h5:leading-none")},"CANCEL"))):ProfileSetting_jsx("div",{className:"flex items-center mt-3 font-medium text-xwhite/60"},ProfileSetting_jsx("span",{className:"h5:text-sm web:text-x-base break-all"},nickname||"Unnamed"),ProfileSetting_jsx("span",{onClick:function onClick(){setIfChangeNickname(!0)},className:classnames_default()("relative inline-block ml-1 web:hover:text-xwhite cursor-pointer","after:hidden web:after:hover:block after:absolute after:-top-1 after:-left-1 after:w-8 after:h-8 after:bg-xwhite/10 after:rounded-full")},ProfileSetting_jsx(xterio_icons_esm.IconEdit24,{className:"relative",size:"24"}))),ProfileSetting_jsx("div",{className:"flex items-center justify-between mt-10 font-termina font-bold web:text-xl web:leading-5 web:w-[640px] h5:w-full h5:text-base h5:leading-4"},ProfileSetting_jsx("span",null,"ABOUT ME"),ifChangeAbout?ProfileSetting_jsx("span",{className:"text-xwhite/40 text-xs font-xmedium font-termina"},"".concat(aboutValue.length,"/160")):null),ProfileSetting_jsx(InputUpdate,{editable:ifChangeAbout,type:"textarea",value:about,defaultValue:"Click here to fill in your profile and let everyone know you better.",placeholder:"Click here to fill in your profile and let everyone know you better.",disabled:isProfileBtnPending,maxLength:160,onChange:function onChange(p){return setAboutValue(p)},onSubmit:function onSubmit(p){onProfileChange("about",{about:p})},onInputVisible:function onInputVisible(p){!0===p&&setAboutValue(about),setIfChangeAbout.set(p)}}),ProfileSetting_jsx("h3",{className:"mt-10 font-termina font-bold web:text-xl web:leading-5 h5:text-base h5:leading-4"},"REGISTRATION DATE"),ProfileSetting_jsx("p",{className:"mt-3 font-termina font-xmedium h5:text-x-sm web:text-x-base text-xwhite/60"},(0,utils.p6)(1e3*Number(created_at||0),"YYYY-MM-DD")))))};ProfileSetting_ProfileSetting.displayName="ProfileSetting";try{ProfileSetting_ProfileSetting.displayName="ProfileSetting",ProfileSetting_ProfileSetting.__docgenInfo={description:"",displayName:"ProfileSetting",props:{avatars:{defaultValue:null,description:"",name:"avatars",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/ProfileSetting.tsx#ProfileSetting"]={docgenInfo:ProfileSetting_ProfileSetting.__docgenInfo,name:"ProfileSetting",path:"src/pages/settings/ProfileSetting.tsx#ProfileSetting"})}catch(__react_docgen_typescript_loader_error){}var useSetState=__webpack_require__("./node_modules/ahooks/es/useSetState/index.js"),useInterval=__webpack_require__("./node_modules/ahooks/es/useInterval/index.js"),user2fa=__webpack_require__("./src/common/service/user2fa.ts"),With2faChangeModal_jsx=react.createElement,With2faChangeModal_With2faChangeModal=function With2faChangeModal(_ref){_ref.onSuccess;var callback=_ref.callback,children=_ref.children,_useGlobalContext=(0,contexts.bN)(),userInfo=_useGlobalContext.userInfo,login=_useGlobalContext.login,sniffer=_useGlobalContext.sniffer,bindEmail=userInfo.email,user2faEmail=userInfo.user2fa.email,_useBoolean=(0,es_useBoolean.Z)(!1),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),is2faOpen=_useBoolean2[0],_useBoolean2$=_useBoolean2[1],on2faOpen=(_useBoolean2$.toggle,_useBoolean2$.setTrue),on2faClose=_useBoolean2$.setFalse,initialState=(0,react.useMemo)((function(){return{email:"",code:"",emailErrorMsg:"",codeErrorMsg:"",hasSend:!1,timeout:0,newCode:"",newTimeout:0,newEmailHasSend:!1,newCodeErrorMsg:""}}),[]),_useSetState=(0,useSetState.Z)(initialState),_useSetState2=(0,slicedToArray.Z)(_useSetState,2),_useSetState2$=_useSetState2[0],email=_useSetState2$.email,code=_useSetState2$.code,newCode=_useSetState2$.newCode,timeout=_useSetState2$.timeout,newTimeout=_useSetState2$.newTimeout,newEmailHasSend=_useSetState2$.newEmailHasSend,emailErrorMsg=_useSetState2$.emailErrorMsg,codeErrorMsg=_useSetState2$.codeErrorMsg,newCodeErrorMsg=_useSetState2$.newCodeErrorMsg,hasSend=_useSetState2$.hasSend,setState=_useSetState2[1],innerOnClose=(0,react.useCallback)((function(){on2faClose(),setState(initialState)}),[initialState,on2faClose,setState]);(0,react.useEffect)((function(){setState({codeErrorMsg:""})}),[code,setState]),(0,react.useEffect)((function(){setState({newCodeErrorMsg:""})}),[newCode,setState]),(0,react.useEffect)((function(){setState({newEmailHasSend:!1,newTimeout:0})}),[email,setState]),(0,useInterval.Z)((function(){0!==timeout&&setState({timeout:timeout-1})}),1e3),(0,useInterval.Z)((function(){0!==newTimeout&&setState({newTimeout:newTimeout-1})}),1e3);var _useRequest=(0,es_useRequest.Z)(user2fa.HC,{manual:!0,onSuccess:function onSuccess(){setState({hasSend:!0,timeout:60})},onError:function onError(e){(0,error.hF)(e)&&(e.err_code,noti.Z.noti("error",e.err_msg))}}),runGet2faEmailCode=(_useRequest.loading,_useRequest.run),_useRequest2=(0,es_useRequest.Z)(user2fa.Ul,{manual:!0,onSuccess:function onSuccess(){setState({newEmailHasSend:!0,newTimeout:60})},onError:function onError(e){(0,error.hF)(e)&&(11601===e.err_code&&setState({emailErrorMsg:"This email address is already used."}),noti.Z.noti("error",e.err_msg))}}),runChange2faEmail=(_useRequest2.loading,_useRequest2.run),_useRequest3=(0,es_useRequest.Z)(user2fa.y$,{manual:!0,onSuccess:function onSuccess(res){noti.Z.noti("success","Your 2FA secure email has been changed successfully!"),login(),null==callback||callback(),innerOnClose()},onError:function onError(e){if((0,error.hF)(e))switch(e.err_code){case 11601:setState({emailErrorMsg:"This email address is already used."});case 11602:setState({newCodeErrorMsg:"Invalid verification code."});default:noti.Z.noti("error",e.err_msg)}}}),isConfirmingUpdate2faEmailCode=_useRequest3.loading,runConfirmUpdate2faEmailCode=_useRequest3.run,_useRequest4=(0,es_useRequest.Z)(user2fa.pU,{manual:!0,onSuccess:function onSuccess(res){var token=(res||{}).token;token&&runConfirmUpdate2faEmailCode(newCode,token)},onError:function onError(e){(0,error.hF)(e)&&(11602===e.err_code&&setState({codeErrorMsg:"Invalid verification code."}),noti.Z.noti("error",e.err_msg))}}),isUpdating2faEmail=_useRequest4.loading,update2faEmail=_useRequest4.run,btnDisabled=(0,react.useMemo)((function(){return!email||6!==code.length||!hasSend||isUpdating2faEmail||6!==newCode.length||!newEmailHasSend||isConfirmingUpdate2faEmailCode||!!emailErrorMsg||!!codeErrorMsg||!!newCodeErrorMsg}),[code.length,codeErrorMsg,email,emailErrorMsg,hasSend,isConfirmingUpdate2faEmailCode,isUpdating2faEmail,newCode.length,newCodeErrorMsg,newEmailHasSend]);return With2faChangeModal_jsx("section",{onClick:function onClick(){user2faEmail&&on2faOpen()}},With2faChangeModal_jsx(xmodal.$,{isOpen:is2faOpen,onClose:innerOnClose,hideButtons:!0,contentClass:"h5:px-10 web:px-12 pt-8"},With2faChangeModal_jsx(flex_box.Ht,{className:classnames_default()("items-center","justify-start")},With2faChangeModal_jsx(xterio_icons_esm.IconEmail80,{className:"text-xdarkblue min-h-[64px]",size:64}),With2faChangeModal_jsx("div",{className:"mt-2 text-xsnug-base uppercase text-center font-termina font-xbold text-xdarkblue"},"Change Secure Email"),With2faChangeModal_jsx("p",{className:"mt-1.5 text-sm text-center font-poppins font-xextralight text-black/60"},"Click to send a two-factor authentication code to the current secure email, enter the code to continue.")),With2faChangeModal_jsx("h3",{className:"mt-6 text-x-sm font-poppins font-medium text-black/60"},"Current Secure Email: ",(0,utils.Yy)(user2faEmail)),With2faChangeModal_jsx(flex_box.Ht,null,With2faChangeModal_jsx("label",{htmlFor:"code",className:"mt-2 pl-8 pr-4 relative flex flex-row items-center group w-full h-12 cursor-text font-termina rounded-full border-2 focus-within:border-xdarkblue hover:border-xdarkblue ".concat(codeErrorMsg?"border-[#F53F3F]":"border-xdarkblue/40"," ")},With2faChangeModal_jsx("div",{className:"flex items-center"},With2faChangeModal_jsx("input",{value:code,onChange:function onChange(e){setState({code:e.target.value.replace(/[^0-9]/gi,"").slice(0,6)})},onFocus:function onFocus(){setState({codeErrorMsg:""})},onBlur:function onBlur(){setState({codeErrorMsg:code?(0,utils.y2)(code)?"":"Invalid code.":""})},id:"code",autoComplete:"off",placeholder:"2FA CODE",className:"w-full h-[18px] placeholder:font-medium placeholder:opacity-40 inline-block text-x-sm font-xbold text-xdarkblue outline-none bg-transparent"})),code&&With2faChangeModal_jsx(xterio_icons_esm.IconClose24,{onMouseDown:function onMouseDown(e){e.stopPropagation(),e.preventDefault()},onClick:function onClick(){setState({code:""})},className:"group-focus-within:block hidden flex-shrink-0 mr-6 ml-1 cursor-pointer text-[#c4c4c4]"}),With2faChangeModal_jsx("button",{disabled:timeout>0&&!!bindEmail,onClick:runGet2faEmailCode,className:"disabled:text-lightblue/40 disabled:font-medium text-x-sm font-xbold text-xcyan"},hasSend?"RESEND":"SEND",timeout>0?"(".concat(timeout,"s)"):"")),codeErrorMsg&&With2faChangeModal_jsx("span",{className:"mt-2 text-x-xs font-termina font-light text-[#F53F3F]"},codeErrorMsg)),With2faChangeModal_jsx("h3",{className:"mt-4 text-x-sm font-poppins font-medium text-black/60"},"New Secure Email"),With2faChangeModal_jsx(flex_box.Ht,null,With2faChangeModal_jsx("label",{htmlFor:"email",className:"mt-2 relative group peer w-full h-12 cursor-text font-termina rounded-full px-8 border-2 focus-within:border-xdarkblue hover:border-xdarkblue ".concat(emailErrorMsg&&email?"border-[#F53F3F]":"border-xdarkblue/40"," ")},With2faChangeModal_jsx("div",{className:"absolute group-focus-within:top-1.5 group-focus-within:text-x-xs transition-all ".concat(email?"top-1.5 text-x-xs":"text-x-sm top-[15px] opacity-40"," text-xgray font-termina font-medium")},With2faChangeModal_jsx("span",{className:"align-[0em] uppercase"},"New Email")),With2faChangeModal_jsx("div",{className:"flex items-center"},With2faChangeModal_jsx("input",{className:classnames_default()("w-full mt-[22px] pr-4 h-[14px] inline-block text-x-sm font-xbold text-xdarkblue outline-none bg-transparent",sniffer.isSafari&&"!h-5 mt-5"),value:email,onChange:function onChange(e){setState({email:e.target.value.trim()})},onFocus:function onFocus(){setState({emailErrorMsg:""})},onBlur:function onBlur(){setState({emailErrorMsg:(0,utils.Jh)(email)?"":"Invalid email."})},id:"email",autoComplete:"off"})),email&&With2faChangeModal_jsx(xterio_icons_esm.IconClose24,{onMouseDown:function onMouseDown(e){e.stopPropagation(),e.preventDefault()},className:"group-focus-within:block hidden absolute top-[10px] right-4 cursor-pointer text-[#c4c4c4]",onClick:function onClick(){setState({email:""})}})),!!emailErrorMsg&&!!email&&With2faChangeModal_jsx("span",{className:"peer-focus-within:hidden mt-2 text-x-xs font-termina font-light text-[#F53F3F]"},emailErrorMsg),With2faChangeModal_jsx("label",{htmlFor:"newCode",className:"mt-3 pl-8 pr-4 relative flex flex-row items-center group w-full h-12 cursor-text font-termina rounded-full border-2 focus-within:border-xdarkblue hover:border-xdarkblue ".concat(newCodeErrorMsg?"border-[#F53F3F]":"border-xdarkblue/40"," ")},With2faChangeModal_jsx("div",{className:"flex items-center"},With2faChangeModal_jsx("input",{value:newCode,onChange:function onChange(e){setState({newCode:e.target.value.replace(/[^0-9]/gi,"").slice(0,6)})},onFocus:function onFocus(){setState({newCodeErrorMsg:""})},onBlur:function onBlur(){setState({newCodeErrorMsg:newCode?(0,utils.y2)(newCode)?"":"Invalid code.":""})},id:"newCode",autoComplete:"off",placeholder:newEmailHasSend?"VERIFICATIO...":"VERIFICATION CODE",className:"w-full h-[18px] placeholder:font-medium placeholder:opacity-40 inline-block text-x-sm font-xbold text-xdarkblue outline-none bg-transparent"})),newCode&&With2faChangeModal_jsx(xterio_icons_esm.IconClose24,{onMouseDown:function onMouseDown(e){e.stopPropagation(),e.preventDefault()},onClick:function onClick(){setState({newCode:""})},className:"group-focus-within:block hidden flex-shrink-0 mr-6 ml-1 cursor-pointer text-[#c4c4c4]"}),With2faChangeModal_jsx("button",{disabled:newTimeout>0||!(0,utils.Jh)(email),onClick:function onClick(){runChange2faEmail(email)},className:"disabled:text-lightblue/40 disabled:font-medium text-x-sm font-xbold text-xcyan"},newEmailHasSend?"RESEND":"SEND",newTimeout>0?"(".concat(newTimeout,"s)"):"")),newCodeErrorMsg&&With2faChangeModal_jsx("span",{className:"mt-2 text-x-xs font-termina font-light text-[#F53F3F]"},newCodeErrorMsg)),With2faChangeModal_jsx("div",{className:"mt-8 pb-8"},With2faChangeModal_jsx(XButton.z,{type:"confirm",onClick:function onClick(){update2faEmail(code)},disabled:btnDisabled,className:"!w-full"},"CONFIRM"))),children)};With2faChangeModal_With2faChangeModal.displayName="With2faChangeModal";try{With2faChangeModal_With2faChangeModal.displayName="With2faChangeModal",With2faChangeModal_With2faChangeModal.__docgenInfo={description:"",displayName:"With2faChangeModal",props:{onSuccess:{defaultValue:null,description:"",name:"onSuccess",required:!1,type:{name:"((res: any) => void)"}},callback:{defaultValue:null,description:"",name:"callback",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/2fa/With2faChangeModal.tsx#With2faChangeModal"]={docgenInfo:With2faChangeModal_With2faChangeModal.__docgenInfo,name:"With2faChangeModal",path:"src/components/2fa/With2faChangeModal.tsx#With2faChangeModal"})}catch(__react_docgen_typescript_loader_error){}var With2faSetModal_jsx=react.createElement,With2faSetModal_With2faSetModal=function With2faSetModal(_ref){var _onSuccess=_ref.onSuccess,_onClick=_ref.onClick,children=_ref.children,_useGlobalContext=(0,contexts.bN)(),userInfo=_useGlobalContext.userInfo,login=_useGlobalContext.login,sniffer=_useGlobalContext.sniffer,user2faEmail=userInfo.user2fa.email,_useBoolean=(0,es_useBoolean.Z)(!1),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),is2faOpen=_useBoolean2[0],_useBoolean2$=_useBoolean2[1],on2faOpen=(_useBoolean2$.toggle,_useBoolean2$.setTrue),on2faClose=_useBoolean2$.setFalse,_useSetState=(0,useSetState.Z)({email:"",code:"",emailErrorMsg:"",codeErrorMsg:"",hasSend:!1,timeout:0}),_useSetState2=(0,slicedToArray.Z)(_useSetState,2),_useSetState2$=_useSetState2[0],email=_useSetState2$.email,code=_useSetState2$.code,timeout=_useSetState2$.timeout,emailErrorMsg=_useSetState2$.emailErrorMsg,codeErrorMsg=_useSetState2$.codeErrorMsg,hasSend=_useSetState2$.hasSend,setState=_useSetState2[1],innerOnClose=(0,react.useCallback)((function(){on2faClose(),setState({email:"",code:"",emailErrorMsg:"",codeErrorMsg:"",hasSend:!1,timeout:0})}),[on2faClose,setState]);(0,react.useEffect)((function(){setState({codeErrorMsg:""})}),[code,setState]),(0,react.useEffect)((function(){setState({hasSend:!1,timeout:0})}),[email,setState]),(0,useInterval.Z)((function(){0!==timeout&&setState({timeout:timeout-1})}),1e3);var _useRequest=(0,es_useRequest.Z)(user2fa.Ul,{manual:!0,onSuccess:function onSuccess(){setState({hasSend:!0,timeout:60})},onError:function onError(e){(0,error.hF)(e)&&(11601===e.err_code&&setState({emailErrorMsg:"This email address is already used."}),noti.Z.noti("error",e.err_msg))}}),onSend=(_useRequest.loading,_useRequest.run),_useRequest2=(0,es_useRequest.Z)(user2fa.IB,{manual:!0,onSuccess:function onSuccess(res){noti.Z.noti("success","Your 2FA secure email has been set successfully!"),login(),null==_onSuccess||_onSuccess(),innerOnClose()},onError:function onError(e){if((0,error.hF)(e))switch(e.err_code){case 11601:setState({emailErrorMsg:"This email address is already used."});case 11602:setState({codeErrorMsg:"Invalid verification code."});default:noti.Z.noti("error",e.err_msg)}}}),is2faEmailSetting=_useRequest2.loading,set2faEmail=_useRequest2.run,btnDisabled=(0,react.useMemo)((function(){return!email||6!==code.length||!!emailErrorMsg||!!codeErrorMsg||!hasSend||is2faEmailSetting}),[code.length,codeErrorMsg,email,emailErrorMsg,hasSend,is2faEmailSetting]);return With2faSetModal_jsx("section",{onClick:function onClick(e){user2faEmail||(null==_onClick||_onClick(e),on2faOpen())}},With2faSetModal_jsx(xmodal.$,{isOpen:is2faOpen,onClose:innerOnClose,hideButtons:!0,contentClass:"h5:px-10 web:px-12 pt-8"},With2faSetModal_jsx(flex_box.Ht,{className:classnames_default()("items-center","justify-start")},With2faSetModal_jsx(xterio_icons_esm.IconEmail80,{className:"text-xdarkblue min-h-[64px]",size:64}),With2faSetModal_jsx("div",{className:"mt-2 text-xsnug-base uppercase text-center font-termina font-xbold text-xdarkblue"},"Set Secure Email"),With2faSetModal_jsx("p",{className:"mt-1.5 text-sm text-center font-poppins font-xextralight text-black/60"},"To ensure the security of your account and assets, please set up a secure email address, which will be used to receive your two-factor authentication code."),With2faSetModal_jsx(flex_box.Ht,null,With2faSetModal_jsx("label",{htmlFor:"email",className:"mt-6 relative group peer w-full h-12 cursor-text font-termina rounded-full px-8 border-2 focus-within:border-xdarkblue hover:border-xdarkblue ".concat(emailErrorMsg&&email?"border-[#F53F3F]":"border-xdarkblue/40"," ")},With2faSetModal_jsx("div",{className:"absolute group-focus-within:top-1.5 group-focus-within:text-x-xs transition-all ".concat(email?"top-1.5 text-x-xs":"text-x-sm top-[15px] opacity-40"," text-xgray font-termina font-medium")},With2faSetModal_jsx("span",{className:"align-[0em] uppercase"},"Secure Email")),With2faSetModal_jsx("div",{className:"flex items-center"},With2faSetModal_jsx("input",{className:classnames_default()("w-full mt-[22px] pr-4 h-[14px] inline-block text-x-sm font-xbold text-xdarkblue outline-none bg-transparent",sniffer.isSafari&&"!h-5 mt-5"),value:email,onChange:function onChange(e){setState({email:e.target.value.trim()})},onFocus:function onFocus(){setState({emailErrorMsg:""})},onBlur:function onBlur(){setState({emailErrorMsg:(0,utils.Jh)(email)?"":"Invalid email."})},id:"email",autoComplete:"off"})),email&&With2faSetModal_jsx(xterio_icons_esm.IconClose24,{onMouseDown:function onMouseDown(e){e.stopPropagation(),e.preventDefault()},className:"group-focus-within:block hidden absolute top-[10px] right-4 cursor-pointer text-[#c4c4c4]",onClick:function onClick(){setState({email:""})}})),!!emailErrorMsg&&!!email&&With2faSetModal_jsx("span",{className:"peer-focus-within:hidden mt-2 text-x-xs font-termina font-light text-[#F53F3F]"},emailErrorMsg),With2faSetModal_jsx("label",{htmlFor:"code",className:"mt-3 pl-8 pr-4 relative flex flex-row items-center group w-full h-12 cursor-text font-termina rounded-full border-2 focus-within:border-xdarkblue hover:border-xdarkblue ".concat(codeErrorMsg?"border-[#F53F3F]":"border-xdarkblue/40"," ")},With2faSetModal_jsx("div",{className:"flex items-center"},With2faSetModal_jsx("input",{value:code,onChange:function onChange(e){setState({code:e.target.value.replace(/[^0-9]/gi,"").slice(0,6)})},onFocus:function onFocus(){setState({codeErrorMsg:""})},onBlur:function onBlur(){setState({codeErrorMsg:code?(0,utils.y2)(code)?"":"Invalid code.":""})},id:"code",autoComplete:"off",placeholder:hasSend?"VERIFICATIO...":"VERIFICATION CODE",className:"w-full h-[18px] placeholder:font-medium placeholder:opacity-40 inline-block text-x-sm font-xbold text-xdarkblue outline-none bg-transparent"})),code&&With2faSetModal_jsx(xterio_icons_esm.IconClose24,{onMouseDown:function onMouseDown(e){e.stopPropagation(),e.preventDefault()},onClick:function onClick(){setState({code:""})},className:"group-focus-within:block hidden flex-shrink-0 mr-6 ml-1 cursor-pointer text-[#c4c4c4]"}),With2faSetModal_jsx("button",{disabled:timeout>0||!(0,utils.Jh)(email),onClick:function onClick(){onSend(email)},className:"disabled:text-lightblue/40 disabled:font-medium text-x-sm font-xbold text-xcyan"},hasSend?"RESEND":"SEND",timeout>0?"(".concat(timeout,"s)"):"")),codeErrorMsg&&With2faSetModal_jsx("span",{className:"mt-2 text-x-xs font-termina font-light text-[#F53F3F]"},codeErrorMsg))),With2faSetModal_jsx("div",{className:"mt-8 pb-8"},With2faSetModal_jsx(XButton.z,{type:"confirm",onClick:function onClick(){set2faEmail(code)},disabled:btnDisabled,className:"!w-full",id:"2fa_verify_confirm","data-sensors-click":!0},"CONFIRM"))),children)};With2faSetModal_With2faSetModal.displayName="With2faSetModal";try{With2faSetModal_With2faSetModal.displayName="With2faSetModal",With2faSetModal_With2faSetModal.__docgenInfo={description:"",displayName:"With2faSetModal",props:{onSuccess:{defaultValue:null,description:"",name:"onSuccess",required:!1,type:{name:"(() => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MouseEvent<HTMLElement, MouseEvent>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/2fa/With2faSetModal.tsx#With2faSetModal"]={docgenInfo:With2faSetModal_With2faSetModal.__docgenInfo,name:"With2faSetModal",path:"src/components/2fa/With2faSetModal.tsx#With2faSetModal"})}catch(__react_docgen_typescript_loader_error){}var Ani_jsx=react.createElement,Ani_Ani=function Ani(_ref){var show=_ref.show,children=_ref.children,heightClass=_ref.heightClass,_ref$ani=_ref.ani,ani=void 0===_ref$ani?"height":_ref$ani;return Ani_jsx(react.Fragment,null,"height"===ani?Ani_jsx("div",{className:classnames_default()("transition-all overflow-hidden h5:w-full",show?heightClass+" h-auto":"max-h-0")},children):null)};try{Ani_Ani.displayName="Ani",Ani_Ani.__docgenInfo={description:"",displayName:"Ani",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},heightClass:{defaultValue:null,description:"",name:"heightClass",required:!1,type:{name:"string"}},ani:{defaultValue:{value:"height"},description:"",name:"ani",required:!1,type:{name:"enum",value:[{value:'"height"'},{value:'"translate"'},{value:'"zoom"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/PwdInput/Ani.tsx#Ani"]={docgenInfo:Ani_Ani.__docgenInfo,name:"Ani",path:"src/pages/settings/components/PwdInput/Ani.tsx#Ani"})}catch(__react_docgen_typescript_loader_error){}var PwdInput_PasswordTips_jsx=react.createElement,PasswordTips_CheckItem=function CheckItem(_ref){var _ref$text=_ref.text,text=void 0===_ref$text?"":_ref$text,_ref$pass=_ref.pass;return PwdInput_PasswordTips_jsx("div",{className:"flex items-center h5:mb-4 web:mb-3 last:mb-0"},void 0!==_ref$pass&&_ref$pass?PwdInput_PasswordTips_jsx(xterio_icons_esm.IconCheckRight12,{className:"text-xcyan"}):PwdInput_PasswordTips_jsx(xterio_icons_esm.IconCheckError12,{className:"text-xpink"}),PwdInput_PasswordTips_jsx("span",{className:"flex-1 pl-2 font-poppins text-xwhite/60 font-xlight text-xs leading-none"},text))};PasswordTips_CheckItem.displayName="CheckItem";var PasswordTips_PasswordTips=function PasswordTips(_ref2){var password=_ref2.password,t=(0,hooks_useEasyTranslation.Z)().t,checkList=(0,react.useMemo)((function(){return[{checkFn:function checkFn(val){return val.length>=8},text:t("login.password.length")},{checkFn:function checkFn(val){return/\d/.test(val)},text:t("login.password.number")},{checkFn:function checkFn(val){return/[A-Z]/.test(val)},text:t("login.password.upper")},{checkFn:function checkFn(val){return!val.includes(" ")},text:t("login.password.spaces")}]}),[t]);return PwdInput_PasswordTips_jsx(react.Fragment,null,PwdInput_PasswordTips_jsx(components.ph,null,PwdInput_PasswordTips_jsx(components.jD,{cutSize:"0rem",className:"w-[185px] bg-black inline-block h-[116px] p-4 text-xwhite !absolute z-20 -top-[26px] -right-[197px]"},checkList.map((function(i){return PwdInput_PasswordTips_jsx(PasswordTips_CheckItem,{key:i.text,text:i.text,pass:i.checkFn(password)})})))),PwdInput_PasswordTips_jsx(components.H5,null,PwdInput_PasswordTips_jsx(components.jD,{cutSize:"0rem",className:"w-full bg-black flex-wrap inline-flex flex-col h-auto p-3 text-xwhite mt-2 right-0"},checkList.map((function(i){return PwdInput_PasswordTips_jsx("div",{key:i.text,className:"w-full flex-1 mb-[7px] last:mb-0"},PwdInput_PasswordTips_jsx(PasswordTips_CheckItem,{text:i.text,pass:i.checkFn(password)}))})))))};try{PasswordTips_PasswordTips.displayName="PasswordTips",PasswordTips_PasswordTips.__docgenInfo={description:"",displayName:"PasswordTips",props:{password:{defaultValue:null,description:"",name:"password",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/PwdInput/PasswordTips.tsx#PasswordTips"]={docgenInfo:PasswordTips_PasswordTips.__docgenInfo,name:"PasswordTips",path:"src/pages/settings/components/PwdInput/PasswordTips.tsx#PasswordTips"})}catch(__react_docgen_typescript_loader_error){}var PwdInput_Input_excluded=["value","errorMsg","isError"],PwdInput_Input_jsx=react.createElement;function Input_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Input_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Input_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Input_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Input_InputTheme={normal:{text:"text-xwhite",caret:"caret-xcyan",borderWithoutHover:"border-xwhite/20",border:"border-xwhite/20 md:hover:border-xcyan",font:"font-termina font-xbold",placeholder:"web:text-base h5:text-sm landscape:text-sm placeholder-xwhite/40 placeholder:font-xlight",placeholderSpan:"text-xwhite/40",placeholderSpanUp:"",icon:"text-xwhite/20 cursor-pointer web:hover:text-xwhite/40",focusBorder:"border-xcyan",errorBorder:"border-error"},dark:{text:"text-xdarkblue",caret:"caret-xgray",borderWithoutHover:"border-xgray/40",border:"border-xgray/40 md:hover:border-xdarkblue",font:"font-termina font-xbold",placeholder:"placeholder:web:text-base placeholder:h5:text-sm landscape:text-sm placeholder-xgray/40 placeholder:font-termina placeholder:font-xmedium",placeholderSpan:"text-xgray/40",placeholderSpanUp:"text-xgray",icon:"text-xdarkblue/20 cursor-pointer web:hover:text-xdarkblue",focusBorder:"border-xdarkblue",errorBorder:"border-error"},disabled:{text:"text-xwhite/20",caret:"caret-xcyan",borderWithoutHover:"border-xwhite/10",border:"border-xwhite/10 md:hover:border-xcyan",font:"font-termina font-xbold",placeholder:"web:text-base h5:text-sm landscape:text-sm placeholder-xwhite/20 placeholder:font-xlight",placeholderSpan:"text-xwhite/20",focusBorder:"border-xcyan",placeholderSpanUp:"",icon:"text-xwhite/20 cursor-pointer web:hover:text-xwhite/40",errorBorder:"border-error"}},Input=function Input(_ref){var placeholder=_ref.placeholder,value=_ref.value,_ref$errorMsg=_ref.errorMsg,errorMsg=void 0===_ref$errorMsg?"":_ref$errorMsg,_ref$size=_ref.size,size=void 0===_ref$size?"large":_ref$size,_ref$theme=_ref.theme,theme=void 0===_ref$theme?"normal":_ref$theme,_ref$type=_ref.type,type=void 0===_ref$type?"email":_ref$type,_ref$typeHide=_ref.typeHide,typeHide=void 0!==_ref$typeHide&&_ref$typeHide,showPasswordTips=_ref.showPasswordTips,_ref$autoComplete=_ref.autoComplete,autoComplete=void 0===_ref$autoComplete?"on":_ref$autoComplete,className=_ref.className,_ref$inputClassName=_ref.inputClassName,inputClassName=void 0===_ref$inputClassName?"":_ref$inputClassName,_ref$suffix=_ref.suffix,suffix=void 0===_ref$suffix?null:_ref$suffix,onChange=_ref.onChange,onClear=_ref.onClear,onBlur=_ref.onBlur,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,searchInputRef=(0,react.useRef)(null),_useState=(0,react.useState)(!1),focus=_useState[0],setFocus=_useState[1],_useResponsive=(0,hooks.Fs)("md"),isLargerThanMD=(0,slicedToArray.Z)(_useResponsive,1)[0],sniffer=(0,global_context.bN)().sniffer,themeStyle=(0,react.useMemo)((function(){return disabled?Input_InputTheme.disabled:Input_InputTheme[theme]}),[disabled,theme]),isNotNormalSize=(0,react.useMemo)((function(){return"normal"!==size}),[size]),_useBoolean=(0,es_useBoolean.Z)("password"===type),_useBoolean2=(0,slicedToArray.Z)(_useBoolean,2),hide=_useBoolean2[0],hideActions=_useBoolean2[1],error=!!errorMsg&&!!value&&!focus,isMobileLandscape=(0,hooks.Nt)(),_useDebounceFn=(0,useDebounceFn.Z)((function(){setFocus(!1)}),{wait:50}),run=_useDebounceFn.run,cancel=_useDebounceFn.cancel;(0,react.useEffect)((function(){var _searchInputRef$curre;"editControl"===type&&!1===disabled&&(null===(_searchInputRef$curre=searchInputRef.current)||void 0===_searchInputRef$curre||_searchInputRef$curre.focus())}),[type,disabled]);var onFocus=(0,react.useCallback)((function(){cancel(),setFocus(!0)}),[cancel]),isUp=focus||value;return PwdInput_Input_jsx("div",{className:classnames_default()(className,"w-full")},PwdInput_Input_jsx("div",{className:classnames_default()("w-full border-2 rounded-full mx-auto group relative",isLargerThanMD&&!isMobileLandscape&&isNotNormalSize?"pr-6 pl-10 h-16":"pr-4 pl-8 h-12",disabled&&themeStyle.borderWithoutHover,error&&!disabled&&themeStyle.errorBorder,!focus&&!error&&!disabled&&themeStyle.border,focus&&!error&&!disabled&&themeStyle.focusBorder,{"cursor-text":!disabled,"cursor-not-allowed bg-xwhite/5":!!disabled})},"verifyCode"!==type&&!1===typeHide?PwdInput_Input_jsx("span",{className:classnames_default()("transition-all absolute leading-none font-termina font-xmedium",isLargerThanMD&&!isMobileLandscape&&isNotNormalSize?"left-10":"left-8",isUp?isLargerThanMD&&!isMobileLandscape&&isNotNormalSize?"top-[14px] left-10 text-xs":"top-2 left-8 text-xs":isLargerThanMD&&!isMobileLandscape&&isNotNormalSize?"text-base top-6":"text-sm top-4",isUp?null==themeStyle?void 0:themeStyle.placeholderSpanUp:themeStyle.placeholderSpan),onClick:function onClick(){var _searchInputRef$curre2;null===(_searchInputRef$curre2=searchInputRef.current)||void 0===_searchInputRef$curre2||_searchInputRef$curre2.focus()}},placeholder):null,PwdInput_Input_jsx("div",{className:classnames_default()("h-full w-full flex items-center"),onClick:function onClick(){var _searchInputRef$curre3;null===(_searchInputRef$curre3=searchInputRef.current)||void 0===_searchInputRef$curre3||_searchInputRef$curre3.focus()}},PwdInput_Input_jsx("input",{type:hide&&("off"!==autoComplete||value)?"password":"text",onFocus,autoComplete,onBlur:function(_onBlur){function onBlur(){return _onBlur.apply(this,arguments)}return onBlur.toString=function(){return _onBlur.toString()},onBlur}((function(){run(),onBlur&&onBlur()})),placeholder:"verifyCode"!==type&&!1===typeHide?"":placeholder,ref:searchInputRef,className:classnames_default()("outline-none w-full pr-4 bg-transparent leading-none autofill:bg-transparent",isLargerThanMD&&!isMobileLandscape&&isNotNormalSize?"text-base":"text-sm",{"cursor-not-allowed":!!disabled},(0,defineProperty.Z)({},themeStyle.text,themeStyle.text),(0,defineProperty.Z)({},themeStyle.caret,themeStyle.caret),(0,defineProperty.Z)({},themeStyle.font,themeStyle.font),(0,defineProperty.Z)({},themeStyle.placeholder,themeStyle.placeholder),"verifyCode"!==type&&"self-start","verifyCode"!==type?null!=sniffer&&sniffer.isSafari?isLargerThanMD&&!isMobileLandscape&&isNotNormalSize?"".concat(typeHide?"mt-[20px]":"mt-[30px]"):"".concat(typeHide?"mt-[13px]":"mt-[22px]"," "):isLargerThanMD&&!isMobileLandscape&&isNotNormalSize?"".concat(typeHide?"mt-[24px]":"mt-[34px]"," h-[18px]"):"".concat(typeHide?"mt-[16px]":"mt-[26px]"," h-[16px]"):"",inputClassName),value,onChange,onKeyDown:function onKeyDown(e){var _searchInputRef$curre4;"Enter"===e.key&&(null===(_searchInputRef$curre4=searchInputRef.current)||void 0===_searchInputRef$curre4||_searchInputRef$curre4.blur())},disabled:!!disabled}),PwdInput_Input_jsx("div",{className:"flex h5:gap-4 web:gap-6 landscape:gap-4 items-center",onMouseDown:function onMouseDown(e){e.stopPropagation(),e.preventDefault()}},value&&focus&&!1===disabled?PwdInput_Input_jsx(xterio_icons_esm.IconClose24,{onClick:function onClick(){null==onClear||onClear()},className:classnames_default()(themeStyle.icon)}):null,"password"===type?hide?PwdInput_Input_jsx(xterio_icons_esm.IconShow24,{onClick:function onClick(){hideActions.setFalse()},className:classnames_default()(themeStyle.icon)}):PwdInput_Input_jsx(xterio_icons_esm.IconHide24,{onClick:function onClick(){hideActions.setTrue()},className:classnames_default()(themeStyle.icon)}):null,suffix)),showPasswordTips&&value&&focus&&isLargerThanMD&&!isMobileLandscape?PwdInput_Input_jsx(PasswordTips_PasswordTips,{password:value}):null),isLargerThanMD&&!isMobileLandscape||!showPasswordTips?null:PwdInput_Input_jsx(Ani_Ani,{heightClass:"max-h-[101px]",show:!(!value||!focus)},PwdInput_Input_jsx(PasswordTips_PasswordTips,{password:value})),PwdInput_Input_jsx(Ani_Ani,{heightClass:"max-h-12",show:error},PwdInput_Input_jsx("div",{className:"text-error text-xs leading-none pb-[2px] font-termina font-xlight pt-[8px] h5:landscape:pt-0.5 h5:landscape:pb-0 break-words"},errorMsg)))};function Input_CheckErrorLoginInput(props){var _useState2=(0,react.useState)(""),error=_useState2[0],setErrorMsg=_useState2[1],value=props.value,errorMsg=props.errorMsg,isError=props.isError,rest=(0,objectWithoutProperties.Z)(props,PwdInput_Input_excluded),onCheck=(0,useDebounceFn.Z)((function(value,isError,errorMsg){"function"!=typeof isError&&"boolean"!=typeof isError||(("function"==typeof isError?isError(value):isError)?("string"==typeof errorMsg&&setErrorMsg(errorMsg),"function"==typeof errorMsg&&setErrorMsg(errorMsg(Input_objectSpread(Input_objectSpread({},rest),{},{value})))):setErrorMsg(""))}),{wait:500});return(0,react.useEffect)((function(){setErrorMsg(""),onCheck.run(value,isError,errorMsg)}),[onCheck.run,value,isError,errorMsg]),PwdInput_Input_jsx(Input,(0,esm_extends.Z)({errorMsg:error,value},rest))}Input.displayName="Input",Input_CheckErrorLoginInput.displayName="CheckErrorLoginInput";try{Input_CheckErrorLoginInput.displayName="CheckErrorLoginInput",Input_CheckErrorLoginInput.__docgenInfo={description:"",displayName:"CheckErrorLoginInput",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},type:{defaultValue:{value:"email"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"email"'},{value:'"password"'},{value:'"verifyCode"'},{value:'"editControl"'}]}},size:{defaultValue:{value:"large"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"normal"'},{value:'"large"'}]}},inputClassName:{defaultValue:{value:""},description:"",name:"inputClassName",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"on"},description:"",name:"autoComplete",required:!1,type:{name:"enum",value:[{value:'"on"'},{value:'"off"'}]}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},suffix:{defaultValue:{value:"null"},description:"",name:"suffix",required:!1,type:{name:"Element | null"}},theme:{defaultValue:{value:"normal"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"dark"'}]}},showPasswordTips:{defaultValue:null,description:"",name:"showPasswordTips",required:!1,type:{name:"boolean"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},typeHide:{defaultValue:{value:"false"},description:"",name:"typeHide",required:!1,type:{name:"boolean"}},errorMsg:{defaultValue:{value:""},description:"",name:"errorMsg",required:!1,type:{name:"string | ((props: InputProps) => string)"}},isError:{defaultValue:null,description:"",name:"isError",required:!1,type:{name:"boolean | ((value: string) => boolean)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/PwdInput/Input.tsx#CheckErrorLoginInput"]={docgenInfo:Input_CheckErrorLoginInput.__docgenInfo,name:"CheckErrorLoginInput",path:"src/pages/settings/components/PwdInput/Input.tsx#CheckErrorLoginInput"})}catch(__react_docgen_typescript_loader_error){}try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{size:{defaultValue:{value:"large"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"normal"'},{value:'"large"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},inputClassName:{defaultValue:{value:""},description:"",name:"inputClassName",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"on"},description:"",name:"autoComplete",required:!1,type:{name:"enum",value:[{value:'"on"'},{value:'"off"'}]}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},suffix:{defaultValue:{value:"null"},description:"",name:"suffix",required:!1,type:{name:"Element | null"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},errorMsg:{defaultValue:{value:""},description:"",name:"errorMsg",required:!1,type:{name:"string"}},type:{defaultValue:{value:"email"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"email"'},{value:'"password"'},{value:'"verifyCode"'},{value:'"editControl"'}]}},typeHide:{defaultValue:{value:"false"},description:"",name:"typeHide",required:!1,type:{name:"boolean"}},theme:{defaultValue:{value:"normal"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"dark"'}]}},showPasswordTips:{defaultValue:null,description:"",name:"showPasswordTips",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/PwdInput/Input.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/pages/settings/components/PwdInput/Input.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}var PwdInput_excluded=["value","errorMsg","isError"],PwdInput_jsx=react.createElement;function PwdInput_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function PwdInput_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?PwdInput_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):PwdInput_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function PwdInput(props){var _useState=(0,react.useState)(""),error=_useState[0],setErrorMsg=_useState[1],value=props.value,errorMsg=props.errorMsg,isError=props.isError,rest=(0,objectWithoutProperties.Z)(props,PwdInput_excluded),onCheck=(0,useDebounceFn.Z)((function(value,isError,errorMsg){"function"!=typeof isError&&"boolean"!=typeof isError||(("function"==typeof isError?isError(value):isError)?("string"==typeof errorMsg&&setErrorMsg(errorMsg),"function"==typeof errorMsg&&setErrorMsg(errorMsg(PwdInput_objectSpread(PwdInput_objectSpread({},rest),{},{value})))):setErrorMsg(""))}),{wait:500});return(0,react.useEffect)((function(){onCheck.run(value,isError,errorMsg)}),[onCheck.run,value,isError,errorMsg]),PwdInput_jsx(Input,(0,esm_extends.Z)({theme:"dark",errorMsg:error,value},rest))}PwdInput.displayName="PwdInput";try{PwdInput.displayName="PwdInput",PwdInput.__docgenInfo={description:"",displayName:"PwdInput",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"email"'},{value:'"password"'},{value:'"verifyCode"'},{value:'"editControl"'}]}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"normal"'},{value:'"large"'}]}},inputClassName:{defaultValue:null,description:"",name:"inputClassName",required:!1,type:{name:"string"}},autoComplete:{defaultValue:null,description:"",name:"autoComplete",required:!1,type:{name:"enum",value:[{value:'"on"'},{value:'"off"'}]}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},suffix:{defaultValue:null,description:"",name:"suffix",required:!1,type:{name:"Element | null"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"dark"'}]}},showPasswordTips:{defaultValue:null,description:"",name:"showPasswordTips",required:!1,type:{name:"boolean"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},typeHide:{defaultValue:null,description:"",name:"typeHide",required:!1,type:{name:"boolean"}},errorMsg:{defaultValue:null,description:"",name:"errorMsg",required:!1,type:{name:"string | ((props: InputProps) => string)"}},isError:{defaultValue:null,description:"",name:"isError",required:!1,type:{name:"boolean | ((value: string) => boolean)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/PwdInput/index.tsx#PwdInput"]={docgenInfo:PwdInput.__docgenInfo,name:"PwdInput",path:"src/pages/settings/components/PwdInput/index.tsx#PwdInput"})}catch(__react_docgen_typescript_loader_error){}var PwdChangeModal_jsx=react.createElement,InnerType=function(InnerType){return InnerType.set="set",InnerType.change="change",InnerType.reset="reset",InnerType}(InnerType||{}),PwdChangeModal_PwdChangeModal=function PwdChangeModal(_ref){var _ref$type=_ref.type,type=void 0===_ref$type?InnerType.set:_ref$type,isOpen=_ref.isOpen,onClose=_ref.onClose,_useGlobalContext=(0,contexts.bN)(),userInfo=_useGlobalContext.userInfo,login=_useGlobalContext.login,sniffer=_useGlobalContext.sniffer,signInModalState=_useGlobalContext.signInModalState,logout=_useGlobalContext.logout,bindEmail=userInfo.email,password=userInfo.password,source=userInfo.source,_useSecondsCountdown=(0,hooks.zz)(),seconds=_useSecondsCountdown.seconds,startCountdown=_useSecondsCountdown.start,stopCountdown=_useSecondsCountdown.stop,noPwd=(0,react.useMemo)((function(){return 0===password&&0!==source}),[password,source]),hasEmailNoPwd=(0,react.useMemo)((function(){return bindEmail&&noPwd}),[bindEmail,noPwd]),_useState=(0,react.useState)(type),innerType=_useState[0],setInnerType=_useState[1];(0,react.useEffect)((function(){setInnerType(type)}),[type]);var _useMemo=(0,react.useMemo)((function(){return[innerType===InnerType.set,innerType===InnerType.change,innerType===InnerType.reset]}),[innerType]),isSetModal=_useMemo[0],isChangeModal=_useMemo[1],isResetModal=_useMemo[2],initialState=(0,react.useMemo)((function(){return{oldPassword:"",newPassword:"",confirmPassword:"",email:"",code:"",emailErrorMsg:"",codeErrorMsg:"",hasSend:!1}}),[]),_useSetState=(0,useSetState.Z)(initialState),_useSetState2=(0,slicedToArray.Z)(_useSetState,2),_useSetState2$=_useSetState2[0],oldPassword=_useSetState2$.oldPassword,newPassword=_useSetState2$.newPassword,confirmPassword=_useSetState2$.confirmPassword,email=_useSetState2$.email,code=_useSetState2$.code,emailErrorMsg=_useSetState2$.emailErrorMsg,codeErrorMsg=_useSetState2$.codeErrorMsg,hasSend=_useSetState2$.hasSend,setState=_useSetState2[1],innerOnClose=(0,react.useCallback)((function(){setInnerType(type),setState(initialState),null==onClose||onClose(),stopCountdown()}),[initialState,onClose,setState,stopCountdown,type]),_useState2=(0,react.useState)(""),oldPasswordErrMsg=_useState2[0],setOldPasswordErrMsg=_useState2[1];(0,react.useEffect)((function(){setOldPasswordErrMsg((0,LoginModal_const.oH)(oldPassword,"Password must be at least 8 characters with 1 upper case letter and 1 number"))}),[oldPassword]);var newPasswordErrMsg=(0,react.useMemo)((function(){return(0,LoginModal_const.oH)(newPassword,"Password must be at least 8 characters with 1 upper case letter and 1 number")}),[newPassword]),confirmPasswordErrMsg=(0,react.useMemo)((function(){return confirmPassword===newPassword?"":"The passwords don't match"}),[confirmPassword,newPassword]);(0,react.useEffect)((function(){setState({codeErrorMsg:""})}),[code,setState]),(0,react.useEffect)((function(){setState({hasSend:!1}),stopCountdown()}),[email,setState,stopCountdown]);var _useRequest=(0,es_useRequest.Z)((function(email){return bindEmail?(0,service.Z3)(bindEmail):(0,service.G8)(email)}),{debounceWait:300,manual:!0,onSuccess:function onSuccess(res){startCountdown(),setState({hasSend:!0})},onError:function onError(err){if((0,error.hF)(err))switch(err.err_code){case 11105:setState({emailErrorMsg:"This email address is bound to another account."});break;case 11008:setState({emailErrorMsg:"Please enter a new email address."});break;case 10001:setState({emailErrorMsg:"Invalid email."});break;default:setState({emailErrorMsg:err.err_msg})}}}),getEmailCode=_useRequest.run,_useRequest2=(0,es_useRequest.Z)((function(_ref2){var email=_ref2.email,code=_ref2.code,oldPassword=_ref2.oldPassword,newPassword=_ref2.newPassword;switch(innerType){case InnerType.set:if(!bindEmail&&noPwd)return(0,service.ku)({code,password:newPassword});if(hasEmailNoPwd)return(0,service.c0)(email,code,newPassword);if(!noPwd)return(0,service.gQ)({password:oldPassword,new_password:newPassword});case InnerType.change:return(0,service.gQ)({password:oldPassword,new_password:newPassword});case InnerType.reset:if(bindEmail)return(0,service.c0)(bindEmail,code,newPassword)}return Promise.resolve()}),{debounceWait:300,manual:!0,onSuccess:function onSuccess(res,params){innerType===InnerType.reset?(signInModalState.toLogin(LoginModal_const.Tg.ResetSuccess),logout()):(login(),!params[0].email&&params[0].code?noti.Z.noti("success","Account email and password set successfully."):params[0].email?noti.Z.noti("success","You have successfully set your password."):noti.Z.noti("success","Password changed.")),innerOnClose()},onError:function onError(err){(0,error.hF)(err)&&(11001===err.err_code?setOldPasswordErrMsg("Failed, wrong password."):11111===err.err_code?setState({codeErrorMsg:"Invalid verification code."}):(noti.Z.noti("error","Failed, please try again later."),(0,hooks.dO)("ChangePassword",{is_success:!1,fail_reason:err.err_code+err.err_msg})))}}),changePassword=(_useRequest2.loading,_useRequest2.run),btnDisabled=(0,react.useMemo)((function(){var newPwdError=!newPassword||!confirmPassword||confirmPassword!==newPassword,hasErrorMsg=!!(emailErrorMsg||codeErrorMsg||newPasswordErrMsg||confirmPasswordErrMsg||oldPasswordErrMsg);switch(innerType){case InnerType.set:return bindEmail?6!==code.length||!hasSend||newPwdError||hasErrorMsg:!email||6!==code.length||!hasSend||newPwdError||hasErrorMsg;case InnerType.change:return!oldPassword||newPwdError||hasErrorMsg;case InnerType.reset:return 6!==code.length||!hasSend||newPwdError||hasErrorMsg}}),[bindEmail,code.length,codeErrorMsg,confirmPassword,confirmPasswordErrMsg,email,emailErrorMsg,hasSend,innerType,newPassword,newPasswordErrMsg,oldPassword,oldPasswordErrMsg]);return PwdChangeModal_jsx(components.$o,{isOpen,onClose:innerOnClose,hideButtons:!0,className:"h5:px-10 web:px-12 pt-8 overflow-y-visible overflow-x-visible"},PwdChangeModal_jsx(flex_box.Ht,{className:classnames_default()("items-center","justify-start")},PwdChangeModal_jsx(xterio_icons_esm.IconResetPassword24,{className:"text-xdarkblue min-h-[64px]",size:"64"}),PwdChangeModal_jsx("div",{className:"mt-2 text-xsnug-base uppercase text-center font-termina font-xbold text-xdarkblue"},isSetModal&&"Set Password",isChangeModal&&"Change your password",isResetModal&&"Reset Password"),PwdChangeModal_jsx("p",{className:"mt-1.5 text-sm text-center font-poppins font-xextralight text-black/60"},isSetModal&&"You can use email and password to sign in to your account once set",isChangeModal&&"Change your sign in password",isResetModal&&"Use email verification code to reset your password")),PwdChangeModal_jsx(flex_box.Ht,null,isChangeModal?PwdChangeModal_jsx(react.Fragment,null,PwdChangeModal_jsx(PwdInput,{size:"normal",className:"mt-3 h5:mt-3 h5:landscape:mt-1.5",type:"password",theme:"dark",autoComplete:"off",isError:function isError(pwd){return(0,LoginModal_const.Gc)(pwd)||!!oldPasswordErrMsg},errorMsg:oldPasswordErrMsg,onClear:function onClear(){return setState({oldPassword:""})},onChange:function onChange(e){return setState({oldPassword:e.target.value})},value:oldPassword,placeholder:"OLD PASSWORD"}),PwdChangeModal_jsx("div",{onClick:function onClick(){setInnerType(InnerType.reset)},className:"w-[130px] mt-2 text-x-xs font-poppins font-medium uppercase text-black/60 underline"},"forget password")):PwdChangeModal_jsx(react.Fragment,null,isSetModal&&bindEmail||isResetModal?PwdChangeModal_jsx("h3",{className:"mt-6 text-x-sm font-poppins font-medium text-black/60"},"Account email : ",(0,utils.Yy)(bindEmail)):PwdChangeModal_jsx(react.Fragment,null,PwdChangeModal_jsx("label",{htmlFor:"email",className:"mt-2 relative group peer w-full h-12 cursor-text font-termina rounded-full px-8 border-2 focus-within:border-xdarkblue ".concat(emailErrorMsg&&email?"border-[#F53F3F]":"border-xgray/40 hover:border-xdarkblue"," ")},PwdChangeModal_jsx("div",{className:"absolute group-focus-within:top-1.5 group-focus-within:text-x-xs transition-all ".concat(email?"top-1.5 text-x-xs":"text-x-sm top-[15px] opacity-40"," text-xgray font-termina font-medium")},PwdChangeModal_jsx("span",{className:"align-[0em] uppercase"},"New Email")),PwdChangeModal_jsx("div",{className:"flex items-center"},PwdChangeModal_jsx("input",{className:classnames_default()("w-full mt-[22px] pr-4 h-[14px] inline-block text-x-sm font-xbold text-xdarkblue outline-none bg-transparent",sniffer.isSafari&&"!h-5 mt-5"),value:email,onChange:function onChange(e){setState({email:e.target.value.trim()})},onFocus:function onFocus(){setState({emailErrorMsg:""})},onBlur:function onBlur(){setState({emailErrorMsg:(0,utils.Jh)(email)?"":"Invalid email."})},id:"email",autoComplete:"off"})),email&&PwdChangeModal_jsx(xterio_icons_esm.IconClose24,{onMouseDown:function onMouseDown(e){e.stopPropagation(),e.preventDefault()},className:"group-focus-within:block hidden absolute top-[10px] right-4 cursor-pointer text-[#c4c4c4]",onClick:function onClick(){setState({email:""})}})),!!emailErrorMsg&&!!email&&PwdChangeModal_jsx("span",{className:"peer-focus-within:hidden mt-2 text-x-xs font-termina font-light text-[#F53F3F]"},emailErrorMsg)),PwdChangeModal_jsx("label",{htmlFor:"code",className:"mt-3 pl-8 pr-4 relative flex flex-row items-center group w-full h-12 cursor-text font-termina rounded-full border-2 focus-within:border-xdarkblue ".concat(codeErrorMsg?"border-[#F53F3F]":"border-xgray/40 hover:border-xdarkblue"," ")},PwdChangeModal_jsx("div",{className:"flex items-center"},PwdChangeModal_jsx("input",{value:code,onChange:function onChange(e){setState({code:e.target.value.replace(/[^0-9]/gi,"").slice(0,6)})},onFocus:function onFocus(){setState({codeErrorMsg:""})},onBlur:function onBlur(){setState({codeErrorMsg:code?(0,utils.y2)(code)?"":"Invalid code.":""})},id:"code",autoComplete:"off",placeholder:hasSend?"VERIFICATIO...":"VERIFICATION CODE",className:"w-full h-[18px] placeholder:font-medium placeholder:opacity-40 inline-block text-x-sm font-xbold text-xdarkblue outline-none bg-transparent"})),code&&PwdChangeModal_jsx(xterio_icons_esm.IconClose24,{onMouseDown:function onMouseDown(e){e.stopPropagation(),e.preventDefault()},onClick:function onClick(){setState({code:""})},className:"group-focus-within:block hidden flex-shrink-0 mr-6 ml-1 cursor-pointer text-[#c4c4c4]"}),PwdChangeModal_jsx("button",{disabled:seconds>0||!bindEmail&&!(0,utils.Jh)(email),onClick:function onClick(){getEmailCode(email),(0,hooks.dO)("code_send_button",{email:bindEmail})},className:"disabled:text-lightblue/40 disabled:font-medium text-x-sm font-xbold text-xcyan"},hasSend?"RESEND":"SEND",seconds>0?"(".concat(seconds,"s)"):"")),codeErrorMsg&&PwdChangeModal_jsx("span",{className:"mt-2 text-x-xs font-termina font-light text-[#F53F3F]"},codeErrorMsg)),PwdChangeModal_jsx(PwdInput,{size:"normal",className:"mt-3 h5:mt-3 h5:landscape:mt-1.5",type:"password",theme:"dark",autoComplete:"off",showPasswordTips:!0,errorMsg:newPasswordErrMsg,isError:LoginModal_const.Gc,onClear:function onClear(){return setState({newPassword:""})},onChange:function onChange(e){return setState({newPassword:e.target.value})},value:newPassword,placeholder:"NEW PASSWORD"}),PwdChangeModal_jsx(PwdInput,{size:"normal",className:"mt-3 h5:landscape:mt-1.5",type:"password",autoComplete:"off",theme:"dark",errorMsg:confirmPasswordErrMsg,isError:function isError(confirmPassword){return!!confirmPassword&&confirmPassword!==newPassword},onClear:function onClear(){return setState({confirmPassword:""})},onChange:function onChange(e){return setState({confirmPassword:e.target.value})},value:confirmPassword,placeholder:"CONFIRM PASSWORD"})),PwdChangeModal_jsx("div",{className:"mt-8 pb-8"},PwdChangeModal_jsx(components.zx,{type:"confirm",onClick:function onClick(){switch(innerType){case InnerType.set:changePassword(bindEmail?{email:bindEmail,code,newPassword}:{email,code,newPassword});break;case InnerType.change:changePassword({oldPassword,newPassword});break;case InnerType.reset:changePassword({code,newPassword})}(0,hooks.dO)("password_submit",{email:bindEmail})},disabled:btnDisabled,className:"!w-full"},"CONFIRM")))};PwdChangeModal_PwdChangeModal.displayName="PwdChangeModal";try{PwdChangeModal_PwdChangeModal.displayName="PwdChangeModal",PwdChangeModal_PwdChangeModal.__docgenInfo={description:"",displayName:"PwdChangeModal",props:{type:{defaultValue:{value:"InnerType.set"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"reset"'},{value:'"set"'},{value:'"change"'}]}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},callback:{defaultValue:null,description:"",name:"callback",required:!1,type:{name:"((state: FormState) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/components/PwdChangeModal.tsx#PwdChangeModal"]={docgenInfo:PwdChangeModal_PwdChangeModal.__docgenInfo,name:"PwdChangeModal",path:"src/pages/settings/components/PwdChangeModal.tsx#PwdChangeModal"})}catch(__react_docgen_typescript_loader_error){}var SecuritySetting_jsx=react.createElement,DataMapConfig=[{title:"2FA Secure Email",desc:"Secure your account and assets",icon:xterio_icons_esm.Icon2FApassword24,tip:"Your account has not set up a 2FA secure email address. Please set it up as soon as possible to secure your account and assets."},{title:"sign in password",desc:"Manage your sign in password",icon:xterio_icons_esm.IconResetPassword24,tip:"Your account has not yet set a sign in password"}],EmailView=function EmailView(_ref){var className=_ref.className,email=_ref.email;return email?SecuritySetting_jsx("div",{className:classNames("flex flex-row items-center",className)},SecuritySetting_jsx("div",{className:"mr-1 w-4 h-4 flex items-center justify-center rounded-full bg-xgreen"},SecuritySetting_jsx(IconCheckRight12,{className:"text-background"})),SecuritySetting_jsx("span",{className:"text-xwhite/60 text-x-sm font-xextralight font-poppins"},truncEmail(email))):null},SecuritySetting_SecuritySetting=function SecuritySetting(){usePageMountTrack("security_setting");var _useBoolean=useBoolean(!1),_useBoolean2=_slicedToArray(_useBoolean,2),isOpen=_useBoolean2[0],_useBoolean2$=_useBoolean2[1],setTrue=_useBoolean2$.setTrue,setFalse=_useBoolean2$.setFalse,_useGlobalContext=useGlobalContext(),userInfo=_useGlobalContext.userInfo,sniffer=_useGlobalContext.sniffer,bindEmail=userInfo.email,password=userInfo.password,source=userInfo.source,user2faEmail=userInfo.user2fa.email,noPwd=useMemo((function(){return 0===password&&0!==source}),[password,source]);return SecuritySetting_jsx(React.Fragment,null,SecuritySetting_jsx(FontHeader,{text:"ADVANCED SECURITY",className:"web:max-w-[928px] h5:mt-8"}),SecuritySetting_jsx("main",{className:"web:mt-10 h5:mt-6 h5:mx-4"},DataMapConfig.map((function(item,index){var isSeted=0===index&&!!user2faEmail||1===index&&!noPwd,email=0===index?user2faEmail:bindEmail;return SecuritySetting_jsx("div",{className:classNames("web:w-[640px] pb-6 ",0!==index?"pt-6 border-t-[1px] border-xwhite/10":""),key:index},!isSeted&&SecuritySetting_jsx("div",{className:"bg-xpink/20 px-3 py-2 flex flex-row items-center"},SecuritySetting_jsx(IconWalletInfo12,{className:"mr-2 text-xpink"}),SecuritySetting_jsx("span",{className:"flex-1 text-xpink text-xs font-poppins font-xmedium"},item.tip)),SecuritySetting_jsx("div",{className:classNames("mt-3 flex flex-row items-center justify-between")},SecuritySetting_jsx("div",{className:"flex flex-row items-center"},item.icon&&SecuritySetting_jsx(item.icon,{size:24,className:"mr-3 h5:mr-2"}),SecuritySetting_jsx("div",{className:"flex flex-col mr-[65px]"},SecuritySetting_jsx("span",{className:"text-xwhite text-x-base font-termina font-xbold capitalize h5:text-x-sm"},item.title),SecuritySetting_jsx("span",{className:"mt-2 text-xwhite/60 text-x-sm font-xextralight font-poppins"},item.desc),SecuritySetting_jsx(H5,null,SecuritySetting_jsx(EmailView,{className:"mt-2",email})))),SecuritySetting_jsx("div",{className:"flex flex-row items-center"},SecuritySetting_jsx(Web,null,SecuritySetting_jsx(EmailView,{className:"mr-4",email})),0===index&&isSeted&&SecuritySetting_jsx(With2faChangeModal,null,SecuritySetting_jsx(Button,{width:sniffer.isMobile?88:140,size:sniffer.isMobile?"md":"lg",id:"account_2fa_change","data-sensors-click":!0,type:"ghost",btnText:"change"})),0===index&&!isSeted&&SecuritySetting_jsx(With2faSetModal,null,SecuritySetting_jsx(Button,{width:sniffer.isMobile?88:140,size:sniffer.isMobile?"md":"lg",id:"account_2fa_set","data-sensors-click":!0,type:"linear",btnText:"set"})),1===index&&SecuritySetting_jsx(Button,{onClick:setTrue,width:sniffer.isMobile?88:140,size:sniffer.isMobile?"md":"lg",type:isSeted?"ghost":"linear",btnText:isSeted?"change":"set"}))))})),SecuritySetting_jsx(PwdChangeModal,{type:noPwd?"set":"change",isOpen,onClose:setFalse})))};try{SecuritySetting_SecuritySetting.displayName="SecuritySetting",SecuritySetting_SecuritySetting.__docgenInfo={description:"",displayName:"SecuritySetting",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/SecuritySetting.tsx#SecuritySetting"]={docgenInfo:SecuritySetting_SecuritySetting.__docgenInfo,name:"SecuritySetting",path:"src/pages/settings/SecuritySetting.tsx#SecuritySetting"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./src/components/connect-wallet-portal-with-loading/index.tsx"),__webpack_require__("./src/components/layouts/header/Wallets/PairedWalletCard.tsx"),__webpack_require__("./src/components/layouts/header/Wallets/WalletAddress.tsx"),__webpack_require__("./src/components/layouts/header/Wallets/useAutoBindWallet.tsx"),__webpack_require__("./src/components/layouts/header/Wallets/useInitPnWallet.tsx"),__webpack_require__("./src/components/pn-wallet/PNWalletModal.tsx");var Wallet_jsx=react.createElement,Wallet_Wallet=function Wallet(_ref){_ref.avatars;var _walletWithPnEoa$find,_walletWithPnEoa$find2,_useResponsive=useResponsive(["md"]),isLargerThanMD=_slicedToArray(_useResponsive,1)[0],_useGlobalContext=(useDappWalletConnect().disconnect,useGlobalContext()),userInfo=_useGlobalContext.userInfo,pnWallet=_useGlobalContext.pnWallet,walletsOpen=_useGlobalContext.walletsOpen,_userInfo$walletWithP=userInfo.walletWithPnEoa,walletWithPnEoa=void 0===_userInfo$walletWithP?[]:_userInfo$walletWithP,isLogin=pnWallet.isLogin,erc4337On=pnWallet.erc4337On,_useAutoBindWallet=useAutoBindWallet(!walletsOpen),isPortalShow=_useAutoBindWallet.isPortalShow,loadingKey=_useAutoBindWallet.loadingKey,onClose=_useAutoBindWallet.onClose,onOpen=_useAutoBindWallet.onOpen,onConnectItem=_useAutoBindWallet.onConnectItem,_useInitPnWallet=useInitPnWallet(),initPNWallet=_useInitPnWallet.initPNWallet,loading=_useInitPnWallet.loading,_useBoolean=useBoolean(!1),_useBoolean2=_slicedToArray(_useBoolean,2),pnWalletOpen=_useBoolean2[0],setPnWalletOpenOpen=_useBoolean2[1],_useState=useState(Math.random()),randomParam=_useState[0],setRandomParam=_useState[1],userAAWalletAddress=null===(_walletWithPnEoa$find=walletWithPnEoa.find((function(w){return 2===w.source})))||void 0===_walletWithPnEoa$find?void 0:_walletWithPnEoa$find.address,userEoaWalletAddress=null===(_walletWithPnEoa$find2=walletWithPnEoa.find((function(w){return 1===w.source})))||void 0===_walletWithPnEoa$find2?void 0:_walletWithPnEoa$find2.address,userLinkWallet=walletWithPnEoa.filter((function(i){return 0===i.source})).sort((function(a,b){return Number(null==b?void 0:b.isConnect)-Number(null==a?void 0:a.isConnect)}));return Wallet_jsx(React.Fragment,null,Wallet_jsx(FontHeader,{text:"WALLET",className:"h5:mt-8"}),Wallet_jsx("main",{className:"h5:mx-4"},Wallet_jsx("section",{className:"web:mt-10 h5:mt-8"},Wallet_jsx("h3",{className:"font-termina font-medium web:text-x-sm h5:text-x-xs text-xwhite/60 uppercase"},Wallet_jsx("span",null,"Xterio wallet")," ",Wallet_jsx("span",{className:"font-poppins"},"(",userAAWalletAddress?1:0,")")),Wallet_jsx(CutCornerCard,{onClick:function onClick(){userAAWalletAddress&&(erc4337On(!0),setRandomParam(Math.random()),setPnWalletOpenOpen.setTrue())},className:classNames("flex items-center justify-between web:w-[640px] h5:h-[64px] web:h-[80px] h5:mt-3 web:mt-4 h5:px-3 web:pl-6 web:pr-4","bg-gradient-to-l","to-[#6221EB]/[.4] from-[#6221EB]/[.1]","web:hover:to-[#6221EB]/[.6] web:hover:from-[#6221EB]/[.2]","text-xwhite/75",{"cursor-pointer":!!userAAWalletAddress}),cutSize:isLargerThanMD?"lg":"sm"},Wallet_jsx("span",{className:"flex items-center"},Wallet_jsx("span",{className:"flex items-center justify-center h5:w-8 h5:h-8 web:w-10 web:h-10 rounded-full bg-xwhite/5 text-xdarkblue"},Wallet_jsx(IconLogoScalable,{color:"white",size:isLargerThanMD?24:16})),Wallet_jsx("span",{className:"flex-1 web:ml-4 h5:ml-2"},userAAWalletAddress?Wallet_jsx(WalletAddress,{tip:!0,address:userAAWalletAddress,isConnect:isLogin,addressClass:"web:text-x-base h5:text-x-sm font-bold"}):Wallet_jsx("span",{className:"web:text-x-base h5:text-x-sm font-bold text-xwhite"},"Xterio wallet"),Wallet_jsx("span",{className:"block web:max-w-[400px] text-xs text-xwhite/40 font-poppins font-[275] break-words"},"Powered by Particle Network"))),userAAWalletAddress?Wallet_jsx(IconArrow16,{className:"-rotate-90 text-xwhite/30"}):Wallet_jsx(Button,{loading,onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),loading||initPNWallet()},loadingWeight:2,loadingVariant:"white",className:classNames("web:!w-[140px] web:!h-10 h5:!w-[100px] h5:!h-8 !text-xwhite !border-xwhite",loading?"cursor-default web:hover:!text-xwhite web:hover:!bg-transparent !px-2":"web:hover:!text-xdarkblue web:hover:!bg-xwhite"),loadingSize:isLargerThanMD?16:12,size:isLargerThanMD?"lg":"md",btnText:"OBTAIN",type:"ghost",id:"wallet_manage_obtain","data-sensors-click":!0})),userEoaWalletAddress&&Wallet_jsx(FlexCol,{className:"items-center web:w-[640px] w-full h5:mt-3 web:mt-4"},Wallet_jsx(FlexRow,{className:"items-center w-full px-3 py-2 font-poppins font-medium text-xpink/60 text-x-xs bg-xpink/10 "},Wallet_jsx(IconWalletInfo12,{className:"mr-1"}),Wallet_jsx("span",null,"The Legacy Platform Wallet has been upgraded and can no longer be used")),Wallet_jsx(CutCornerCard,{onClick:function onClick(){userEoaWalletAddress&&(erc4337On(!1),setRandomParam(Math.random()),setPnWalletOpenOpen.setTrue())},className:classNames("flex items-center justify-between w-full h5:h-[64px] web:h-[80px] h5:px-3 web:pl-6 web:pr-4 bg-xwhite/5 web:hover:bg-xwhite/10 text-xwhite/5",{"cursor-pointer":!!userEoaWalletAddress}),cutSize:isLargerThanMD?"lg":"sm"},Wallet_jsx(FlexRow,{className:"items-center"},Wallet_jsx("span",{className:"flex items-center justify-center h5:w-8 h5:h-8 web:w-10 web:h-10 rounded-full bg-xwhite/5 text-xdarkblue"},Wallet_jsx(IconLogoScalable,{color:"white",className:"opacity-30",size:isLargerThanMD?24:16})),Wallet_jsx("span",{className:"flex-1 web:ml-4 h5:ml-2"},Wallet_jsx(WalletAddress,{address:userEoaWalletAddress,isConnect:isLogin,addressClass:"web:text-x-base h5:text-x-sm font-bold !text-xwhite/30",iconClass:"opacity-30"}),Wallet_jsx("span",{className:"mt-1.5 block web:max-w-[400px] text-xs text-xwhite/30 font-poppins font-[275] break-words"},"Powered by Particle Network"))),Wallet_jsx(IconArrow16,{className:"-rotate-90 text-xwhite/30"})))),Wallet_jsx("section",{className:"mt-10"},Wallet_jsx("h3",{className:"font-termina font-medium web:text-x-sm h5:text-x-xs text-xwhite/60 uppercase"},Wallet_jsx("span",null,"Paired wallet")," ",Wallet_jsx("span",{className:"font-poppins"},"(",userLinkWallet.length,")")),Wallet_jsx("ul",{className:"grid grid-col-1 gap-3 h5:pt-2 web:pt-4 "},userLinkWallet.sort((function(i){return i.is_invalid?1:-1})).map((function(wallet){return Wallet_jsx(PairedWalletCard,_extends({},wallet,{key:wallet.address}))}))),Wallet_jsx(CutCornerCard,{border:!0,borderWidth:1,borderCls:"bg-xwhite/10 web:group-hover/parent:bg-transparent",onClick:onOpen,className:"group/parent flex items-center justify-center web:w-[640px] h-[40px] h5:mt-2 web:mt-4 h5:px-4 web:px-6 web:hover:bg-xwhite/10 hover:cursor-pointer text-xwhite/60 uppercase",cutSize:isLargerThanMD?"md":"sm",id:"wallet_manage_addnew","data-sensors-click":!0},Wallet_jsx(IconPlus16,null),Wallet_jsx("span",{className:"ml-[6px] font-bold"},"Add Wallet"))),Wallet_jsx(PNWalletModal,{isOpen:pnWalletOpen,randomParam,onClose:setPnWalletOpenOpen.setFalse,overlayColor:"rgba(20, 20, 48, 0.7)"}),Wallet_jsx(ConnectWalletPortalWithLoading,{isOpen:isPortalShow,onConnectItem,onClose,loadingKey})))};try{Wallet_Wallet.displayName="Wallet",Wallet_Wallet.__docgenInfo={description:"",displayName:"Wallet",props:{avatars:{defaultValue:null,description:"",name:"avatars",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/Wallet.tsx#Wallet"]={docgenInfo:Wallet_Wallet.__docgenInfo,name:"Wallet",path:"src/pages/settings/Wallet.tsx#Wallet"})}catch(__react_docgen_typescript_loader_error){}var Settings_jsx=react.createElement;function Settings_createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function Settings_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return Settings_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Settings_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function Settings_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function Settings_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Settings_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Settings_ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Settings_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Tab=function(Tab){return Tab.ProfileSetting="profile",Tab.AccountInfo="account",Tab.Wallet="wallet",Tab.ChangePassword="password",Tab.Security="security",Tab}({}),TabMap=new Map([[Tab.ProfileSetting,{index:0,text:"Profile",svg:xterio_icons_esm.IconQuiz24,track_info:"profile_tab"}],[Tab.AccountInfo,{index:1,text:"Account",svg:xterio_icons_esm.IconUser24,track_info:"account_tab"}],[Tab.Wallet,{index:2,text:"Wallet",svg:xterio_icons_esm.IconWalletConnected24,track_info:"wallet_tab"}],[Tab.Security,{index:3,text:"Security",svg:xterio_icons_esm.IconResetPassword24,track_info:"security_tab"}]]),Settings=function Settings(){var userInfo=useGlobalContext().userInfo,_useResponsive=useResponsive("md"),isLargeThanMdSize=_slicedToArray(_useResponsive,1)[0],router=useRouter(),queryTab=router.query.tab,_useState=useState(queryTab||Tab.ProfileSetting),activeTab=_useState[0],setActiveTab=_useState[1],elRefs=useMemo((function(){return Array(TabMap.size).fill(0).map((function(){return createRef()}))}),[]);useEffect((function(){if(setActiveTab(queryTab||Tab.ProfileSetting),elRefs.length>0&&!isLargeThanMdSize)var timer=setTimeout((function(){var _elRefs,_TabMap$get;null===(_elRefs=elRefs[(null===(_TabMap$get=TabMap.get(queryTab))||void 0===_TabMap$get?void 0:_TabMap$get.index)||0])||void 0===_elRefs||null===(_elRefs=_elRefs.current)||void 0===_elRefs||_elRefs.click(),clearTimeout(timer)}),100)}),[elRefs,isLargeThanMdSize,queryTab]);var handleItemClick=function handleItemClick(tab){return function(_ref){var getItemById=_ref.getItemById,scrollToItem=_ref.scrollToItem;if(dragging)return!1;setActiveTab(tab),router.replace({pathname:router.pathname,query:Settings_objectSpread(Settings_objectSpread({},router.query),{},{tab})},void 0,{shallow:!0}),scrollToItem(getItemById(tab),"smooth","center","nearest")}},_useDrag=useDrag(),dragStart=_useDrag.dragStart,dragStop=_useDrag.dragStop,dragMove=_useDrag.dragMove,dragging=_useDrag.dragging,_useState2=useState([]),avatars=_useState2[0],setAvatars=_useState2[1];return useEffect((function(){_asyncToGenerator(_regeneratorRuntime.mark((function _callee(){var avatars;return _regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,getAvatars();case 2:avatars=_context.sent,isResultError(avatars)||setAvatars(avatars);case 4:case"end":return _context.stop()}}),_callee)})))()}),[]),useEffect((function(){var _step,preloadImage=function preloadImage(url){(new Image).src=url},_iterator=Settings_createForOfIteratorHelper(avatars);try{for(_iterator.s();!(_step=_iterator.n()).done;){preloadImage(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}),[avatars]),userInfo.isLogin?Settings_jsx(React.Fragment,null,Settings_jsx("section",{className:"flex web:flex-row h5:flex-col web:mx-auto web:w-[1200px] pt-[72px] font-termina text-xs text-xwhite"},Settings_jsx(Web,null,Settings_jsx("nav",{className:"w-[240px] mr-[32px] text-base"},Array.from(TabMap.entries()).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),tab=_ref5[0],_ref5$=_ref5[1],text=_ref5$.text,Svg=_ref5$.svg,track_info=_ref5$.track_info,words=text.split(" ");return Settings_jsx("button",{key:tab,id:track_info,onClick:function onClick(){setActiveTab(tab),router.replace({pathname:router.pathname,query:Settings_objectSpread(Settings_objectSpread({},router.query),{},{tab})},void 0,{shallow:!0})},className:"flex items-center w-[240px] h-[64px] leading-[64px] mb-3 pl-4 rounded-full ".concat(tab===activeTab?"text-xwhite bg-xwhite-op10 font-xbold":"text-xwhite-op60 font-medium hover:font-xbold hover:bg-xwhite-op05  hover:text-xwhite")},Settings_jsx("span",null,Settings_jsx(Svg,null)),Settings_jsx("div",{className:"ml-[8px] text-base leading-[22px] text-left"},Settings_jsx("p",null,words[0]),Settings_jsx("p",null,words[1])))})))),Settings_jsx(H5,null,Settings_jsx("nav",{onMouseLeave:dragStop,className:"fixed z-[19] top-20 left-0 right-0 h-12 text-base leading-[46px] font-bold text-xwhite-op60 bg-background"},Settings_jsx(ScrollMenu,{onMouseDown:function onMouseDown(){return dragStart},onMouseUp:function onMouseUp(_ref6){var getItemById=_ref6.getItemById,scrollToItem=_ref6.scrollToItem,visibleItems=_ref6.visibleItems;return function(){dragStop();var center=getItemsPos(visibleItems).center;scrollToItem(getItemById(center),"smooth","center")}},options:{throttle:0},onMouseMove:function handleDrag(_ref2){var scrollContainer=_ref2.scrollContainer;return function(ev){return dragMove(ev,(function(posDiff){scrollContainer.current&&(scrollContainer.current.scrollLeft+=posDiff)}))}}},Array.from(TabMap.entries()).map((function(_ref7,i){var _ref8=_slicedToArray(_ref7,2),tab=_ref8[0],text=_ref8[1].text;return Settings_jsx(Content,{key:tab,index:i,eleRef:elRefs[i],active:tab===activeTab,text:text.toLocaleUpperCase(),onClick:handleItemClick(tab)})}))))),Settings_jsx("section",{className:"flex-1 web:pb-[240px] h5:pt-12 h5:pb-20"},[Settings_jsx(ProfileSetting,{avatars,key:Tab.ProfileSetting}),Settings_jsx(AccountInfo,{key:Tab.AccountInfo}),Settings_jsx(Wallet,{key:Tab.Wallet,avatars}),Settings_jsx(ChangePassword,{key:Tab.ChangePassword}),Settings_jsx(SecuritySetting,{key:Tab.Security})].filter((function(comp){return String(activeTab)===comp.key}))))):Settings_jsx(AssetLogin,null)},Content=function Content(_ref9){_ref9.index;var active=_ref9.active,text=_ref9.text,eleRef=_ref9.eleRef,_onClick=_ref9.onClick,visibility=(0,react.useContext)(index_umd.VisibilityContext);return Settings_jsx("div",{ref:eleRef,onClick:function onClick(){return _onClick(visibility)},className:"inline-block whitespace-nowrap mx-4 ".concat(active?" text-xwhite border-b-2 border-white":"")},text)};Content.displayName="Content";try{Settings.displayName="Settings",Settings.__docgenInfo={description:"",displayName:"Settings",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/settings/Settings.tsx#Settings"]={docgenInfo:Settings.__docgenInfo,name:"Settings",path:"src/pages/settings/Settings.tsx#Settings"})}catch(__react_docgen_typescript_loader_error){}var copy=__webpack_require__("./src/components/layouts/copy.tsx"),PersonalCenter_jsx=react.createElement,PersonalCenter=function PersonalCenter(){var prevAccessiblePagePath=(0,contexts.k6)().prevAccessiblePagePath,router=(0,next_router.useRouter)(),_useResponsive=(0,hooks.Fs)("md"),isLargeThanMdSize=(0,slicedToArray.Z)(_useResponsive,1)[0],_useEventTrack=(0,hooks.SR)(),eventTrack=_useEventTrack.eventTrack,userLogoutTrackClear=_useEventTrack.userLogoutTrackClear,_useGlobalContext=(0,contexts.bN)(),userInfo=_useGlobalContext.userInfo,logout=_useGlobalContext.logout,closePersonalCenter=_useGlobalContext.closePersonalCenter,hide_sign_out=_useGlobalContext.hide_sign_out,_userInfo$uuid=userInfo.uuid,uuid=void 0===_userInfo$uuid?"":_userInfo$uuid,signOut=(0,react.useCallback)((0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){var jwt,_getJWTPayloadByStrin,aud,awsAuthorizedUrl,logout_uri,_logout_uri,_globalThis$location,pathName;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return jwt=js_cookie.Z.get("_id_token"),_getJWTPayloadByStrin=(0,check.tR)(jwt),aud=_getJWTPayloadByStrin.aud,_context.next=4,logout();case 4:closePersonalCenter(),noti.Z.noti("success","Sign out successful"),eventTrack("logout"),userLogoutTrackClear(),"1"===localStorage.getItem("isNew")?(localStorage.setItem("isNew",""),awsAuthorizedUrl=config_login.wv.awsAuthorizedUrl,logout_uri=config_login.wv.logout_uri,_logout_uri=("localhost"===location.hostname?"http://":"https://")+location.host+logout_uri,window.location.href="".concat(awsAuthorizedUrl,"?client_id=").concat(aud,"&logout_uri=").concat(_logout_uri)):(((pathName=(null===(_globalThis$location=globalThis.location)||void 0===_globalThis$location?void 0:_globalThis$location.pathname)||"").startsWith("/settings")||pathName.startsWith("/asset"))&&router.push("/"),pathName.startsWith("/fans/ai")&&router.push("/fans/create"));case 10:case"end":return _context.stop()}}),_callee)}))),[logout,closePersonalCenter,eventTrack,router,prevAccessiblePagePath]),avatarUrl=(0,react.useMemo)((function(){return userInfo.avatar?userInfo.avatar:"/icons/icon_login_user_h5.svg"}),[userInfo.avatar]);return PersonalCenter_jsx("div",{className:classnames_default()("fixed z-[21] text-xwhite","h5:flex h5:flex-col h5:left-0 h5:top-[78px] h5:w-full h5:h-full h5:pb-4  h5:overflow-scroll","web:top-[69px] web:right-[40px] web:w-[322px] web:bg-darkblue web:border web:border-transparent web:transition-opacity"),style:isLargeThanMdSize?{borderImage:"linear-gradient(to right, rgba(235,185,231, 0.2), rgba(158,230,252, 0.2)) 1"}:{},onClick:function onClick(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},PersonalCenter_jsx("div",{className:"h5:bg-background pt-6"},PersonalCenter_jsx("div",{className:"flex h-12 items-center h5:px-4 web:px-6"},PersonalCenter_jsx("span",{onClick:function onClick(){router.push("/settings?tab=profile")},style:{backgroundImage:"url(".concat(avatarUrl,")")},className:"w-12 h-12 rounded-full bg-cover cursor-pointer"}),PersonalCenter_jsx("div",{className:"flex-auto items-center mt-1 h5:ml-[13px] web:ml-[10px]"},PersonalCenter_jsx("pre",{className:"h5:w-[72vw] web:w-[213px] truncate text-xl leading-[20px] font-termina font-xbold"},userInfo.username||"Unnamed"),PersonalCenter_jsx("p",{className:"mt-1.5 flex items-center"},PersonalCenter_jsx("span",{className:"mr-1 font-termina text-xs font-xmedium text-xwhite/40"},"UID: ",null==uuid?void 0:uuid.slice(0,4),"...",null==uuid?void 0:uuid.slice(-4)),PersonalCenter_jsx(copy.Z,{text:uuid,size:16,className:"inline-block web:hover:text-xwhite web:hover:bg-xwhite/10 text-xwhite/40 cursor-pointer rounded-full"})))),PersonalCenter_jsx("div",{className:"mt-6"},PersonalCenter_jsx("div",{className:classnames_default()("relative bg-xwhite/5 font-termina","h5:mx-4 h5:mb-4 h5:pt-9 h5:pb-6","web:mx-3 web:mb-3 web:pt-7 web:pb-2")},PersonalCenter_jsx("span",{className:"absolute left-4 top-3 font-medium text-x-xs text-xwhite/40"},"Asset"),PersonalCenter_jsx(chunk_KRPLQIP4.k,{className:"items-center justify-center web:mx-auto"},PersonalCenter_jsx(link_default(),{href:"/fans/creator/".concat(uuid)},PersonalCenter_jsx(flex_box.Ht,{onClick:function onClick(){closePersonalCenter()},className:"items-center h5:w-[50%] h5:text-center web:w-[132px] web:h-[57px] web:justify-center web:hover:bg-xwhite/5 web:hover:cursor-pointer"},PersonalCenter_jsx(xterio_icons_esm.IconCreate24,null),PersonalCenter_jsx("span",{className:"text-x-xs mt-[5px] font-medium"},"Xter.AI"))),PersonalCenter_jsx(link_default(),{href:"/asset"},PersonalCenter_jsx(flex_box.Ht,{onClick:function onClick(){closePersonalCenter()},className:"items-center h5:w-[50%] h5:text-center web:w-[132px] web:h-[57px] web:justify-center web:hover:bg-xwhite/5 web:hover:cursor-pointer"},PersonalCenter_jsx(xterio_icons_esm.IconGameNormal24,{className:"group-hover:text-xgradient1"}),PersonalCenter_jsx("span",{className:"text-x-xs mt-[5px] font-medium"},"Game assets"))))),Array.from(TabMap).map((function(_ref2){var _ref3=(0,slicedToArray.Z)(_ref2,2),tab=_ref3[0],_ref3$=_ref3[1],text=_ref3$.text;_ref3$.svg;return PersonalCenter_jsx(link_default(),{href:"/settings?tab=".concat(tab),key:tab},PersonalCenter_jsx("div",{onClick:closePersonalCenter,className:classnames_default()("flex items-center text-sm font-termina font-xbold cursor-pointer","h5:h-16 h5:px-6 h5:leading-16","web:h-10 web:leading-10 web:mx-[13px] web:px-[11px] web:hover:bg-xwhite-op05")},PersonalCenter_jsx("span",{className:"font-termina font-medium"},text)))}))),PersonalCenter_jsx("hr",{className:"web:mx-[13px] h5:mx-6 my-3 border-xwhite-op10"}),!hide_sign_out&&PersonalCenter_jsx("div",{onClick:signOut,className:classnames_default()("flex items-center mb-3 text-sm font-termina font-xbold cursor-pointer","h5:h-16 h5:px-6 h5:leading-16","web:h-10 web:leading-10 web:mx-[13px] web:px-[11px] web:hover:bg-xwhite-op05")},PersonalCenter_jsx("span",{className:"font-termina font-medium"},"Sign out"))),PersonalCenter_jsx(components.H5,null,PersonalCenter_jsx("div",{className:"flex-1 bg-background bg-opacity-70",onClick:closePersonalCenter})))};PersonalCenter.displayName="PersonalCenter";try{PersonalCenter.displayName="PersonalCenter",PersonalCenter.__docgenInfo={description:"",displayName:"PersonalCenter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layouts/header/PersonalCenter.tsx#PersonalCenter"]={docgenInfo:PersonalCenter.__docgenInfo,name:"PersonalCenter",path:"src/components/layouts/header/PersonalCenter.tsx#PersonalCenter"})}catch(__react_docgen_typescript_loader_error){}}}]);